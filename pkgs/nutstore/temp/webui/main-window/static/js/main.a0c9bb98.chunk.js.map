{"version":3,"sources":["java-interop/java-task.ts","java-interop/java-event.ts","java-interop/java-func.ts","i18n/index.ts","java-api/check-java-api-ready.ts","hooks/index.ts","helpers/uuidv4.ts","helpers/string-format.ts","helpers/file-type.ts","java-api/common-api.ts","i18n/i18n-context.ts","hooks/use-force-update.ts","hooks/use-lazy-ref.ts","assets/error_icon.svg","assets/main-window/close.svg","assets/main-window/refresh.svg","assets/file-icons/unknown.svg","assets/light/welcome_logo_light.svg","assets/dark/welcome_logo_dark.svg","hooks/use-i18n-builder.ts","i18n/ui-images.ts","hooks/use-verifiable-value.ts","hooks/use-extra-error.ts","hooks/validation-rules.ts","hooks/use-resize-observer.ts","hooks/use-combined-refs.ts","assets/file-icons/ai.svg","assets/file-icons/apk.svg","assets/file-icons/audio.svg","assets/file-icons/code.svg","assets/file-icons/dwg.svg","assets/file-icons/eps.svg","assets/file-icons/excel.svg","assets/file-icons/folder.svg","assets/file-icons/gif.svg","assets/file-icons/image.svg","assets/file-icons/iso.svg","assets/file-icons/md.svg","assets/file-icons/nbmx.svg","assets/file-icons/ngm.svg","assets/file-icons/nol.svg","assets/file-icons/pdf.svg","assets/file-icons/ppt.svg","assets/file-icons/program.svg","assets/file-icons/ps.svg","assets/file-icons/tiff.svg","assets/file-icons/txt.svg","assets/file-icons/video.svg","assets/file-icons/word.svg","assets/file-icons/xmind.svg","assets/file-icons/zip.svg","assets/light/scene_light_1@2x.png","assets/light/scene_light_2@2x.png","assets/light/scene_light_3@2x.png","assets/light/scene_light_4@2x.png","assets/light/scene_light_1_en@2x.png","assets/light/scene_light_2_en@2x.png","assets/light/scene_light_3_en@2x.png","assets/light/scene_light_4_en@2x.png","assets/dark/scene_dark_1@2x.png","assets/dark/scene_dark_2@2x.png","assets/dark/scene_dark_3@2x.png","assets/dark/scene_dark_4@2x.png","assets/dark/scene_dark_1_en@2x.png","assets/dark/scene_dark_2_en@2x.png","assets/dark/scene_dark_3_en@2x.png","assets/dark/scene_dark_4_en@2x.png","assets/app-recommend/banner_1.png","assets/app-recommend/banner_2.png","assets/app-recommend/banner_3.png","assets/app-recommend/banner_4.png","assets/app-recommend/banner_1_en.png","assets/app-recommend/banner_2_en.png","assets/app-recommend/banner_3_en.png","assets/app-recommend/banner_4_en.png","assets/light/about_logo_light.svg","assets/dark/about_logo_dark.svg","assets/main-window/sidebar_hamburg.svg","assets/main-window/search.svg","assets/main-window/search_empty.svg","assets/main-window/folder.svg","assets/main-window/history.svg","assets/main-window/sync_state_locked.svg","assets/main-window/sync_state_placeholder_readonly.svg","assets/main-window/sync_state_placeholder.svg","assets/main-window/sync_state_readonly.svg","assets/main-window/sync_state_syncing.svg","assets/main-window/sync_state_uptodate.svg","assets/main-window/item_button_more.svg","assets/main-window/item_button_unpin.svg","assets/main-window/item_button_pin.svg","assets/main-window/folder_private.svg","assets/main-window/folder_public.svg","assets/main-window/menu_new.svg","assets/main-window/menu_share.svg","assets/main-window/menu_history.svg","assets/main-window/menu_exception.svg","assets/main-window/bookmarks_cancel.svg","assets/app-recommend/nbmx.svg","assets/app-recommend/ngm.svg","assets/app-recommend/nol.svg","assets/app-recommend/md.svg","assets/app-recommend/office_online.svg","assets/app-recommend/inbox.svg","assets/app-recommend/scanner.svg","assets/app-recommend/collection.svg","assets/app-recommend/outlook_addin.svg","assets/main-window/status_sync_error.svg","assets/main-window/status_sync_finish.svg","assets/main-window/status_sync_paused.svg","assets/main-window/status_sync_syncing.svg","assets/main-window/status_pause.svg","assets/main-window/status_play.svg","assets/right-arrow.svg","assets/left-arrow.svg","assets/warning_icon.svg","assets/info_icon.svg","assets/success_icon.svg","assets/main-window/decreate.svg","assets/main-window/increate.svg","assets/main-window/sidebar_recommend.svg","assets/main-window/sidebar_web.svg","components/dialog/dialog-manager.ts","components/dialog/dialog-host.tsx","components/items-control/carousel.tsx","components/items-control/switch-host.tsx","components/items-control/switch.tsx","components/tooltip/tooltip.tsx","components/items-control/hamburg-tab-control.tsx","components/layout-container/space.tsx","components/layout-container/scroll-viewer.tsx","components/items-control/virtualizing-list-box.tsx","components/items-control/combo-box.tsx","hooks/use-contextmenu-manager.ts","hooks/use-click-combo.ts","views/run-app.tsx","components/input/input.tsx","components/input/search-box.tsx","components/button/button.tsx","components/common-types.ts","components/items-control/context-menu.tsx","components/button/dropdown-button.tsx","components/highlight-span.tsx","java-api/main-window/main-window-api.ts","models/main-window/sync-folder-search-result-view-model.ts","helpers/list-helpers.ts","views/main-window/empty-view.tsx","views/main-window/sync-folder-search-result-view.tsx","hooks/use-throttle.ts","views/main-window/sync-folder-view.tsx","models/main-window/sync-folder-view-model.ts","models/main-window/recent-view-model.ts","views/main-window/recent-view.tsx","models/main-window/bookmarks-view-model.ts","views/main-window/bookmarks-view.tsx","models/main-window/app-info.ts","views/main-window/app-recommend-view.tsx","views/main-window/sync-state-popup.tsx","models/main-window/sync-state-bar-model.ts","views/main-window/sync-state-bar.tsx","java-api/launch-window/login-api.ts","java-api/launch-window/other.ts","java-api/launch-window/path-setting-api.ts","java-api/launch-window/proxy-settings-api.ts","models/main-window/account-info-view-model.ts","java-api/launch-window/sign-up-api.ts","components/input/check-switch.tsx","views/main-window/settings-view-template.tsx","views/main-window/account-info-view.tsx","views/main-window/settings-about-view.tsx","models/main-window/settings-about-view-model.ts","hooks/use-configure-value.ts","views/main-window/settings-general-view.tsx","models/main-window/settings-general-view-model.ts","views/launch-window/message-dialog.tsx","models/dialogs.tsx","models/launch-window/proxy-settings-model.ts","views/main-window/settings-network-view.tsx","components/input/slider-bar.tsx","components/input/numeric-input.tsx","views/main-window/settings-storage-view.tsx","models/main-window/settings-storage-view-model.ts","views/main-window/settings-view.tsx","components/items-control/hamburg-tab-header-item.tsx","assets/main-window/sidebar_folder.svg","assets/main-window/sidebar_recent.svg","assets/main-window/sidebar_bookmarks.svg","assets/main-window/sidebar_account.svg","assets/main-window/sidebar_settings.svg","views/main-window/window.tsx","views/main-window/index.tsx"],"names":["win","window","JavaTask","funcName","invokeToken","this","args","javaFunc","Promise","reject","id","getRandomCode","resolve","result","dispose","reason","call","JavaEventCenter","eventCenter","Map","channel","handler","has","set","get","push","handlers","toRemovedIndex","findIndex","item","splice","json","forEach","JSON","parse","undefined","subscribeJavaEvent","javaEventCenter","subscribe","importJavaFunc","fallback","fallbackOrThrow","error","message","Error","e","importJavaPromise","a","javaTask","run","jsonString","importJavaPromiseNonJson","useI18n","useI18nBuilder","useCallback","culture","resource","uiStrings_en_US","uiStrings_zh_CN","REQUIRED_JAVA_FUNCS","waitJavaApiReady","funcNameList","requiredFuncList","concat","requestAnimationFrame","step","every","uuidv4","replace","c","r","Math","random","toString","length","i","stringFormat","format","map","reduce","acc","index","bytesUnits","getDisplayStringBytes","bytesLength","fractionDigits","unitIndex","abs","toFixed","FILE_TYPE_MAP","type","exts","FILE_ICON_MAP","aiIcon","apkIcon","audioIcon","codeIcon","dwgIcon","epsIcon","excelIcon","folderIcon","gifIcon","imageIcon","isoIcon","mdIcon","nbmxIcon","ngmIcon","nolIcon","pdfIcon","pptIcon","programIcon","psIcon","tiffIcon","txtIcon","unknownIcon","videoIcon","wordIcon","xmindIcon","zipIcon","initializeFileIconMap","getFileIcon","getFileType","path","asFolderIfEmptyExt","ext","getFileExtension","matched","find","some","lastDotIndex","lastIndexOf","lastSeparatorIndex","max","slice","log","isDarkMode","isChineseLocale","openUrl","isEnterprise","openPath","openFileWithApp","isOSXPlatform","useIsOSXPlatform","useLazyRef","fileProviderEnabled","useIsFileProviderEnabled","badgeEnabled","useIsBadgeEnabled","shouldShowUpgradeToFileProviderEntry","useShouldShowUpgradeToFileProviderEntry","I18nContext","createContext","useForceUpdate","useState","triggerUpdate","oldValue","factory","ref","useRef","current","module","exports","resourcesProvider","currentCulture","useContext","useMemo","provider","finalResource","$t","key","useBannerImages","banner1","bannerImage1_zh_CN","banner2","bannerImage2_zh_CN","banner3","bannerImage3_zh_CN","banner4","bannerImage4_zh_CN","bannerImage1_en_US","bannerImage2_en_US","bannerImage3_en_US","bannerImage4_en_US","useAboutLogo","aboutLogo_dark","aboutLogo_light","RuleConfigurationImpl","rules","Array","assert","getError","useVerifiableValue","configure","initValue","ruleCollection","ruleConfiguration","addRule","setError","checkValue","value","rule","valueReducer","_state","action","newValue","withCheck","useReducer","dispatch","check","setOnly","useExtraError","deps","useEffect","REGEX_PASSCODE","RegExp","REGEX_NUMBER","noRules","usePasscodeRules","config","test","useIPRules","useNumberRules","useResizeObserver","targetRef","callback","target","ResizeObserver","resizeObserver","entities","entity","width","contentRect","height","observe","offsetWidth","offsetHeight","disconnect","handleResize","addEventListener","mutationObserver","MutationObserver","document","body","subtree","attributes","attributeFilter","removeEventListener","useCombinedRefs","refs","React","DialogManager","setCurrentDialog","dialogEntities","currentDialogEntity","setCurrentDialig","dialog","setCurrentDialogEntity","pop","DialogHostContext","DialogBuilderInternal","manager","_manager","close","show","useDialogBuilder","DialogHost","children","currentDialog","dialogManagerRef","contentPlaceholderClass","classNames","blur","maskLayerClass","active","className","Provider","initSlideData","selectedIndex","isStartToEnd","slideDataReducer","state","Carousel","autoplay","slideWidth","slideHeight","dispatchSlideData","slides","Children","toArray","token","setInterval","clearInterval","slideDots","buttonClass","selected","onClick","slideItemClass","style","CSSTransition","in","timeout","unmountOnExit","SwitchHostContext","useNavigator","switchName","context","viewName","props","navigate","SwitchHost","switchMap","registerSwitch","unregisterSwitch","delete","selectedNavigate","EMPTY_OBJECT","isEmptyObject","obj","Object","keys","constructor","Switch","name","cases","forceUpdate","loadedViewCache","selectedLabel","setSelectedLabel","toRemovedKeys","from","filter","label","left","right","node","selectedItem","viewCache","oldNextView","requireForceUpdate","newNextView","renderer","entries","view","appear","getContainerElement","container","createElement","appendChild","InvalidPoint","x","Number","MIN_SAFE_INTEGER","y","Tooltip","title","placement","contentRef","tooltipRef","position","setPosition","setActive","getBoundingClientRect","tooltipRect","tooltipRoot","contentClass","tooltipClass","cloneElement","onMouseEnter","onMouseLeave","ReactDOM","createPortal","top","maxWidth","visibility","HamburgTabControl","itemsSource","selectedKey","criticalSize","collapsedSidebarSize","expandedSidebarSize","footerBar","sidebarAddon","swicthName","wrapperRef","displayMode","setDisplayMode","isExpanded","setIsExpanded","setSelectedKey","updateSidebarStatus","size","isBigView","newDisplayMode","headers","header","navigator","prevValue","viewCases","content","wrapperClass","expanded","src","hamburgIcon","alt","SIZE_REGEX","assertProps","propName","count","values","Space","direction","align","aligns","sizes","inline","childrenCount","display","flexDirection","alignSelf","marginSize","isStarMark","matchGroup","exec","flex","parseInt","marginTop","marginLeft","ScrollViewer","forwardRef","scrollBarStyle","enableVerticalScrollBar","enableHorizontalScrollBar","onScroll","scrollContentRef","combinedRef","scrollBarTop","setScrollBarTop","scrollBarHeight","setScrollBarHeight","scrollBarLeft","setScrollBarLeft","scrollBarWidth","setScrollBarWidth","updateSize","viewWidth","clientWidth","viewHeight","clientHeight","ratio","scrollWidth","scrollLeft","scrollHeight","scrollTop","childList","activeHorizontalScrollBar","activeVerticalScrollBar","horizontalScrollBarClass","verticalScrollBarClass","handleScroll","barLeft","barTop","innerOnScroll","handleHorizontalScroll","delta","min","deltaX","deltaY","detail","onWheel","defaultProps","VirtualizingListBox","sizeProvider","renderItems","selectable","setSelectedIndex","viewSize","setViewSize","startIndex","setStartIndex","endIndex","setEndIndex","totalHeight","isFixedSizeProvider","itemCount","itemSize","newViewSize","viewStartIndex","floor","viewCount","ceil","extraItemCount","viewEndIndex","getItemsRangeForFixedItemSize","getItemsCount","getItemsRangeForUnfixedItemSize","getItemsRange","newStartIndex","newEndIndex","itemElements","offsetIndex","itemClass","getItemsSize","ComboBox","dropDownBoxWidth","dorpDownBoxHeight","setSelectedItem","renderItem","renderDisplayItem","selectedElementRef","onGlobalClick","scrollIntoView","comboBoxClass","dropDownBoxClass","maxHeight","itemElement","stopPropagation","preventFn","event","preventDefault","contextmenuManager","enable","disable","useContextmenuClickCombo","options","comboIdRef","timer","comboId","reset","click","setTimeout","times","onFire","useClickCombo","alert","reportError","App","setCulture","classList","add","Input","disabled","errorText","addonBefore","addonAfter","extraProps","focused","setFocused","tabIndex","onFocus","onBlur","errorIcon","SearchBox","addon","isEditing","setIsEditing","searchIcon","closeIcon","Button","buttonType","respondToEnter","buttonRef","unregisterDefaultHandler","registerDefaultHandler","INVALID_POINT","INVALID_SIZE","INVALID_RECT","ContextMenu","items","renderTarget","onActiveChanged","listRef","targetRect","setTargetRect","unactive","remove","newPosition","origin","popupSize","targetSize","offset","calculatePosition","updateTargetRectAndActive","rect","menuClass","targetElement","text","DropdownButton","icon","tooltip","open","buttonRect","HighlightSpan","sourceText","queriesText","otherProps","mergedRanges","ranges","copyRanges","sort","b","start","end","startPointer","endPointer","mergeRanges","list","Set","distinct","toLowerCase","split","flatMap","query","nextStartIndex","indexOf","getQueryRanges","fragments","isQuery","start0","end0","substring","previousEnd","splitTextByOrderedDisjointRanges","fragment","subscribeMainWindowEvent","executeCallbackEventsAsync","openPrivateSyncFolderWizard","openPublicSyncFolderWizard","openShareViaLinkWizard","openShareViaEmailWizard","openSyncToOtherDevicesWizard","openFileHistoryWizard","openRestoreFilesWizard","openBasicInfoDialog","openACLDialog","bindSyncFolder","unbindSyncFolder","migrateSyncFolder","copySyncInviteLink","isLightAppReady","openSandbox","openHomePage","getSyncFolderItemsAsync","getSyncFolderStateAsync","getSearchResultsAsync","getSearchHistoryInternal","setSearchHistoryInternal","BadgePreference","getPinnedSandboxIdListAsync","setIsPinnedAsync","getRecentEventsAsync","getRecentEventUnreadCount","clearRecentEventUnreadCount","getBookmarkItemsAsync","deleteBookmarkItemAsync","openTemplateInLightApp","switchAccount","getNickname","openTrafficPolicyLink","openPricingLink","getAccountInfoAsync","getVersion","getAutoStartAsync","setAutoStartAsync","getNotifyOnFilesUpdatedAsync","setNotifyOnFilesUpdatedAsync","getSafeGuardChangeAsync","setSafeGuardChangeAsync","getFileProtectionLockAsync","setFileProtectionLockAsync","getExperimentalUserChangeAsync","setExperimentalUserChangeAsync","setCultureAsync","getShowDockIconChangeAsync","setShowDockIconChangeAsync","getLANSyncChangeAsync","setLANSyncChangeAsync","getCacheMaxUsagePercentage","setCacheMaxUsagePercentage","getBadgePreference","setBadgePreference","getCacheRemainDays","setCacheRemainDays","getCacheCurrentUsageSizeAsync","getCacheTotalSizeAsync","fileProviderFeatureUpgrade","setIsPaused","getLockedFileItemsAsync","getSyncingInfoAsync","getSyncErrorCount","isSandboxOwnerExpired","openSyncErrorsWindow","openSandboxOwnerExpiredWindow","useSyncFolderSearchResultViewModel","searchText","showDetails","searchHistoryList","setSearchHistoryList","searchResultItems","setSearchResultItems","history","stringify","searchString","trim","produce","draft","removedCount","element","removeAll","unshift","results","fetch","removeHistory","clearHistory","EmptyView","subtitle","emptyIcon","SearchHistoryView","setSearchText","historyIcon","SearchResultView","folderItems","isDir","fileItems","parentDir","fullPath","SyncFolderSearchResultView","Throttle","delay","lastValue","lastTriggeredTime","isWaiting","timeoutToken","Date","now","innerInvoke","clearTimeout","actualInterval","useThrottle","throttle","setThrottle","invoke","FolderItemIcon","stateIcon","syncState","stateLockedIcon","statePlacehoderIcon","stateReadonlyIcon","stateSyncingIcon","stateUpToDateIcon","statePlaceholderReadonlyIcon","getSyncStateIcon","isPrivate","folderPrivateIcon","folderPublicIcon","FolderListBoxItem","isPinned","pinOrUnpin","isFileProviderEnabled","activeMenu","setActiveMenu","syncFolderState","setSyncFolderState","folderItemMenuItems","menuItems","isSyncToDisk","isSyncedToDisk","isPlaceholder","canChangeRight","currentTarget","contains","permissions","itemButtonUnpinIcon","itemButtonPinIcon","itemButtonMoreIcon","PinnedFolderListBoxItem","unpin","renderContent","onContextMenu","clientX","clientY","pinnedFolderItemMenuItems","MainContent","syncFolderItems","setSyncFolderItems","pinnedSandboxIdList","setPinnedSandboxIdList","updateSandboxEventToken","setIsPinned","useSyncFolderMainContentModel","pinnedId","SyncFolderView","newMenuItems","shareMenuItems","exceptionMenuItems","includedDeleted","altKey","historyMenuItems","subViews","dropdownButtons","buttons","menuNewIcon","menuShareIcon","menuExceptionIcon","menuHistoryIcon","contentNavigator","isSearchMode","setIsSearchMode","searchTextRef","searchBoxRef","focus","searchBoxElemenet","onSearchTextChangedThrottle","useSyncFolderViewModel","placeholder","onChange","useRecentViewModel","comboItemAllSandboxes","useComboItemAllSandboxes","setSelecetdItem","recentEventItems","setRecentEventItems","fetchSyncFolderItems","fetchRecentEventItems","RecentListBoxItem","deleted","textMessageClass","filePath","displayTitle","displayAction","editor","displayTime","RecentView","fetchBookmarkItemsAsync","localeCompare","BookmarkListBoxItem","deleteSelf","fileType","cancalIcon","BookmarksView","allBookmarkItemsRef","bookmarkItems","setBookmarkItems","fetchBookmarkItems","newItems","filterBookmarkItemsThrottle","lowerValue","filteredItems","includes","useBookmarksViewModel","refreshIcon","appInfoList","i18nKey","platforms","officeOnlineIcon","inboxIcon","scannerIcon","collectionIcon","outlookAddinIcon","AppCard","platform","BannerImage","image","cursor","AppRecommendView","info","TriangleIcon","viewBox","fillRule","clipRule","fill","stroke","d","DisplayFileItem","fileName","bottomText","rightTopText","rightBottomText","openFile","gridColumn","SyncStatePopup","data","files","lockerName","lockedTime","totalSize","instantaneousSpeed","remainingTime","usePopupContent","getPopupData","isSynced","isPaused","lockedFiles","lockedFilesData","pausedData","analyzingData","transferringData","getIcon","statusErrorIcon","statusPausedIcon","statusFinishIcon","statusSyncingIcon","SyncStateBar","defaultStatus","details","syncStatusMessage","setSyncStatusMessage","popupData","setPopupData","isSyncedRef","isPausedRef","syncErrorCount","sandboxOwnerExpired","useSyncStateBarModel","lockedBySelfFileItems","isLockedByThisMachine","popup","extraInfo","buttonPlayIcon","buttonPauseIcon","ProxyType","getUsername","getProxySettingsAsync","setProxySettingsAsync","INITIAL_ACCOUNT_METER_INFO","isPaidUser","isInTeam","accountExpireLeftTime","usedStorageSize","totalStorageSize","freeDownRate","freeUpRate","usedDownRate","usedUpRate","rateResetLeftMills","MILLISECONDS_CONSTS","useAccountInfoViewModel","username","setUsername","nickname","setNickname","setMeterInfo","accountExpireLeftTimeText","milliseconds","toLocaleDateString","useExpirationTime","trafficResetLeftTimeText","useTrafficResetTime","fetchMeterInfo","totalUpRate","totalDownRate","expirationTimeText","CheckSwitch","checked","setChecked","SettingsHeaderButton","leftArrowIcon","SettingsFooterButton","rightArrowIcon","SettingItemSwitch","decription","SettingsViewTemplate","footer","onHeaderClicked","PropertyItem","propertyName","FreeAccountUsageRegion","upUsage","downUsage","used","total","PaidAccountUsageRegion","usage","AccountInfoView","SettingsAboutView","settingsNavigator","SWITCH_NAME_SETTINGS","copyrightYear","getFullYear","version","logo","contextmenuClickCombo","ConfigureValueBase","raisePropertyChanged","initialValue","valueStorage","changed","ConfigureValue","getter","setter","apply","force","AsyncConfigureValue","isBusy","useConfigureValue","useAsyncConfigureValue","SettingsNavigatorFooter","isEtp","SettingsGeneralView","isBadgeEnabled","autoStart","notifyOnFilesUpdated","safeGuard","fileProtectionLock","showInDocker","experimental","languageItems","language","badgePreferenceItems","alwaysShow","presentIfNecessary","neverShow","badgePreference","useSettingsGeneralViewModel","marginRight","v","setAndApply","minWidth","level","warningIcon","infoIcon","successIcon","MessageDialog","primaryButtonText","secondaryButtonText","buildMessageDialog","useProxySettingsModel","proxyTypes","noProxy","http","socks","proxyType","proxySetting","setProxySetting","selectedProxyType","setSelectedProxyType","disabledProxy","hostField","portField","usernameField","passwordField","savedProxySetting","host","port","password","dialogBuilder","resetProxyAsync","submitProxySettings","response","build","SettingsNetworkView","lanSync","save","cancel","SliderBar","setValue","percentage","parseFloat","limitValue","correctedValue","NumericInput","exitEdit","inputRef","inputElement","handleValueChanged","inputValue","changeValue","reducer","decreaseValue","increaseValue","decreaseButtonClass","increaseButtonClass","decreateIcon","isNaN","increateIcon","MAX_SAFE_INTEGER","SettingsStorageView","currentUsageSize","setCurrentUsageSize","diskTotalSize","setDiskTotalSize","maxUsagePercentage","remainDays","fetchSizeInfoAsync","useSettingsStorageViewModel","SettingsView","settingCases","settings","HamburgTabHeaderItem","itemKey","headerItemClass","changeCount","_extends","assign","arguments","source","prototype","hasOwnProperty","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","ForwardRef","requiredJavaFuncNameList","getIconColor","RecentEventHeaderItem","itemkey","unreadedCount","setUnreadedCount","unreadCount","MainWindow","tabItems","views","recommendIcon","selectedAccountInfo","selectedSettings","accountButtonClass","settingsButtonClass","webIcon","onerror","_lineno","_colno","stack","onunhandledrejection","then","versionInfo","appVersion","render","StrictMode","getElementById"],"mappings":"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,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,m65CCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,6D,gBCA3CD,EAAOC,QAAU,IAA0B,oD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,+C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,4C,g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","file":"static/js/main.a0c9bb98.chunk.js","sourcesContent":["import { getRandomCode } from '../helpers';\n\nconst win = window as any;\n\nexport default class JavaTask<T extends (...args: any) => any> {\n  private readonly funcName: string;\n  private invokeToken: string = '';\n\n  constructor(funcName: string) {\n    this.funcName = funcName;\n  }\n\n  run(...args: Parameters<T>): Promise<ReturnType<T>> {\n    const javaFunc = win[this.funcName] as Function;\n    if (!javaFunc) {\n      return Promise.reject(`Not found this function: ${this.funcName}`);\n    }\n\n    const id = getRandomCode(8);\n    this.invokeToken = `JavaTask_${this.funcName}_${id}`;\n\n    return new Promise((resolve, reject) => {\n      // register func_resolve and func_reject\n      win[this.invokeToken] = {\n        resolve: (result: ReturnType<T>) => {\n          this.dispose();\n          resolve(result);\n        },\n        reject: (reason: any) => {\n          this.dispose();\n          reject(reason);\n        },\n      };\n\n      // The id is always the last args.\n      // Alse see: [project]/src/nutstore/client/webui/interop/WebFuncRegistry.java file.\n      javaFunc.call(win, ...(args as any), id);\n    });\n  }\n\n  dispose() {\n    delete win[this.invokeToken];\n  }\n}\n","const win = window as any;\n\nexport type Dispose = () => void;\nexport type EventHandler<T> = (args: T) => void;\n\nclass JavaEventCenter {\n  private eventCenter: Map<string, EventHandler<any>[]> = new Map<string, EventHandler<any>[]>();\n\n  subscribe(channel: string, handler: EventHandler<any>): Dispose {\n    if (!this.eventCenter.has(channel)) {\n      this.eventCenter.set(channel, []);\n    }\n\n    this.eventCenter.get(channel)!.push(handler);\n\n    return () => {\n      const handlers = this.eventCenter.get(channel);\n      if (handlers) {\n        const toRemovedIndex = handlers.findIndex((item) => item === handler);\n        if (toRemovedIndex >= 0) {\n          handlers.splice(toRemovedIndex, 1);\n        }\n      }\n    };\n  }\n\n  publish(channel: string, json: string) {\n    this.eventCenter.get(channel)?.forEach((handler) => {\n      handler(json ? JSON.parse(json) : undefined);\n    });\n  }\n}\n\nexport function subscribeJavaEvent<T>(channel: string, handler: EventHandler<T>): Dispose {\n  if (!win.javaEventCenter) {\n    win.javaEventCenter = new JavaEventCenter();\n  }\n\n  const eventCenter = win.javaEventCenter as JavaEventCenter;\n  return eventCenter.subscribe(channel, handler);\n}\n","import JavaTask from './java-task';\n\nconst win = window as any;\n\nexport type ValueWrapper<T> = {\n  value: T;\n};\n\nexport function importJavaFunc<T extends (...args: any) => any>(\n  funcName: string,\n  fallback?: ReturnType<T>\n): (...args: Parameters<T>) => ReturnType<T> {\n  function fallbackOrThrow(error: () => Error): ReturnType<T> {\n    if (fallback !== undefined) {\n      return fallback;\n    } else {\n      throw error();\n    }\n  }\n\n  return (...args: Parameters<T>): ReturnType<T> => {\n    const javaFunc = win[funcName] as Function;\n    if (!javaFunc) {\n      const message = `Not found this function: ${funcName}`;\n      return fallbackOrThrow(() => new Error(message));\n    }\n\n    try {\n      return javaFunc.call(win, ...(args as any));\n    } catch (e) {\n      return fallbackOrThrow(() => e);\n    }\n  };\n}\n\nexport function importJavaPromise<T extends (...args: any) => any>(\n  funcName: string\n): (...args: Parameters<T>) => Promise<ReturnType<T>> {\n  return async (...args: Parameters<T>) => {\n    const javaTask = new JavaTask<(...args: Parameters<T>) => string>(funcName);\n    try {\n      const jsonString = await javaTask.run(...args);\n      return JSON.parse(jsonString);\n    } finally {\n      javaTask.dispose();\n    }\n  };\n}\n\nexport function importJavaPromiseNonJson<T extends (...args: any) => any>(\n  funcName: string\n): (...args: Parameters<T>) => Promise<ReturnType<T>> {\n  return async (...args: Parameters<T>) => {\n    const javaTask = new JavaTask<(...args: Parameters<T>) => ReturnType<T>>(funcName);\n    try {\n      return await javaTask.run(...args);\n    } finally {\n      javaTask.dispose();\n    }\n  };\n}\n","import { useCallback } from 'react';\nimport { useI18nBuilder, TranslatorType } from '../hooks';\n\nimport uiStrings_en_US from './ui-strings.en-US.json';\nimport uiStrings_zh_CN from './ui-strings.zh-CN.json';\n\nexport * from './language-code';\nexport * from './i18n-context';\nexport * from './ui-images';\n\nexport type UiStringsKeys = keyof typeof uiStrings_en_US;\n\nexport type UiStringTranslator = TranslatorType<UiStringsKeys>;\nexport const useI18n = () =>\n  useI18nBuilder(\n    useCallback(\n      () => [\n        { culture: 'en-US', resource: uiStrings_en_US },\n        { culture: 'zh-CN', resource: uiStrings_zh_CN },\n      ],\n      []\n    )\n  );\n","const REQUIRED_JAVA_FUNCS = ['log', 'isEnterprise', 'fileProviderEnabled', 'badgeEnabled', 'isDarkMode', 'isChineseLocale'];\nconst win = window as any;\n\n/**\n * Java injects these functions asynchronously, which may not be available in the early stages of web startup.\n * So we need to wait for the java function to register successfully before starting to render react dom.\n */\nexport default function waitJavaApiReady(funcNameList: ReadonlyArray<string>) {\n  const requiredFuncList = REQUIRED_JAVA_FUNCS.concat(funcNameList);\n  return new Promise<void>((resolve) => {\n    function step() {\n      if (requiredFuncList.every((funcName) => !!win[funcName])) {\n        resolve();\n      } else {\n        window.requestAnimationFrame(step);\n      }\n    }\n\n    window.requestAnimationFrame(step);\n  });\n}\n","export * from '../i18n/language-code';\nexport * from './use-i18n-builder';\nexport * from './use-debounce';\nexport * from './use-verifiable-value';\nexport * from './use-extra-error';\nexport * from './validation-rules';\nexport * from './use-resize-observer';\nexport * from './use-force-update';\nexport * from './use-combined-refs';\nexport * from './use-lazy-ref';\n","export function uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport function getRandomCode(length = 6) {\n  let result = '';\n  for (let i = 0; i < length; i++) {\n    result += ((Math.random() * 16) | 0).toString(16);\n  }\n\n  return result;\n}\n","export function stringFormat(format: string, ...args: Array<Object>) {\n  return format && args\n    ? args\n        .map((item) => item?.toString())\n        .reduce((acc, item, index) => acc.replace(`{${index}}`, item), format)\n    : format;\n}\n\nconst bytesUnits = ['', 'K', 'M', 'G', 'T', 'P', 'E'];\n\nexport function getDisplayStringBytes(bytesLength: number, fractionDigits = 2) {\n  let unitIndex = 0;\n  while (bytesLength > 1024 || Math.abs(bytesLength - 1024) < 1e-6) {\n    bytesLength /= 1024;\n    unitIndex++;\n  }\n\n  return `${bytesLength.toFixed(fractionDigits)} ${bytesUnits[unitIndex]}B`;\n}\n","import aiIcon from '../assets/file-icons/ai.svg';\nimport apkIcon from '../assets/file-icons/apk.svg';\nimport audioIcon from '../assets/file-icons/audio.svg';\nimport codeIcon from '../assets/file-icons/code.svg';\nimport dwgIcon from '../assets/file-icons/dwg.svg';\nimport epsIcon from '../assets/file-icons/eps.svg';\nimport excelIcon from '../assets/file-icons/excel.svg';\nimport folderIcon from '../assets/file-icons/folder.svg';\nimport gifIcon from '../assets/file-icons/gif.svg';\nimport imageIcon from '../assets/file-icons/image.svg';\nimport isoIcon from '../assets/file-icons/iso.svg';\nimport mdIcon from '../assets/file-icons/md.svg';\nimport nbmxIcon from '../assets/file-icons/nbmx.svg';\nimport ngmIcon from '../assets/file-icons/ngm.svg';\nimport nolIcon from '../assets/file-icons/nol.svg';\nimport pdfIcon from '../assets/file-icons/pdf.svg';\nimport pptIcon from '../assets/file-icons/ppt.svg';\nimport programIcon from '../assets/file-icons/program.svg';\nimport psIcon from '../assets/file-icons/ps.svg';\nimport tiffIcon from '../assets/file-icons/tiff.svg';\nimport txtIcon from '../assets/file-icons/txt.svg';\nimport unknownIcon from '../assets/file-icons/unknown.svg';\nimport videoIcon from '../assets/file-icons/video.svg';\nimport wordIcon from '../assets/file-icons/word.svg';\nimport xmindIcon from '../assets/file-icons/xmind.svg';\nimport zipIcon from '../assets/file-icons/zip.svg';\n\nexport type FileType =\n  | 'ai'\n  | 'apk'\n  | 'audio'\n  | 'code'\n  | 'dwg'\n  | 'eps'\n  | 'excel'\n  | 'folder'\n  | 'gif'\n  | 'image'\n  | 'iso'\n  | 'md'\n  | 'nbmx'\n  | 'ngm'\n  | 'nol'\n  | 'pdf'\n  | 'ppt'\n  | 'program'\n  | 'ps'\n  | 'tiff'\n  | 'txt'\n  | 'unknown'\n  | 'video'\n  | 'word'\n  | 'xmind'\n  | 'zip';\n\nfunction initializeFileIconMap(): ReadonlyMap<FileType, string> {\n  const map = new Map<FileType, string>();\n  map.set('ai', aiIcon);\n  map.set('apk', apkIcon);\n  map.set('audio', audioIcon);\n  map.set('code', codeIcon);\n  map.set('dwg', dwgIcon);\n  map.set('eps', epsIcon);\n  map.set('excel', excelIcon);\n  map.set('folder', folderIcon);\n  map.set('gif', gifIcon);\n  map.set('image', imageIcon);\n  map.set('iso', isoIcon);\n  map.set('md', mdIcon);\n  map.set('nbmx', nbmxIcon);\n  map.set('ngm', ngmIcon);\n  map.set('nol', nolIcon);\n  map.set('pdf', pdfIcon);\n  map.set('ppt', pptIcon);\n  map.set('program', programIcon);\n  map.set('ps', psIcon);\n  map.set('tiff', tiffIcon);\n  map.set('txt', txtIcon);\n  map.set('unknown', unknownIcon);\n  map.set('video', videoIcon);\n  map.set('word', wordIcon);\n  map.set('xmind', xmindIcon);\n  map.set('zip', zipIcon);\n  return map;\n}\n\nconst FILE_TYPE_MAP: ReadonlyArray<{ type: FileType; exts: ReadonlyArray<string> }> = [\n  { type: 'ai', exts: ['ai'] },\n  { type: 'apk', exts: ['apk'] },\n  { type: 'audio', exts: ['mp3', 'wav', 'aac', 'wma', 'flac', 'ape', 'ogg'] },\n  {\n    type: 'code',\n    exts: [\n      'cs',\n      'c',\n      'cpp',\n      'py',\n      'java',\n      'js',\n      'ts',\n      'xaml',\n      'xml',\n      'json',\n      'yml',\n      'yaml',\n      'vb',\n      'html',\n      'htm',\n      'css',\n      'm',\n      'go',\n      'kt',\n      'kts',\n      'swift',\n      'rs',\n    ],\n  },\n  { type: 'dwg', exts: ['dwg'] },\n  { type: 'eps', exts: ['eps'] },\n  { type: 'excel', exts: ['xls', 'xlsx'] },\n  { type: 'gif', exts: ['gif'] },\n  { type: 'image', exts: ['png', 'jpg', 'jpeg', 'bmp', 'git'] },\n  { type: 'iso', exts: ['iso'] },\n  { type: 'md', exts: ['md'] },\n  { type: 'nbmx', exts: ['nbmx'] },\n  { type: 'ngm', exts: ['ngm'] },\n  { type: 'nol', exts: ['nol'] },\n  { type: 'pdf', exts: ['pdf'] },\n  { type: 'ppt', exts: ['ppt', 'pptx'] },\n  { type: 'program', exts: ['exe', 'bat'] },\n  { type: 'ps', exts: ['psd'] },\n  { type: 'tiff', exts: ['tiff'] },\n  { type: 'txt', exts: ['txt', 'lrc'] },\n  { type: 'video', exts: ['rmvb', 'mp4', 'avi', 'rm', 'wmv', 'flv', 'f4v', 'mkv', '3gp'] },\n  { type: 'word', exts: ['doc', 'docx'] },\n  { type: 'xmind', exts: ['xmind'] },\n  { type: 'zip', exts: ['rar', 'zip', '7z'] },\n];\n\nconst FILE_ICON_MAP = initializeFileIconMap();\n\nexport function getFileIcon(type: FileType): string {\n  return FILE_ICON_MAP.get(type) ?? unknownIcon;\n}\n\nexport function getFileType(path: string, asFolderIfEmptyExt = true): FileType {\n  const ext = getFileExtension(path);\n  if (!ext && asFolderIfEmptyExt) {\n    return 'folder';\n  }\n\n  const matched = FILE_TYPE_MAP.find(({ exts }) => exts.some((item) => item === ext));\n  return matched ? matched.type : 'unknown';\n}\n\nfunction getFileExtension(path: string): string {\n  const lastDotIndex = path.lastIndexOf('.');\n  const lastSeparatorIndex = Math.max(path.lastIndexOf('/'), path.lastIndexOf('\\\\'));\n  return lastDotIndex < path.length && lastDotIndex > lastSeparatorIndex\n    ? path.slice(lastDotIndex + 1)\n    : '';\n}\n","import { useLazyRef } from '../hooks';\nimport { importJavaFunc } from '../java-interop';\n\ntype LogLevel = 'error' | 'warn' | 'info' | 'debug';\n\nexport const log = importJavaFunc<(level: LogLevel, message: string) => void>('log');\nexport const isDarkMode = importJavaFunc<() => boolean>('isDarkMode', false);\nexport const isChineseLocale = importJavaFunc<() => boolean>('isChineseLocale', false);\nexport const openUrl = importJavaFunc<(url: string) => void>('openUrl');\nexport const isEnterprise = importJavaFunc<() => boolean>('isEnterprise', false);\nexport const openPath = importJavaFunc<(path: string) => void>('openPath');\nexport const openFileWithApp = importJavaFunc<(path: string) => void>('openFileWithApp');\nexport const sendTeaEvent = importJavaFunc<(eventName: string, params?: string) => void>(\n  'sendTeaEvent'\n);\n\nconst isOSXPlatform = importJavaFunc<() => boolean>('isOSXPlatform');\nexport function useIsOSXPlatform() {\n  return useLazyRef(isOSXPlatform);\n}\n\nconst fileProviderEnabled = importJavaFunc<()=> boolean>('fileProviderEnabled');\nexport function useIsFileProviderEnabled() {\n  return useLazyRef(fileProviderEnabled);\n}\n\nconst badgeEnabled = importJavaFunc<() => boolean>('badgeEnabled');\nexport function useIsBadgeEnabled() {\n  return useLazyRef(badgeEnabled);\n}\n\nconst shouldShowUpgradeToFileProviderEntry = importJavaFunc<() => boolean>(\"shouldShowUpgradeToFileProviderEntry\");\nexport function useShouldShowUpgradeToFileProviderEntry() {\n  return useLazyRef(shouldShowUpgradeToFileProviderEntry);\n}\n","import { createContext } from 'react';\nimport { LanguageCode } from './language-code';\n\nexport const I18nContext = createContext<LanguageCode>('en-US');\n","import { useCallback, useState } from 'react';\n\nexport function useForceUpdate() {\n  const [, triggerUpdate] = useState(false);\n\n  return useCallback(() => triggerUpdate((oldValue) => !oldValue), []);\n}\n","import { useRef } from 'react';\n\nexport function useLazyRef<T>(factory: () => T) {\n  const ref = useRef<T>();\n  const getter = () => {\n    if (!ref.current) {\n      ref.current = factory();\n    }\n\n    return ref.current;\n  };\n\n  return getter();\n}\n","module.exports = __webpack_public_path__ + \"static/media/error_icon.710c3b7e.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.0de10317.svg\";","module.exports = __webpack_public_path__ + \"static/media/refresh.ecc926bf.svg\";","module.exports = __webpack_public_path__ + \"static/media/unknown.323bb234.svg\";","module.exports = __webpack_public_path__ + \"static/media/welcome_logo_light.74ca91e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/welcome_logo_dark.1a387523.svg\";","import { useMemo, useContext } from 'react';\nimport { LanguageCode, I18nContext } from '../i18n';\nimport { stringFormat } from '../helpers';\n\nexport type I18nResourcePair<T> = {\n  culture: LanguageCode;\n  resource: T;\n};\n\nexport type TranslatorType<T> = (key: T, ...args: Array<Object>) => string;\n\nexport type TranslateType<T> = {\n  readonly $t: TranslatorType<T>;\n};\n\nexport function useI18nBuilder<T extends Record<string, string>>(\n  resourcesProvider: () => Array<I18nResourcePair<T>>\n): TranslateType<keyof T> {\n  const currentCulture = useContext(I18nContext);\n  return useMemo(() => {\n    const provider = resourcesProvider();\n    if (!provider) {\n      throw new Error(`The resources provider can not return null or empty array.`);\n    }\n\n    const resource = provider.find((item) => item.culture === currentCulture);\n\n    const finalResource = resource?.resource ?? provider[0].resource;\n    return {\n      $t: (key, ...args) => stringFormat(finalResource[key], args),\n    };\n  }, [currentCulture, resourcesProvider]);\n}\n","import { useContext, useMemo } from 'react';\nimport { I18nContext } from './i18n-context';\nimport { isDarkMode } from '../java-api';\n\nimport slide1_light_zh_CN from '../assets/light/scene_light_1@2x.png';\nimport slide2_light_zh_CN from '../assets/light/scene_light_2@2x.png';\nimport slide3_light_zh_CN from '../assets/light/scene_light_3@2x.png';\nimport slide4_light_zh_CN from '../assets/light/scene_light_4@2x.png';\n\nimport slide1_light_en_US from '../assets/light/scene_light_1_en@2x.png';\nimport slide2_light_en_US from '../assets/light/scene_light_2_en@2x.png';\nimport slide3_light_en_US from '../assets/light/scene_light_3_en@2x.png';\nimport slide4_light_en_US from '../assets/light/scene_light_4_en@2x.png';\n\nimport slide1_dark_zh_CN from '../assets/dark/scene_dark_1@2x.png';\nimport slide2_dark_zh_CN from '../assets/dark/scene_dark_2@2x.png';\nimport slide3_dark_zh_CN from '../assets/dark/scene_dark_3@2x.png';\nimport slide4_dark_zh_CN from '../assets/dark/scene_dark_4@2x.png';\n\nimport slide1_dark_en_US from '../assets/dark/scene_dark_1_en@2x.png';\nimport slide2_dark_en_US from '../assets/dark/scene_dark_2_en@2x.png';\nimport slide3_dark_en_US from '../assets/dark/scene_dark_3_en@2x.png';\nimport slide4_dark_en_US from '../assets/dark/scene_dark_4_en@2x.png';\n\nimport nutstoreLogo_light from '../assets/light/welcome_logo_light.svg';\nimport nutstoreLogo_dark from '../assets/dark/welcome_logo_dark.svg';\n\nimport bannerImage1_zh_CN from '../assets/app-recommend/banner_1.png';\nimport bannerImage2_zh_CN from '../assets/app-recommend/banner_2.png';\nimport bannerImage3_zh_CN from '../assets/app-recommend/banner_3.png';\nimport bannerImage4_zh_CN from '../assets/app-recommend/banner_4.png';\n\nimport bannerImage1_en_US from '../assets/app-recommend/banner_1_en.png';\nimport bannerImage2_en_US from '../assets/app-recommend/banner_2_en.png';\nimport bannerImage3_en_US from '../assets/app-recommend/banner_3_en.png';\nimport bannerImage4_en_US from '../assets/app-recommend/banner_4_en.png';\n\nimport aboutLogo_light from '../assets/light/about_logo_light.svg';\nimport aboutLogo_dark from '../assets/dark/about_logo_dark.svg';\n\ntype ImagesType = {\n  slide1: string;\n  slide2: string;\n  slide3: string;\n  slide4: string;\n  nutstoreLogo: string;\n};\n\nexport function useImages(): ImagesType {\n  const culture = useContext(I18nContext);\n  return useMemo(() => {\n    if (culture === 'zh-CN') {\n      if (isDarkMode()) {\n        return {\n          slide1: slide1_dark_zh_CN,\n          slide2: slide2_dark_zh_CN,\n          slide3: slide3_dark_zh_CN,\n          slide4: slide4_dark_zh_CN,\n          nutstoreLogo: nutstoreLogo_dark,\n        };\n      } else {\n        return {\n          slide1: slide1_light_zh_CN,\n          slide2: slide2_light_zh_CN,\n          slide3: slide3_light_zh_CN,\n          slide4: slide4_light_zh_CN,\n          nutstoreLogo: nutstoreLogo_light,\n        };\n      }\n    } else {\n      if (isDarkMode()) {\n        return {\n          slide1: slide1_dark_en_US,\n          slide2: slide2_dark_en_US,\n          slide3: slide3_dark_en_US,\n          slide4: slide4_dark_en_US,\n          nutstoreLogo: nutstoreLogo_dark,\n        };\n      } else {\n        return {\n          slide1: slide1_light_en_US,\n          slide2: slide2_light_en_US,\n          slide3: slide3_light_en_US,\n          slide4: slide4_light_en_US,\n          nutstoreLogo: nutstoreLogo_light,\n        };\n      }\n    }\n  }, [culture]);\n}\n\ntype BannerImage = {\n  banner1: string;\n  banner2: string;\n  banner3: string;\n  banner4: string;\n};\n\nexport function useBannerImages(): BannerImage {\n  const culture = useContext(I18nContext);\n  return useMemo(() => {\n    if (culture === 'zh-CN') {\n      return {\n        banner1: bannerImage1_zh_CN,\n        banner2: bannerImage2_zh_CN,\n        banner3: bannerImage3_zh_CN,\n        banner4: bannerImage4_zh_CN,\n      };\n    } else {\n      return {\n        banner1: bannerImage1_en_US,\n        banner2: bannerImage2_en_US,\n        banner3: bannerImage3_en_US,\n        banner4: bannerImage4_en_US,\n      };\n    }\n  }, [culture]);\n}\n\nexport function useAboutLogo(): string {\n  return isDarkMode() ? aboutLogo_dark : aboutLogo_light;\n}\n","import { useState, useMemo, useCallback, useReducer } from 'react';\n\nconst EMPTY_TEXT = '';\n\nexport interface VerifiableValue<T> {\n  readonly value: T;\n  readonly error: string;\n\n  /**\n   * Sets the value with check.\n   */\n  set(value: T): void;\n\n  /**\n   * Sets the value without check and clear the current error text if not empty.\n   */\n  setOnly(value: T): void;\n\n  /**\n   * Checks the current value and update the error text.\n   */\n  check(): boolean;\n}\n\ntype Rule<T> = {\n  assert: (value: T) => boolean;\n  getError: () => string;\n};\n\ninterface RuleConfiguration<T> {\n  addRule(assert: (value: T) => boolean, getError: () => string): RuleConfiguration<T>;\n}\n\nclass RuleConfigurationImpl<T> implements RuleConfiguration<T> {\n  readonly rules: Array<Rule<T>> = new Array<Rule<T>>();\n\n  addRule(assert: (value: T) => boolean, getError: () => string): RuleConfiguration<T> {\n    this.rules.push({ assert, getError });\n    return this;\n  }\n}\n\nexport type ConfigureRule<T> = (configuration: RuleConfiguration<T>) => void;\n\nexport function useVerifiableValue<T>(\n  configure: ConfigureRule<T>,\n  initValue: T\n): VerifiableValue<T> {\n  const ruleCollection = useMemo(() => {\n    const ruleConfiguration = new RuleConfigurationImpl<T>();\n    configure(ruleConfiguration);\n    // Add clear logic to end of rule array.\n    ruleConfiguration.addRule(\n      () => false,\n      () => EMPTY_TEXT\n    );\n    return ruleConfiguration.rules;\n  }, [configure]);\n  const [error, setError] = useState(EMPTY_TEXT);\n  const checkValue = useCallback(\n    (value: T) => {\n      const index = ruleCollection.findIndex((rule) => !rule.assert(value));\n      setError(ruleCollection[index].getError());\n      // The last rule must be the clear logic, so it means that the value is valid.\n      return index === ruleCollection.length - 1;\n    },\n    [ruleCollection]\n  );\n  const valueReducer = useCallback(\n    (_state: T, action: { newValue: T; withCheck: boolean }) => {\n      const { newValue, withCheck } = action;\n      if (withCheck) {\n        checkValue(newValue);\n      } else if (error) {\n        // Clear error text when setting value without check.\n        setError(EMPTY_TEXT);\n      }\n\n      return newValue;\n    },\n    [checkValue, error]\n  );\n  const [value, dispatch] = useReducer(valueReducer, initValue);\n\n  return useMemo(\n    () => ({\n      value,\n      error,\n      check: () => checkValue(value),\n      set: (value: T) => dispatch({ newValue: value, withCheck: true }),\n      setOnly: (value: T) => dispatch({ newValue: value, withCheck: false }),\n    }),\n    [checkValue, error, value]\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nexport function useExtraError(deps: React.DependencyList): [string, React.Dispatch<string>] {\n  const [error, setError] = useState('');\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => setError(''), deps);\n  return [error, setError];\n}\n","import { ConfigureRule, TranslatorType } from '.';\nimport { UiStringsKeys } from '../i18n';\nimport { useCallback } from 'react';\n\n// Ref to: https://stackoverflow.com/a/37668315\n// The '\\p{L}' is not supported in JavaScript.\nconst pL =\n  'A-Za-z\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC';\n\nconst REGEX_EMAIL = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9]([a-zA-Z0-9]|((.|-)[a-zA-Z0-9]))*\\.[a-zA-Z]{2,}$/;\nconst REGEX_NICKNAME = new RegExp(`^[-_ 0-9a-zA-Z${pL}]{0,20}$`);\nconst REGEX_PHONE_NUMBER_CHINA = /^(1(3|4|5|6|7|8|9))\\d{9}$/;\nconst REGEX_PHONE_NUMBER_INTERNATIONAL = /[0-9]{3,14}/;\nconst REGEX_PASSCODE = /\\d{6}/;\nconst REGEX_NUMBER = /^\\d+?$/;\n\nconst AREA_CODE_CHINA = '+86';\n\nexport const noRules: ConfigureRule<any> = () => {};\n\nexport function useNotEmptyRule($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config.addRule(\n        (value) => !!value,\n        () => $t('error.cannotEmpty')\n      );\n    },\n    [$t]\n  );\n}\n\nexport function useEmailRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.pleaseEnterEmail')\n        )\n        .addRule(\n          (value) => value.length >= 4,\n          () => $t('error.emailTooShort')\n        )\n        .addRule(\n          (value) => value.length <= 54,\n          () => $t('error.emailTooLong')\n        )\n        .addRule(\n          (value) => !value.endsWith('.con'),\n          () => $t('error.invalidEmailSuffix')\n        )\n        .addRule(\n          (value) => REGEX_EMAIL.test(value),\n          () => $t('error.invalidEmailPleaseModifyAndRetry')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function usePasswordRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.passwordEmpty')\n        )\n        .addRule(\n          (value) => value.length >= 6,\n          () => $t('error.passwordTooShort')\n        )\n        .addRule(\n          (value) => value.length <= 54,\n          () => $t('error.passwordTooLong')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function useNicknameRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !value || value.length <= 20,\n          () => $t('error.nicknameTooLong')\n        )\n        .addRule(\n          (value) => !value || REGEX_NICKNAME.test(value),\n          () => $t('error.nicknameInvalidFormat')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function usePhoneNumberRules(\n  $t: TranslatorType<UiStringsKeys>,\n  areaCodeGetter: () => string\n): ConfigureRule<string> {\n  return useCallback(\n    (config) =>\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.cannotEmpty')\n        )\n        .addRule(\n          (value) => {\n            const areaCode = areaCodeGetter();\n            return !!value && areaCode === AREA_CODE_CHINA\n              ? REGEX_PHONE_NUMBER_CHINA.test(value)\n              : REGEX_PHONE_NUMBER_INTERNATIONAL.test(value);\n          },\n          () => $t('error.phoneInvalid')\n        ),\n    [$t, areaCodeGetter]\n  );\n}\n\nexport function usePasscodeRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.cannotEmpty')\n        )\n        .addRule(\n          (value) => REGEX_PASSCODE.test(value),\n          () => $t('error.invalidPasscode')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function useIPRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config.addRule(\n        (value) => !!value,\n        () => $t('error.cannotEmpty')\n      );\n      // TODO: Could the IP here support the domain name string?\n      // .addRule(\n      //   (value) => /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/.test(value),\n      //   () => $t('error.invalidIPAddress')\n      // );\n    },\n    [$t]\n  );\n}\n\nexport function useNumberRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.cannotEmpty')\n        )\n        .addRule(\n          (value) => REGEX_NUMBER.test(value),\n          () => $t('error.invalidPort')\n        );\n    },\n    [$t]\n  );\n}\n","import { RefObject, useEffect } from 'react';\nimport { log } from '../java-api';\n\nexport type Size = {\n  width: number;\n  height: number;\n};\n\nexport function useResizeObserver<T extends HTMLElement>(\n  targetRef: RefObject<T>,\n  callback: (rect: Size) => void\n) {\n  useEffect(() => {\n    const target = targetRef.current;\n    if (!target) return;\n\n    if (window.ResizeObserver) {\n      log('debug', 'The current browser is support the ResizeObserver.');\n      const resizeObserver = new ResizeObserver((entities) =>\n        // Ref: https://stackoverflow.com/a/58701523/9078911\n        window.requestAnimationFrame(() => {\n          const entity = entities[0];\n          callback({\n            width: entity.contentRect.width,\n            height: entity.contentRect.height,\n          });\n        })\n      );\n\n      resizeObserver.observe(target);\n      callback({\n        width: target.offsetWidth,\n        height: target.offsetHeight,\n      });\n\n      return () => resizeObserver.disconnect();\n    } else {\n      // Fall back to resize event.\n      log('debug', 'Fallback to resize event.');\n      const handleResize = () =>\n        callback({\n          width: target.offsetWidth,\n          height: target.offsetHeight,\n        });\n      handleResize();\n      window.addEventListener('resize', handleResize);\n\n      const mutationObserver = new MutationObserver(handleResize);\n      mutationObserver.observe(document.body, {\n        subtree: true,\n        attributes: true,\n        attributeFilter: ['class'],\n      });\n\n      return () => {\n        window.removeEventListener('resize', handleResize);\n        mutationObserver.disconnect();\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [callback]);\n}\n","// Ref to: https://itnext.io/reusing-the-ref-from-forwardref-with-react-hooks-4ce9df693dd\n\nimport React, { Ref, useRef } from 'react';\n\nexport function useCombinedRefs<T extends HTMLElement>(...refs: Ref<T>[]) {\n  const targetRef = useRef<T>(null);\n\n  React.useEffect(() => {\n    refs.forEach((ref) => {\n      if (!ref) return;\n\n      if (typeof ref === 'function') {\n        ref(targetRef.current);\n      } else {\n        (ref as any).current = targetRef.current;\n      }\n    });\n  }, [refs]);\n\n  return targetRef;\n}\n","module.exports = __webpack_public_path__ + \"static/media/ai.27eb9766.svg\";","module.exports = __webpack_public_path__ + \"static/media/apk.440d995c.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.9dd4506c.svg\";","module.exports = __webpack_public_path__ + \"static/media/code.8ecae0ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/dwg.e1f581a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/eps.98f3421f.svg\";","module.exports = __webpack_public_path__ + \"static/media/excel.f40d4885.svg\";","module.exports = __webpack_public_path__ + \"static/media/folder.d2ab7032.svg\";","module.exports = __webpack_public_path__ + \"static/media/gif.92f05f10.svg\";","module.exports = __webpack_public_path__ + \"static/media/image.ecc1c97e.svg\";","module.exports = __webpack_public_path__ + \"static/media/iso.ee6977ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/md.e52b98fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/nbmx.27a4b173.svg\";","module.exports = __webpack_public_path__ + \"static/media/ngm.6845bdb4.svg\";","module.exports = __webpack_public_path__ + \"static/media/nol.1423c8a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/pdf.140e0845.svg\";","module.exports = __webpack_public_path__ + \"static/media/ppt.acf1128b.svg\";","module.exports = __webpack_public_path__ + \"static/media/program.a1780ee9.svg\";","module.exports = __webpack_public_path__ + \"static/media/ps.72a873b1.svg\";","module.exports = __webpack_public_path__ + \"static/media/tiff.7ed657f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/txt.68289999.svg\";","module.exports = __webpack_public_path__ + \"static/media/video.d98bc694.svg\";","module.exports = __webpack_public_path__ + \"static/media/word.4d8a5a32.svg\";","module.exports = __webpack_public_path__ + \"static/media/xmind.b82bee1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/zip.96ec6f2b.svg\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_1@2x.2a586d8a.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_2@2x.ee2be058.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_3@2x.b1e9fcd6.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_4@2x.9f02aaa9.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_1_en@2x.d04d77f1.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_2_en@2x.c0587da2.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_3_en@2x.2406b168.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_4_en@2x.34c276f8.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_1@2x.0a9911f5.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_2@2x.ea11bae4.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_3@2x.7595ace7.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_4@2x.b00f9ccf.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_1_en@2x.d99404e1.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_2_en@2x.95c49d02.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_3_en@2x.043fd0e3.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_4_en@2x.caaebc11.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_1.5948760f.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_2.bc2a7cec.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_3.aabaae5b.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_4.7b4672db.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_1_en.d2fadabd.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_2_en.ee63faed.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_3_en.2b1a968d.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_4_en.79165864.png\";","module.exports = __webpack_public_path__ + \"static/media/about_logo_light.6299e330.svg\";","module.exports = __webpack_public_path__ + \"static/media/about_logo_dark.5a4f54a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/sidebar_hamburg.478ac7c8.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.beaf019f.svg\";","module.exports = __webpack_public_path__ + \"static/media/search_empty.99835743.svg\";","module.exports = __webpack_public_path__ + \"static/media/folder.0a972360.svg\";","module.exports = __webpack_public_path__ + \"static/media/history.236f5c5c.svg\";","module.exports = __webpack_public_path__ + \"static/media/sync_state_locked.7716eaf6.svg\";","module.exports = __webpack_public_path__ + \"static/media/sync_state_placeholder_readonly.c9b1b524.svg\";","module.exports = __webpack_public_path__ + \"static/media/sync_state_placeholder.5b03847b.svg\";","module.exports = __webpack_public_path__ + \"static/media/sync_state_readonly.dff0a56e.svg\";","module.exports = __webpack_public_path__ + \"static/media/sync_state_syncing.74650d2d.svg\";","module.exports = __webpack_public_path__ + \"static/media/sync_state_uptodate.406dd345.svg\";","module.exports = __webpack_public_path__ + \"static/media/item_button_more.3b760104.svg\";","module.exports = __webpack_public_path__ + \"static/media/item_button_unpin.be814619.svg\";","module.exports = __webpack_public_path__ + \"static/media/item_button_pin.72b2d6c2.svg\";","module.exports = __webpack_public_path__ + \"static/media/folder_private.fd134233.svg\";","module.exports = __webpack_public_path__ + \"static/media/folder_public.d12b17ee.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu_new.40964e06.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu_share.3b799ea9.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu_history.318b757a.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu_exception.55a64ebd.svg\";","module.exports = __webpack_public_path__ + \"static/media/bookmarks_cancel.d016cf17.svg\";","module.exports = __webpack_public_path__ + \"static/media/nbmx.caa0c914.svg\";","module.exports = __webpack_public_path__ + \"static/media/ngm.ddc27127.svg\";","module.exports = __webpack_public_path__ + \"static/media/nol.5ab0c064.svg\";","module.exports = __webpack_public_path__ + \"static/media/md.8f988d66.svg\";","module.exports = __webpack_public_path__ + \"static/media/office_online.195c3b62.svg\";","module.exports = __webpack_public_path__ + \"static/media/inbox.83ead576.svg\";","module.exports = __webpack_public_path__ + \"static/media/scanner.5c94d010.svg\";","module.exports = __webpack_public_path__ + \"static/media/collection.11ced7da.svg\";","module.exports = __webpack_public_path__ + \"static/media/outlook_addin.09835ba7.svg\";","module.exports = __webpack_public_path__ + \"static/media/status_sync_error.8391e902.svg\";","module.exports = __webpack_public_path__ + \"static/media/status_sync_finish.42b2e416.svg\";","module.exports = __webpack_public_path__ + \"static/media/status_sync_paused.888d0e92.svg\";","module.exports = __webpack_public_path__ + \"static/media/status_sync_syncing.cc9bd784.svg\";","module.exports = __webpack_public_path__ + \"static/media/status_pause.30e05164.svg\";","module.exports = __webpack_public_path__ + \"static/media/status_play.20f8cc66.svg\";","module.exports = __webpack_public_path__ + \"static/media/right-arrow.75348027.svg\";","module.exports = __webpack_public_path__ + \"static/media/left-arrow.8b0c3dab.svg\";","module.exports = __webpack_public_path__ + \"static/media/warning_icon.e813101b.svg\";","module.exports = __webpack_public_path__ + \"static/media/info_icon.17321ab2.svg\";","module.exports = __webpack_public_path__ + \"static/media/success_icon.e07d39e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/decreate.a228d083.svg\";","module.exports = __webpack_public_path__ + \"static/media/increate.e498f179.svg\";","module.exports = __webpack_public_path__ + \"static/media/sidebar_recommend.d509f751.svg\";","module.exports = __webpack_public_path__ + \"static/media/sidebar_web.539ab791.svg\";","import { ReactNode } from 'react';\n\nexport type DialogEntity = { id: string; dialog: ReactNode };\n\nexport default class DialogManager {\n  private dialogEntities: Array<DialogEntity>;\n\n  private currentDialogEntity?: DialogEntity;\n\n  private setCurrentDialig: (dialog: ReactNode | undefined) => void;\n\n  constructor(setCurrentDialog: (dialog: ReactNode | undefined) => void) {\n    this.dialogEntities = new Array<DialogEntity>();\n    this.setCurrentDialig = setCurrentDialog;\n  }\n\n  show(id: string, dialog: ReactNode): void {\n    if (!dialog) return;\n\n    if (this.currentDialogEntity) {\n      this.dialogEntities.push(this.currentDialogEntity);\n    }\n\n    this.setCurrentDialogEntity({ id, dialog });\n  }\n\n  close(id: string): void {\n    if (this.currentDialogEntity?.id === id) {\n      // 1. Close current dialog:\n      this.setCurrentDialogEntity(this.dialogEntities.pop());\n    } else {\n      // 2. Close the dialog in the stack:\n      const index = this.dialogEntities.findIndex((entity) => entity.id === id);\n      if (index !== -1) {\n        this.dialogEntities.splice(index, 1);\n      }\n    }\n  }\n\n  private setCurrentDialogEntity(entity: DialogEntity | undefined): void {\n    this.currentDialogEntity = entity;\n    this.setCurrentDialig(entity ? entity.dialog : undefined);\n  }\n}\n","import React, { ReactNode, createContext, useState, useContext, useRef, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { uuidv4 } from '../../helpers';\nimport DialogManager from './dialog-manager';\n\ninterface DialogHostProps {\n  children: ReactNode;\n}\n\nconst DialogHostContext = createContext<DialogManager>(undefined as any);\n\nexport interface DialogToken<T> {\n  show(): Promise<T>;\n  close(): void;\n}\n\ntype DialogFactory<T> = (close: (value: T) => void) => ReactNode;\n\nexport interface DialogBuilder {\n  build<T>(factory: DialogFactory<T>): DialogToken<T>;\n}\n\nclass DialogBuilderInternal implements DialogBuilder {\n  private _manager: DialogManager;\n\n  constructor(manager: DialogManager) {\n    this._manager = manager;\n  }\n\n  build<T>(factory: DialogFactory<T>): DialogToken<T> {\n    let id: string;\n    const close = () => this._manager.close(id);\n    const show = () =>\n      new Promise<T>((resolve) => {\n        id = uuidv4();\n        const dialog = factory((value) => {\n          resolve(value);\n          close();\n        });\n        this._manager.show(id, dialog);\n      });\n    return { show, close };\n  }\n}\n\nexport function useDialogBuilder(): DialogBuilder {\n  const manager = useContext(DialogHostContext);\n  if (!manager) {\n    throw new Error(\n      'The ancestor nodes of the current element does not contain <DialogHost />, ' +\n        'please make sure to use useDialog(Builder) hook in the descendants of <DialogHost />.'\n    );\n  }\n\n  return useMemo(() => new DialogBuilderInternal(manager), [manager]);\n}\n\nexport function useDialog<T>(factory: DialogFactory<T>): DialogToken<T> {\n  const builder = useDialogBuilder();\n  return useMemo(() => builder.build(factory), [builder, factory]);\n}\n\nexport function DialogHost({ children }: DialogHostProps) {\n  const [currentDialog, setCurrentDialog] = useState<ReactNode>();\n  const dialogManagerRef = useRef(new DialogManager(setCurrentDialog));\n\n  const contentPlaceholderClass = classNames('content-placeholder', {\n    blur: currentDialog,\n  });\n  const maskLayerClass = classNames('dialog-mask-layer', {\n    active: currentDialog,\n  });\n\n  return (\n    <div className=\"dialog-host\">\n      <DialogHostContext.Provider value={dialogManagerRef.current}>\n        <div className={contentPlaceholderClass}>{children}</div>\n        <div className={maskLayerClass}>\n          <div className=\"dialog-placeholder\">{currentDialog}</div>\n        </div>\n      </DialogHostContext.Provider>\n    </div>\n  );\n}\n","import React, { ReactNode, useEffect, useReducer } from 'react';\nimport classNames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\n\ntype SlideData = {\n  selectedIndex: number;\n  isStartToEnd: boolean;\n};\n\nconst initSlideData: SlideData = {\n  selectedIndex: 0,\n  isStartToEnd: true,\n};\n\ninterface CarouselProps {\n  autoplay?: boolean;\n  slideWidth?: number | string;\n  slideHeight?: number | string;\n  children: ReactNode;\n}\n\nfunction slideDataReducer(state: SlideData, index: number): SlideData {\n  return {\n    selectedIndex: index,\n    isStartToEnd: index > state.selectedIndex,\n  };\n}\n\nexport default function Carousel({ autoplay, slideWidth, slideHeight, children }: CarouselProps) {\n  const [{ selectedIndex, isStartToEnd }, dispatchSlideData] = useReducer(\n    slideDataReducer,\n    initSlideData\n  );\n  const slides = React.Children.toArray(children);\n  useEffect(() => {\n    if (autoplay) {\n      const token = setInterval(() => {\n        const index = selectedIndex + 1;\n        dispatchSlideData(index >= slides.length ? 0 : index);\n      }, 3000);\n\n      return () => clearInterval(token);\n    }\n  }, [autoplay, selectedIndex, slides.length]);\n\n  const slideDots = [];\n  for (let i = 0; i < slides.length; i++) {\n    const buttonClass = classNames('slide-dot', {\n      selected: selectedIndex === i,\n    });\n    slideDots.push(<button key={i} className={buttonClass} onClick={() => dispatchSlideData(i)} />);\n  }\n\n  const slideItemClass = classNames('slide-item', {\n    'left-to-right': !isStartToEnd,\n    'right-to-left': isStartToEnd,\n  });\n\n  return (\n    <div className=\"carousel\">\n      <div className=\"slide-list\" style={{ width: slideWidth, height: slideHeight }}>\n        {React.Children.map(slides, (item, index) => {\n          const selected = selectedIndex === index;\n          return (\n            <CSSTransition in={selected} timeout={500} classNames={slideItemClass} unmountOnExit>\n              <div style={{ width: slideWidth, height: slideHeight }}>{item}</div>\n            </CSSTransition>\n          );\n        })}\n      </div>\n      <div className=\"slide-dot-list\">{slideDots}</div>\n    </div>\n  );\n}\n","import React, { createContext, useContext, ReactNode, useMemo, useCallback } from 'react';\n\nexport type Navigate = (viewName: string, props: any) => void;\ntype Navigator = (switchName: string, viewName: string, props?: any) => void;\n\ntype SwitchHostContextType = {\n  registerSwitch: (switchName: string, navigate: Navigate) => void;\n  unregisterSwitch: (switchName: string) => void;\n  navigate: Navigator;\n};\n\nexport const SwitchHostContext = createContext<SwitchHostContextType>(undefined as any);\n\nexport function useNavigator<T extends string>(switchName: string) {\n  const context = useContext(SwitchHostContext);\n  return useCallback(\n    (viewName: T, props?: any) => {\n      context.navigate(switchName, viewName, props);\n    },\n    [context, switchName]\n  );\n}\n\nexport function SwitchHost({ children }: { children: ReactNode }) {\n  const switchMap = useMemo(() => new Map<string, Navigate>(), []);\n  const registerSwitch = useCallback(\n    (switchName: string, navigate: Navigate) => {\n      if (switchMap.has(switchName)) {\n        throw new Error('The same switch name already exists.');\n      }\n\n      switchMap.set(switchName, navigate);\n    },\n    [switchMap]\n  );\n  const unregisterSwitch = useCallback((switchName: string) => switchMap.delete(switchName), [\n    switchMap,\n  ]);\n  const navigate = useCallback(\n    (switchName: string, viewName: string, props: any) => {\n      const selectedNavigate = switchMap.get(switchName);\n      if (!selectedNavigate) {\n        throw new Error(`Not found the switch named ${switchName}.`);\n      }\n\n      selectedNavigate(viewName, props);\n    },\n    [switchMap]\n  );\n\n  return (\n    <SwitchHostContext.Provider value={{ registerSwitch, unregisterSwitch, navigate }}>\n      {children}\n    </SwitchHostContext.Provider>\n  );\n}\n","import React, {\n  ReactNode,\n  useContext,\n  useEffect,\n  useCallback,\n  useState,\n  ReactElement,\n} from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { useForceUpdate, useLazyRef } from '../../hooks';\nimport { SwitchHostContext } from './switch-host';\n\nconst EMPTY_OBJECT = {};\n\nexport type CaseItem<T extends string> = {\n  label: T;\n  renderer: (props: any) => ReactNode;\n};\n\ntype SwitchProps<T extends string> = {\n  name: string;\n  cases: ReadonlyArray<CaseItem<T>>;\n};\n\nfunction isReactElement(node: ReactNode): node is ReactElement {\n  return !!node && (node as ReactElement).props !== undefined;\n}\n\nfunction isEmptyObject(obj: Object) {\n  return Object.keys(obj).length === 0 && obj.constructor === Object;\n}\n\nfunction equalProps(left: any, right: any) {\n  return (\n    ((left === undefined || isEmptyObject(left)) &&\n      (right === undefined || isEmptyObject(right))) ||\n    left === right\n  );\n}\n\nexport function Switch<T extends string>({ name, cases }: SwitchProps<T>) {\n  const forceUpdate = useForceUpdate();\n  const loadedViewCache = useLazyRef(() => new Map<string, ReactNode>());\n  const [selectedLabel, setSelectedLabel] = useState('');\n  const { registerSwitch, unregisterSwitch } = useContext(SwitchHostContext);\n\n  // Clear loaded view cache\n  useEffect(() => {\n    const toRemovedKeys = Array.from(loadedViewCache.keys()).filter((label) =>\n      cases.every((item) => item.label !== label)\n    );\n    if (toRemovedKeys) {\n      toRemovedKeys.forEach((label) => loadedViewCache.delete(label));\n    }\n  }, [cases, loadedViewCache]);\n\n  const navigate = useCallback(\n    (viewName: string, props: any) => {\n      const selectedItem = cases.find((item) => item.label === viewName);\n      if (selectedItem) {\n        const viewCache = loadedViewCache;\n        const oldNextView = viewCache.get(viewName);\n        const requireForceUpdate =\n          isReactElement(oldNextView) && !equalProps(oldNextView.props, props);\n        const newNextView = selectedItem.renderer(props ? props : EMPTY_OBJECT);\n        // Update the cache of the selected view.\n        viewCache.set(viewName, newNextView);\n\n        setSelectedLabel((oldValue) => {\n          if (oldValue === viewName && requireForceUpdate) {\n            forceUpdate();\n          }\n\n          return viewName;\n        });\n      }\n    },\n    [cases, forceUpdate, loadedViewCache]\n  );\n  useEffect(() => {\n    registerSwitch(name, navigate);\n    return () => unregisterSwitch(name);\n  }, [name, navigate, registerSwitch, unregisterSwitch]);\n\n  return (\n    <div className=\"switch-wrapper\">\n      {Array.from(loadedViewCache.entries()).map(([label, view]) => {\n        const selected = selectedLabel === label;\n        return (\n          <CSSTransition key={label} appear in={selected} timeout={200}>\n            <div className=\"switch-item\">{view}</div>\n          </CSSTransition>\n        );\n      })}\n    </div>\n  );\n}\n","import React, { useRef, useEffect, useState, ReactElement } from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\n\ninterface TooltipProps {\n  title: string;\n  width?: string;\n  children: ReactElement<any>;\n  placement?: 'top' | 'bottom' | 'left' | 'right';\n}\n\nconst getContainerElement = (function () {\n  let container: HTMLDivElement | null = null;\n\n  return () => {\n    if (container) return container;\n    container = document.createElement('div');\n    container.className = 'tooltip-container';\n    document.body.appendChild(container);\n    return container;\n  };\n})();\n\ntype Point = {\n  x: number;\n  y: number;\n};\n\nconst InvalidPoint = {\n  x: Number.MIN_SAFE_INTEGER,\n  y: Number.MIN_SAFE_INTEGER,\n};\n\nexport default function Tooltip({ title, width, children, placement = 'bottom' }: TooltipProps) {\n  const contentRef = useRef<HTMLDivElement>(null);\n  const tooltipRef = useRef<HTMLSpanElement>(null);\n  const [position, setPosition] = useState<Point>(InvalidPoint);\n  const [active, setActive] = useState(false);\n  useEffect(() => {\n    if (!active) {\n      setPosition(InvalidPoint);\n      return;\n    }\n\n    if (active && contentRef.current && tooltipRef.current) {\n      const contentRect = contentRef.current.getBoundingClientRect();\n      const tooltipRect = tooltipRef.current.getBoundingClientRect();\n\n      switch (placement) {\n        case 'top':\n          setPosition({\n            x: contentRect.x + (contentRect.width - tooltipRect.width) / 2,\n            y: contentRect.y - tooltipRect.height - 8,\n          });\n          break;\n        case 'bottom':\n          setPosition({\n            x: contentRect.x + (contentRect.width - tooltipRect.width) / 2,\n            y: contentRect.y + contentRect.height + 8,\n          });\n          break;\n        case 'left':\n          setPosition({\n            x: contentRect.x - tooltipRect.width - 8,\n            y: contentRect.y + (contentRect.height - tooltipRect.height) / 2,\n          });\n          break;\n        case 'right':\n          setPosition({\n            x: contentRect.x + contentRect.width + 8,\n            y: contentRect.y + (contentRect.height - tooltipRect.height) / 2,\n          });\n          break;\n        default:\n          setPosition(InvalidPoint);\n          break;\n      }\n    }\n  }, [active, placement]);\n\n  const tooltipRoot = getContainerElement();\n  const contentClass = classNames(children.props.className, 'tooltip-content');\n  const tooltipClass = classNames('tooltip-text', { active });\n  return (\n    <>\n      {React.cloneElement(children, {\n        ref: contentRef,\n        className: contentClass,\n        onMouseEnter: () => setActive(true),\n        onMouseLeave: () => setActive(false),\n      })}\n      {ReactDOM.createPortal(\n        <span\n          ref={tooltipRef}\n          className={tooltipClass}\n          style={{\n            left: `${position.x}px`,\n            top: `${position.y}px`,\n            maxWidth: width,\n            visibility: active ? 'visible' : 'hidden',\n          }}\n        >\n          {title}\n        </span>,\n        tooltipRoot\n      )}\n    </>\n  );\n}\n","import React, {\n  ReactNode,\n  ReactNodeArray,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport classNames from 'classnames';\nimport { Size, useResizeObserver, useLazyRef } from '../../hooks';\n\nimport hamburgIcon from '../../assets/main-window/sidebar_hamburg.svg';\nimport { Switch } from './switch';\nimport { uuidv4 } from '../../helpers';\nimport { useNavigator } from './switch-host';\nimport { Tooltip } from '../tooltip';\nimport { useI18n } from '../../i18n';\n\ntype SidebarDisplayMode = 'inline' | 'overlay';\n\nexport type TabItem<TKey> = {\n  key: TKey;\n  header?: (key: TKey, selected: boolean, expanded: boolean) => ReactNode;\n  content: (selected: boolean) => ReactNode;\n};\n\ninterface HamburgTabControlProps<Tkey extends string> {\n  itemsSource: TabItem<Tkey>[];\n  selectedKey: Tkey;\n  criticalSize: number;\n  collapsedSidebarSize: number | string;\n  expandedSidebarSize: number | string;\n  footerBar?: ReactNode;\n  sidebarAddon?: ReactNodeArray;\n}\n\nexport function HamburgTabControl<TKey extends string>({\n  itemsSource,\n  selectedKey,\n  criticalSize,\n  collapsedSidebarSize,\n  expandedSidebarSize,\n  footerBar,\n  sidebarAddon,\n}: HamburgTabControlProps<TKey>) {\n  const swicthName = useLazyRef<string>(() => `hamburg-tab-control-${uuidv4()}`);\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const [displayMode, setDisplayMode] = useState<SidebarDisplayMode>('overlay');\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [, setSelectedKey] = useState(selectedKey);\n  const { $t } = useI18n();\n  const updateSidebarStatus = useCallback(\n    (size: Size) => {\n      const isBigView = size.width > criticalSize;\n      const newDisplayMode: SidebarDisplayMode = isBigView ? 'inline' : 'overlay';\n\n      if (newDisplayMode !== displayMode) {\n        setDisplayMode(newDisplayMode);\n        if (isBigView) {\n          if (!isExpanded) {\n            setIsExpanded(true);\n          }\n        } else {\n          if (isExpanded) {\n            setIsExpanded(false);\n          }\n        }\n      }\n    },\n    [criticalSize, displayMode, isExpanded]\n  );\n  useResizeObserver(wrapperRef, updateSidebarStatus);\n\n  const headers = useMemo(\n    () =>\n      itemsSource\n        .filter((item) => !!item.header)\n        .map((item) => item.header!(item.key, selectedKey === item.key, isExpanded)),\n    [isExpanded, itemsSource, selectedKey]\n  );\n\n  const navigator = useNavigator(swicthName);\n  useEffect(() => {\n    setSelectedKey((prevValue) => {\n      if (prevValue !== selectedKey) {\n        // Notify the current view will be unloaded.\n        navigator(prevValue, { selected: false });\n      }\n\n      navigator(selectedKey, { selected: true });\n\n      return selectedKey;\n    });\n  }, [navigator, selectedKey]);\n\n  const viewCases = useMemo(() => {\n    return itemsSource.map((item) => {\n      return {\n        label: item.key,\n        renderer: ({ selected }: { selected: boolean }) => item.content(selected),\n      };\n    });\n  }, [itemsSource]);\n\n  const wrapperClass = classNames('hamburg-tab-control-wrapper', displayMode, {\n    expanded: isExpanded,\n  });\n\n  return (\n    <div ref={wrapperRef} className={wrapperClass}>\n      <div className=\"hamburg-view layer-0\">\n        <div\n          className=\"hamburg-sidebar\"\n          style={{\n            width:\n              isExpanded && displayMode === 'inline' ? expandedSidebarSize : collapsedSidebarSize,\n          }}\n        />\n        <div className=\"hamburg-content\">\n          <Switch name={swicthName} cases={viewCases} />\n          {footerBar ? <div className=\"hamburg-footer-bar\">{footerBar}</div> : null}\n        </div>\n      </div>\n      <div className=\"hamburg-view layer-1\">\n        <div\n          className=\"hamburg-sidebar\"\n          style={{ width: isExpanded ? expandedSidebarSize : collapsedSidebarSize }}\n        >\n          <Tooltip title={$t('humburg.button.tooltip')} placement='right'>\n            <button className=\"hamburg-button\" onClick={() => setIsExpanded(!isExpanded)}>\n              <img src={hamburgIcon} alt=\"hamburg\" width=\"20px\" height=\"20px\" />\n            </button>\n          </Tooltip>\n          <div className=\"hamburg-tab-headers\">{headers}</div>\n          <div className=\"hamburg-sidebar-addon\">{sidebarAddon}</div>\n        </div>\n        <div className=\"hamburg-mask\" onClick={() => setIsExpanded(false)} />\n      </div>\n    </div>\n  );\n}\n","import React, { ReactNode, useEffect, CSSProperties } from 'react';\n\ntype Align = 'flex-start' | 'center' | 'flex-end' | 'baseline' | 'stretch';\n\nconst SIZE_REGEX = /^(\\d+?)\\*$/;\n\ninterface SpaceProps {\n  direction: 'vertical' | 'horizontal';\n  align?: Align;\n  aligns?: Array<Align>;\n  size?: number | string;\n  sizes?: Array<number | string>;\n  inline?: boolean;\n  children: ReactNode;\n}\n\nfunction assertProps<T>(propName: string, count: number, value?: T, values?: Array<T>) {\n  if (values) {\n    if (values.length < count) {\n      throw new Error(\n        `The length of the ${propName}s (${values.length}) must be greater than ${count}.`\n      );\n    }\n  } else if (!value) {\n    throw new Error(`At least one of the ${propName} and the ${propName}s must be assigned.`);\n  }\n}\n\nexport default function Space({\n  direction,\n  align,\n  aligns,\n  size,\n  sizes,\n  inline,\n  children,\n}: SpaceProps) {\n  useEffect(() => {\n    if (!children) return;\n    const childrenCount = React.Children.count(children);\n\n    assertProps('size', childrenCount - 1, size, sizes);\n    assertProps('align', childrenCount, align, aligns);\n  }, [align, aligns, children, size, sizes]);\n\n  return (\n    <div\n      className=\"space-wrapper\"\n      style={{\n        display: inline ? 'inline-flex' : 'flex',\n        flexDirection: direction === 'vertical' ? 'column' : 'row',\n      }}\n    >\n      {React.Children.map(children, (item, index) => {\n        const alignSelf = aligns ? aligns[index] : align;\n        let style: CSSProperties = { alignSelf };\n        if (index !== 0) {\n          const marginSize = sizes ? sizes[index - 1] : size;\n          let isStarMark = false;\n          if (typeof marginSize === 'string') {\n            const matchGroup = SIZE_REGEX.exec(marginSize);\n            if (matchGroup) {\n              style = { flex: Number.parseInt(matchGroup[1]), ...style };\n              isStarMark = true;\n            }\n          }\n\n          if (!isStarMark) {\n            style =\n              direction === 'vertical'\n                ? { marginTop: marginSize, ...style }\n                : { marginLeft: marginSize, ...style };\n          }\n        }\n\n        return (\n          <div key={`space-item-${index}`} style={style}>\n            {item}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import classNames from 'classnames';\nimport React, {\n  HTMLAttributes,\n  ReactNode,\n  Ref,\n  UIEventHandler,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { useCombinedRefs, useResizeObserver } from '../../hooks';\n\nconst FLOAT_TOLERANCE = 1e-3;\n\ntype ScrollBarStyle = 'inline' | 'overlay';\ninterface ScrollViewerProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  scrollBarStyle?: ScrollBarStyle;\n  enableVerticalScrollBar?: boolean;\n  enableHorizontalScrollBar?: boolean;\n}\n\nconst ScrollViewer = React.forwardRef(\n  (\n    {\n      children,\n      scrollBarStyle,\n      enableVerticalScrollBar,\n      enableHorizontalScrollBar,\n      className,\n      onScroll,\n      style,\n    }: ScrollViewerProps,\n    ref: Ref<HTMLDivElement>\n  ) => {\n    const wrapperRef = useRef<HTMLDivElement>(null);\n    const scrollContentRef = useRef<HTMLDivElement>(null);\n    const combinedRef = useCombinedRefs(ref, wrapperRef);\n    const [scrollBarTop, setScrollBarTop] = useState(0);\n    const [scrollBarHeight, setScrollBarHeight] = useState(0);\n    const [scrollBarLeft, setScrollBarLeft] = useState(0);\n    const [scrollBarWidth, setScrollBarWidth] = useState(0);\n\n    const updateSize = useCallback(() => {\n      const view = wrapperRef.current;\n      if (!view) return;\n      const viewWidth = view.clientWidth;\n      const viewHeight = view.clientHeight;\n\n      if (enableHorizontalScrollBar) {\n        const ratio = viewWidth / view.scrollWidth;\n        setScrollBarWidth(viewWidth * ratio);\n        setScrollBarLeft(view.scrollLeft * ratio);\n      }\n\n      if (enableVerticalScrollBar) {\n        const ratio = viewHeight / view.scrollHeight;\n        setScrollBarHeight(viewHeight * ratio);\n        setScrollBarTop(view.scrollTop * ratio);\n      }\n    }, [enableHorizontalScrollBar, enableVerticalScrollBar]);\n    useResizeObserver(wrapperRef, updateSize);\n    useResizeObserver(scrollContentRef, updateSize);\n    useEffect(() => {\n      if (scrollContentRef.current) {\n        const mutationObserver = new MutationObserver(() => updateSize());\n        mutationObserver.observe(scrollContentRef.current, {\n          childList: true,\n          subtree: true,\n        });\n        return () => mutationObserver.disconnect();\n      }\n    }, [updateSize]);\n\n    const wrapperClass = classNames(\n      'scroll-viewer-wrapper',\n      className,\n      `${scrollBarStyle ?? 'overlay'}`\n    );\n\n    const activeHorizontalScrollBar =\n      enableHorizontalScrollBar &&\n      wrapperRef.current &&\n      wrapperRef.current.scrollWidth - wrapperRef.current.clientWidth > FLOAT_TOLERANCE;\n    const activeVerticalScrollBar =\n      enableVerticalScrollBar &&\n      wrapperRef.current &&\n      wrapperRef.current.scrollHeight - wrapperRef.current.clientHeight > FLOAT_TOLERANCE;\n\n    const horizontalScrollBarClass = classNames('scroll-bar', 'horizontal', {\n      active: activeHorizontalScrollBar,\n    });\n    const verticalScrollBarClass = classNames('scroll-bar', 'vertical', {\n      active: activeVerticalScrollBar,\n    });\n\n    const handleScroll = useCallback(() => {\n      const view = wrapperRef.current;\n      if (!view) return;\n\n      if (activeHorizontalScrollBar) {\n        const barLeft = (view.clientWidth * view.scrollLeft) / view.scrollWidth;\n        setScrollBarLeft(barLeft);\n      }\n\n      if (activeVerticalScrollBar) {\n        const barTop = (view.clientHeight * view.scrollTop) / view.scrollHeight;\n        setScrollBarTop(barTop);\n      }\n    }, [activeHorizontalScrollBar, activeVerticalScrollBar]);\n    const innerOnScroll = useCallback<UIEventHandler<HTMLDivElement>>(\n      (...args) => {\n        handleScroll();\n        if (onScroll) {\n          onScroll(...args);\n        }\n      },\n      [handleScroll, onScroll]\n    );\n    const handleHorizontalScroll = useCallback(\n      (e: React.WheelEvent<HTMLDivElement>) => {\n        if (!wrapperRef.current || !enableHorizontalScrollBar) return;\n        // https://stackoverflow.com/a/15343916\n        const delta = Math.max(-1, Math.min(1, e.deltaX || e.deltaY || -e.detail));\n        wrapperRef.current.scrollLeft += delta * 40;\n      },\n      [enableHorizontalScrollBar]\n    );\n\n    return (\n      <div className={wrapperClass} style={style}>\n        <div\n          ref={combinedRef}\n          className=\"scroll-view\"\n          onScroll={innerOnScroll}\n          onWheel={handleHorizontalScroll}\n        >\n          <div ref={scrollContentRef} className=\"scroll-content\">\n            {children}\n          </div>\n        </div>\n        {enableHorizontalScrollBar ? (\n          <div className={horizontalScrollBarClass}>\n            <div\n              className=\"scroll-thumb\"\n              style={{\n                left: scrollBarLeft || 0,\n                width: activeHorizontalScrollBar && scrollBarWidth ? scrollBarWidth : 0,\n              }}\n            />\n          </div>\n        ) : null}\n        {enableVerticalScrollBar ? (\n          <div className={verticalScrollBarClass}>\n            <div\n              className=\"scroll-thumb\"\n              style={{\n                top: scrollBarTop || 0,\n                height: activeVerticalScrollBar && scrollBarHeight ? scrollBarHeight : 0,\n              }}\n            />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n);\n\nScrollViewer.defaultProps = {\n  scrollBarStyle: 'overlay',\n  enableHorizontalScrollBar: false,\n  enableVerticalScrollBar: false,\n};\n\nexport default ScrollViewer;\n","import React, { ReactNode, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { ScrollViewer } from '../layout-container';\nimport { Size, useResizeObserver } from '../../hooks';\n\n/**\n * Gets the size of items with the specified start index and item count.\n * @param count The number of items starting at index 0. The `undefined` indicates the total items.\n * @returns The size of seleced items.\n */\ntype GetItemsSize = (count?: number) => number;\n/**\n * Gets the count of items contained in the specified size.\n * @param size The specified size.\n * @param startIndex: An offset of items. `undefined == 0`.\n * @returns The count of fully visible elements in the region.\n */\ntype GetItemsCount = (size: number, startIndex?: number) => number;\ntype UnfixedSizeProvider = {\n  getItemsSize: GetItemsSize;\n  getItemsCount: GetItemsCount;\n};\ntype FixedSizeProvider = {\n  itemSize: number;\n  itemCount: number;\n};\n\ninterface VirtualizingListBoxProps {\n  sizeProvider: UnfixedSizeProvider | FixedSizeProvider;\n  renderItems: (startIndex: number, endIndex: number) => ReadonlyArray<ReactNode>;\n\n  selectedIndex?: number;\n  selectable?: boolean;\n  setSelectedIndex?: (value: number) => void;\n}\n\nexport function VirtualizingListBox({\n  sizeProvider,\n  renderItems,\n  selectedIndex,\n  selectable,\n  setSelectedIndex,\n}: VirtualizingListBoxProps) {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const [viewSize, setViewSize] = useState(0);\n  const [startIndex, setStartIndex] = useState(0);\n  const [endIndex, setEndIndex] = useState(0);\n  const totalHeight = useMemo(() => {\n    if (isFixedSizeProvider(sizeProvider)) {\n      return sizeProvider.itemCount * sizeProvider.itemSize;\n    } else {\n      return wrapperRef.current?.scrollHeight;\n    }\n  }, [sizeProvider]);\n  const updateSize = useCallback((size: Size) => {\n    const newViewSize = size.height;\n    setViewSize((oldValue) => {\n      if (Math.abs(newViewSize - oldValue) > 1e-6) {\n        return newViewSize;\n      }\n      return oldValue;\n    });\n  }, []);\n  useResizeObserver(wrapperRef, updateSize);\n\n  const handleScroll = useCallback(() => {\n    if (wrapperRef.current) {\n      const {\n        startIndex: newStartIndex,\n        endIndex: newEndIndex,\n        viewStartIndex,\n        viewEndIndex,\n      } = getItemsRange(sizeProvider, wrapperRef.current.scrollTop, viewSize);\n\n      if (viewStartIndex < startIndex || viewEndIndex > endIndex) {\n        setStartIndex(newStartIndex);\n        setEndIndex(newEndIndex);\n      }\n    }\n  }, [startIndex, endIndex, sizeProvider, viewSize]);\n\n  // Trigger the handleScroll to update start/endIndex immediatly when the handleScroll was changed.\n  useEffect(() => handleScroll(), [handleScroll]);\n\n  const itemElements = useMemo(\n    () =>\n      renderItems(startIndex, endIndex).map((item, index) => {\n        const offsetIndex = startIndex + index;\n        const itemClass = classNames('list-box-item', {\n          selected: selectable && offsetIndex === selectedIndex,\n        });\n        return (\n          <li\n            key={offsetIndex}\n            className={itemClass}\n            onClick={() => {\n              if (selectable && setSelectedIndex) {\n                setSelectedIndex(offsetIndex);\n              }\n            }}\n            style={{ top: `${getItemsSize(sizeProvider, offsetIndex)}px` }}\n          >\n            {item}\n          </li>\n        );\n      }),\n    [startIndex, endIndex, selectable, selectedIndex, sizeProvider, renderItems, setSelectedIndex]\n  );\n\n  return (\n    <div className=\"list-box-wrapper\">\n      <ScrollViewer ref={wrapperRef} onScroll={handleScroll}>\n        <ul className=\"list-box-ul\" style={{ height: `${totalHeight}px` }}>\n          {/* HACK: Hold the height of the scroll area, and place it on top of item elements to\n           * make sure it is in the lower layer of item elements, otherwise, its hit test\n           * may cover item elements.\n           */}\n          <div\n            style={{\n              position: 'absolute',\n              top: `${getItemsSize(sizeProvider)}px`,\n              height: '1px',\n              width: '1px',\n            }}\n          />\n          {itemElements}\n        </ul>\n      </ScrollViewer>\n    </div>\n  );\n}\n\nfunction getItemsSize(sizeProvider: UnfixedSizeProvider | FixedSizeProvider, index?: number) {\n  if (isFixedSizeProvider(sizeProvider)) {\n    return (index ?? sizeProvider.itemCount) * sizeProvider.itemSize;\n  } else {\n    return sizeProvider.getItemsSize(index);\n  }\n}\n\nfunction getItemsRange(\n  sizeProvider: UnfixedSizeProvider | FixedSizeProvider,\n  scrollTop: number,\n  viewSize: number\n) {\n  if (isFixedSizeProvider(sizeProvider)) {\n    return getItemsRangeForFixedItemSize(sizeProvider, scrollTop, viewSize);\n  } else {\n    return getItemsRangeForUnfixedItemSize(sizeProvider, scrollTop, viewSize);\n  }\n}\n\nfunction isFixedSizeProvider(\n  sizeProvider: FixedSizeProvider | UnfixedSizeProvider\n): sizeProvider is FixedSizeProvider {\n  return (sizeProvider as FixedSizeProvider).itemSize !== undefined;\n}\n\nfunction getItemsRangeForUnfixedItemSize(\n  sizeProvider: UnfixedSizeProvider,\n  scrollTop: number,\n  viewSize: number\n) {\n  const viewStartIndex = sizeProvider.getItemsCount(scrollTop);\n  const viewCount = sizeProvider.getItemsCount(viewSize, viewStartIndex) + 1;\n  const extraItemCount = viewCount;\n  // Correct the data: add extra items\n  const viewEndIndex = viewStartIndex + viewCount;\n  const startIndex = Math.max(viewStartIndex - extraItemCount, 0);\n  const endIndex = viewEndIndex + extraItemCount;\n  return { viewStartIndex, viewEndIndex, startIndex, endIndex };\n}\n\nfunction getItemsRangeForFixedItemSize(\n  sizeProvider: FixedSizeProvider,\n  scrollTop: number,\n  viewSize: number\n) {\n  const { itemSize } = sizeProvider;\n  const viewStartIndex = Math.floor(scrollTop / itemSize);\n  const viewCount = Math.ceil(viewSize / itemSize);\n  const extraItemCount = viewCount;\n  // Correct the data: add extra items\n  const viewEndIndex = viewStartIndex + viewCount;\n  const startIndex = Math.max(viewStartIndex - extraItemCount, 0);\n  const endIndex = viewEndIndex + extraItemCount;\n  return { viewStartIndex, viewEndIndex, startIndex, endIndex };\n}\n","import React, { ReactNode, useState, useEffect, CSSProperties, useRef } from 'react';\nimport classNames from 'classnames';\n\nexport interface ComboBoxItem {\n  value: unknown;\n  label: string;\n}\n\ninterface ComboBoxProps {\n  itemsSource: Array<ComboBoxItem>;\n  selectedItem: ComboBoxItem;\n  dropDownBoxWidth?: number | string;\n  dorpDownBoxHeight?: number | string;\n  style?: CSSProperties;\n\n  setSelectedItem: (item: ComboBoxItem) => void;\n  renderItem?: (item: ComboBoxItem) => ReactNode;\n  renderDisplayItem?: (item: ComboBoxItem) => ReactNode;\n}\n\nexport function ComboBox({\n  itemsSource,\n  selectedItem,\n  dropDownBoxWidth,\n  dorpDownBoxHeight,\n  style,\n  setSelectedItem,\n  renderItem,\n  renderDisplayItem,\n}: ComboBoxProps) {\n  const [active, setActive] = useState(false);\n  const selectedElementRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (active) {\n      const onGlobalClick = () => setActive(false);\n      window.addEventListener('click', onGlobalClick);\n      window.addEventListener('blur', onGlobalClick);\n      return () => {\n        window.removeEventListener('click', onGlobalClick);\n        window.removeEventListener('blur', onGlobalClick);\n      };\n    }\n  }, [active]);\n  useEffect(() => {\n    if (active && selectedElementRef.current) {\n      selectedElementRef.current.scrollIntoView();\n    }\n  }, [active]);\n  const selectedIndex = itemsSource.findIndex((item) => item.label === selectedItem.label);\n\n  const comboBoxClass = classNames('combo-box', { active });\n  const dropDownBoxClass = classNames('drop-down-box', { active });\n\n  return (\n    <div className={comboBoxClass} onClick={() => setActive(true)} style={style}>\n      <span className=\"text-box\">\n        {renderDisplayItem ? renderDisplayItem(selectedItem) : selectedItem.label}\n      </span>\n      <div\n        className={dropDownBoxClass}\n        style={{ width: dropDownBoxWidth, maxHeight: dorpDownBoxHeight }}\n      >\n        {itemsSource.map((item, index) => {\n          const selected = selectedIndex === index;\n          const itemClass = classNames('drop-down-box-item', { selected });\n\n          const itemElement = (\n            <div\n              key={`${item.label}-${index}`}\n              className={itemClass}\n              onClick={(e) => {\n                e.stopPropagation();\n                setSelectedItem(item);\n                setActive(false);\n              }}\n            >\n              {renderItem ? renderItem(item) : <span>{item.label}</span>}\n            </div>\n          );\n\n          return selected\n            ? React.cloneElement(itemElement, { ref: selectedElementRef })\n            : itemElement;\n        })}\n      </div>\n    </div>\n  );\n}\n","import { useClickCombo } from \"./use-click-combo\";\n\ninterface ContextmenuManger {\n  enable(): void\n  disable(): void\n}\n\nconst preventFn = (event: Event) => event.preventDefault()\n\nconst contextmenuManager: ContextmenuManger = {\n  enable() {\n    window.removeEventListener('contextmenu', preventFn)\n  },\n  disable() {\n    window.addEventListener('contextmenu', preventFn)\n  },\n}\n\nexport function getContextmenuManager(): ContextmenuManger {\n  return contextmenuManager\n}\n\nexport function useContextmenuClickCombo(): {\n  click(): void\n} {\n  return useClickCombo({\n    timeout: 1000 * 10,\n    times: 10,\n    onFire() {\n      contextmenuManager.enable()\n      alert('Contextmenu enabled')\n    },\n  }, []);\n}\n","import { useMemo, useRef, DependencyList } from 'react';\n\n/**\n *  combo  options.timeout  click \n * options.times  onFire\n */\nexport function useClickCombo(\n  options: {\n    timeout: number\n    times: number\n    onFire: () => void\n  },\n  deps: DependencyList,\n): {\n  click(): void\n  reset(): void\n} {\n  /**\n   *  useMemo  combo  ID  combo \n   *  combo  click  onFire \n   */\n  const comboIdRef = useRef(0)\n\n  return useMemo(\n    () => {\n      comboIdRef.current += 1\n      const comboId = comboIdRef.current\n\n      let timer: number | undefined\n      let count = 0\n\n      const reset = () => {\n        count = 0\n      }\n\n      const click = () => {\n        if (!timer) {\n          timer = window.setTimeout(reset, options.timeout)\n        }\n\n        count += 1\n\n        if (\n          count === options.times &&\n          comboId === comboIdRef.current\n        ) {\n          options.onFire?.()\n        }\n      }\n\n      return { click, reset }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    deps,\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { DialogHost } from '../components/dialog';\nimport { SwitchHost } from '../components/items-control';\nimport { LanguageCode, I18nContext } from '../i18n';\nimport { isDarkMode, isChineseLocale, waitJavaApiReady, log } from '../java-api';\n\nimport '../styles/normalize.css';\nimport '../styles/index.scss';\nimport { getContextmenuManager } from '../hooks/use-contextmenu-manager';\n\nfunction reportError(message: string) {\n  try {\n    log('warn', message);\n  } catch {\n    // Ignore\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    log('error', message);\n  }\n}\n\nfunction App({ children }: { children: React.FunctionComponentElement<any> }) {\n  const [culture, setCulture] = useState<LanguageCode>('zh-CN');\n  useEffect(() => {\n    if (isDarkMode()) {\n      document.body.classList.add('theme-dark');\n    }\n\n    setCulture(isChineseLocale() ? 'zh-CN' : 'en-US');\n  }, []);\n\n  return (\n    <I18nContext.Provider value={culture}>\n      <SwitchHost>\n        <DialogHost>{children}</DialogHost>\n      </SwitchHost>\n    </I18nContext.Provider>\n  );\n}\n\n/**\n * Run the specified app component after specified Java functions are registered successfully.\n *\n * Because the registration of the java function is asynchronous.\n * It is possible that the registration is not successful after the UI is displayed,\n * which will cause the call to fail.\n *\n * @param element The specified app component.\n * @param requiredJavaFuncNameList The specified Java functions list.\n */\nexport default function runApp(\n  element: React.FunctionComponentElement<any>,\n  requiredJavaFuncNameList?: ReadonlyArray<string>\n) {\n  // Debug\n  window.onerror = (e, source, _lineno, _colno, error) => {\n    const message = `error=${e}, source=${source}, name=${error?.name}, message=${error?.message} \\n\\n ${error?.stack}`;\n    reportError(message);\n  };\n  window.onunhandledrejection = (error: any) => {\n    const message = `PROMISE REJECT ERROR: reason=${error?.reason}, error=${error}`;\n    reportError(message);\n  };\n\n  getContextmenuManager().disable();\n\n  const render = () => {\n    // Log the current browser version.\n    const versionInfo = `The current browser version is [${navigator.appVersion}]`;\n    try {\n      log('info', versionInfo);\n    } catch {\n      log('error', versionInfo);\n    }\n\n    ReactDOM.render(\n      <React.StrictMode>\n        <App>{element}</App>\n      </React.StrictMode>,\n      document.getElementById('root')\n    );\n  };\n\n  if (process.env.NODE_ENV === 'production') {\n    waitJavaApiReady(requiredJavaFuncNameList ?? []).then(render);\n  } else {\n    import('../java-api/mock/index').then(render);\n  }\n}\n","import React, { InputHTMLAttributes, useState, ReactNode, Ref } from 'react';\nimport classNames from 'classnames';\nimport errorIcon from '../../assets/error_icon.svg';\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  disabled?: boolean;\n  errorText?: string;\n  addonBefore?: ReactNode;\n  addonAfter?: ReactNode;\n}\n\nconst Input = React.forwardRef(\n  (\n    { disabled, errorText, addonBefore, addonAfter, className, ...extraProps }: InputProps,\n    ref: Ref<HTMLInputElement>\n  ) => {\n    const [focused, setFocused] = useState(false);\n    const wrapperClass = classNames('input-wrapper', className, {\n      focused: focused && !disabled,\n      error: !!errorText,\n      disabled,\n    });\n\n    return (\n      <div className={wrapperClass} tabIndex={1}>\n        {addonBefore}\n        <input\n          ref={ref}\n          type=\"text\"\n          disabled={disabled}\n          {...extraProps}\n          onFocus={() => setFocused(true)}\n          onBlur={() => setFocused(false)}\n        />\n        {errorText ? (\n          <div className=\"error-text\">\n            <img src={errorIcon} alt=\"error-icon\" width=\"12px\" height=\"12px\" />\n            <span style={{ marginLeft: '6px' }}>{errorText}</span>\n          </div>\n        ) : null}\n        {addonAfter}\n      </div>\n    );\n  }\n);\n\nexport default Input;\n","import React, { InputHTMLAttributes, ReactNode, Ref } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport classNames from 'classnames';\n\nimport searchIcon from '../../assets/main-window/search.svg';\nimport closeIcon from '../../assets/main-window/close.svg';\nimport { Tooltip } from '../tooltip';\nimport { useI18n } from '../../i18n';\n\ninterface SearchBoxProps extends InputHTMLAttributes<HTMLInputElement> {\n  addon?: ReactNode;\n  isEditing: boolean;\n  setIsEditing: (value: boolean) => void;\n}\n\nconst SearchBox = React.forwardRef(\n  (\n    { addon, isEditing, setIsEditing, className, ...extraProps }: SearchBoxProps,\n    ref: Ref<HTMLInputElement>\n  ) => {\n    const { $t } = useI18n();\n    const wrapperClass = classNames('search-box-wrapper', className);\n\n    return (\n      <div className={wrapperClass}>\n        <img className=\"search-icon\" src={searchIcon} alt=\"search-icon\" />\n        <input\n          ref={ref}\n          tabIndex={-1}\n          className=\"search-input\"\n          type=\"text\"\n          onFocus={() => setIsEditing(true)}\n          {...extraProps}\n        />\n        <div className=\"search-addon-wrapper\">\n          <CSSTransition in={isEditing} timeout={400} classNames=\"float-in\" unmountOnExit>\n            <Tooltip title={$t('button.cancel')}>\n              <button className=\"search-close\" onClick={() => setIsEditing(false)}>\n                <img src={closeIcon} alt=\"close-icon\" style={{ width: '16px', height: '16px' }} />\n              </button>\n            </Tooltip>\n          </CSSTransition>\n          <CSSTransition in={!isEditing} timeout={400} classNames=\"float-in\" unmountOnExit>\n            <div className=\"search-addon\">{addon}</div>\n          </CSSTransition>\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default SearchBox;\n","import React, { ReactNode, useEffect, useRef } from 'react';\nimport classNames from 'classnames';\n\ntype ButtonType = 'primary' | 'default' | 'link';\n\ninterface CustomButtonProps {\n  respondToEnter?: boolean;\n  buttonType?: ButtonType;\n  children: ReactNode;\n}\n\ntype ButtonProps = CustomButtonProps & Partial<React.ButtonHTMLAttributes<HTMLButtonElement>>;\n\nconst Button: React.FC<ButtonProps> = ({\n  buttonType,\n  respondToEnter,\n  children,\n  className,\n  ...props\n}: ButtonProps) => {\n  const { disabled } = props;\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  useEffect(() => {\n    if (respondToEnter && !disabled) {\n      const handler = (e: KeyboardEvent) => {\n        if (e.key === 'Enter') {\n          buttonRef.current?.click();\n        }\n      };\n      const unregisterDefaultHandler = () => {\n        window.removeEventListener('keypress', handler);\n      };\n      const registerDefaultHandler = () => {\n        unregisterDefaultHandler();\n        window.addEventListener('keypress', handler);\n      };\n\n      registerDefaultHandler();\n      window.addEventListener('focus', registerDefaultHandler);\n      window.addEventListener('blur', unregisterDefaultHandler);\n\n      return () => {\n        window.removeEventListener('focus', registerDefaultHandler);\n        window.removeEventListener('blur', unregisterDefaultHandler);\n        unregisterDefaultHandler();\n      };\n    }\n  }, [disabled, respondToEnter]);\n\n  const buttonClass = classNames('button', {\n    [`${buttonType}`]: buttonType,\n    [`${className}`]: className,\n  });\n\n  return (\n    <button ref={buttonRef} type=\"button\" className={buttonClass} {...props}>\n      {children}\n    </button>\n  );\n};\n\nButton.defaultProps = {\n  buttonType: 'default',\n};\n\nexport default Button;\n","export type Point = {\n  x: number;\n  y: number;\n};\n\nexport type Size = {\n  width: number;\n  height: number;\n};\n\nexport type Rect = Point & Size;\n\nexport const INVALID_POINT: Point = {\n  x: Number.MIN_SAFE_INTEGER,\n  y: Number.MIN_SAFE_INTEGER,\n};\n\nexport const INVALID_SIZE: Size = {\n  width: Number.MIN_SAFE_INTEGER,\n  height: Number.MIN_SAFE_INTEGER,\n};\n\nexport const INVALID_RECT: Rect = {\n  ...INVALID_POINT,\n  ...INVALID_SIZE,\n};\n","import classNames from 'classnames';\nimport React, { ReactNode, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { INVALID_POINT, INVALID_RECT, Point, Rect, Size } from '../common-types';\n\nexport type SplitLine = 'split-line';\n\nexport type MenuCommandItem = {\n  text: string;\n  onClick: (event?: React.MouseEvent) => void;\n};\n\nexport type MenuItem = MenuCommandItem | SplitLine;\n\ntype ContentMenuProps = {\n  items: MenuItem[];\n  renderTarget: (open: (targetRect: Rect) => void) => ReactNode;\n  onActiveChanged?: (value: boolean) => void;\n};\n\nconst getContainerElement = (function () {\n  let container: HTMLDivElement | null = null;\n\n  return () => {\n    if (container) return container;\n    container = document.createElement('div');\n    container.className = 'context-menu-container';\n    document.body.appendChild(container);\n    return container;\n  };\n})();\n\nfunction calculatePosition(\n  origin: Point,\n  popupSize: Size,\n  viewSize: Size,\n  targetSize: Size = { width: 0, height: 0 },\n  offset: number = 0\n): Point {\n  const x =\n    origin.x + popupSize.width > viewSize.width\n      ? origin.x - popupSize.width + targetSize.width\n      : origin.x;\n  const y =\n    origin.y + targetSize.height + offset + popupSize.height > viewSize.height\n      ? origin.y - popupSize.height - offset\n      : origin.y + targetSize.height + offset;\n\n  return { x, y };\n}\n\nexport default function ContextMenu({ items, renderTarget, onActiveChanged }: ContentMenuProps) {\n  const container = getContainerElement();\n  const listRef = useRef<HTMLDivElement>(null);\n\n  const [active, setActive] = useState(false);\n  const [targetRect, setTargetRect] = useState<Rect>(INVALID_RECT);\n  const [position, setPosition] = useState<Point>(INVALID_POINT);\n\n  useEffect(() => {\n    const unactive = () => setActive(false);\n\n    container.addEventListener('click', unactive);\n    container.addEventListener('auxclick', unactive);\n    container.addEventListener('contextmenu', unactive);\n    window.addEventListener('blur', unactive);\n\n    return () => {\n      container.removeEventListener('click', unactive);\n      container.removeEventListener('auxclick', unactive);\n      container.removeEventListener('contextmenu', unactive);\n      window.removeEventListener('blur', unactive);\n    };\n  }, [container]);\n\n  useEffect(() => {\n    if (active) {\n      container.classList.add('active');\n    } else {\n      container.classList.remove('active');\n    }\n  }, [active, container.classList]);\n\n  useEffect(() => {\n    if (onActiveChanged) {\n      onActiveChanged(active);\n    }\n  }, [active, onActiveChanged]);\n\n  useEffect(() => {\n    if (active && listRef.current) {\n      const newPosition = calculatePosition(\n        { x: targetRect.x, y: targetRect.y },\n        { width: listRef.current.offsetWidth, height: listRef.current.offsetHeight },\n        { width: container.offsetWidth, height: container.offsetHeight },\n        { width: targetRect.width, height: targetRect.height },\n        4\n      );\n\n      setPosition(newPosition);\n    }\n  }, [\n    active,\n    container.offsetHeight,\n    container.offsetWidth,\n    targetRect.height,\n    targetRect.width,\n    targetRect.x,\n    targetRect.y,\n  ]);\n\n  const updateTargetRectAndActive = useCallback((rect: Rect) => {\n    setTargetRect(rect);\n    setActive(true);\n  }, []);\n\n  const menuClass = classNames('context-menu-list', { active });\n\n  const targetElement = useMemo(() => renderTarget(updateTargetRectAndActive), [\n    renderTarget,\n    updateTargetRectAndActive,\n  ]);\n\n  return (\n    <>\n      {targetElement}\n      {ReactDOM.createPortal(\n        <div\n          ref={listRef}\n          className={menuClass}\n          style={{ left: `${position.x}px`, top: `${position.y}px` }}\n        >\n          {items.map((item, index) =>\n            item === 'split-line' ? (\n              <div key={`split-line-${index}`} className=\"split-line\" />\n            ) : (\n              <div key={`${item.text}-${index}`} className=\"menu-item\" onClick={item.onClick}>\n                {item.text}\n              </div>\n            )\n          )}\n        </div>,\n        container\n      )}\n    </>\n  );\n}\n","import classNames from 'classnames';\nimport React, { useRef, useState } from 'react';\nimport ContextMenu, { MenuItem } from '../items-control/context-menu';\nimport { Tooltip } from '../tooltip';\n\ntype DropdownButtonProps = {\n  icon: string;\n  tooltip: string,\n  items: MenuItem[];\n  onActiveChanged?: (value: boolean) => void;\n};\n\nexport default function DropdownButton({ icon, tooltip, items, onActiveChanged }: DropdownButtonProps) {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const [active, setActive] = useState(false);\n  const buttonClass = classNames('dropdown-button', { active });\n\n  return (\n    <ContextMenu\n      items={items}\n      onActiveChanged={(value) => {\n        if (onActiveChanged) {\n          onActiveChanged(value);\n        }\n        setActive(value);\n      }}\n      renderTarget={(open) => {\n        return (\n          <button\n            ref={buttonRef}\n            className={buttonClass}\n            onClick={(e) => {\n              e.stopPropagation();\n              if (buttonRef.current) {\n                const buttonRect = buttonRef.current.getBoundingClientRect();\n                open({\n                  x: buttonRect.left,\n                  y: buttonRect.top,\n                  width: buttonRef.current.offsetWidth,\n                  height: buttonRef.current.offsetHeight,\n                });\n              }\n            }}\n          >\n            <Tooltip title={tooltip}>\n              <img className=\"dropdown-icon\" src={icon} alt=\"dropdown-icon\" />\n            </Tooltip>\n          </button>\n        );\n      }}\n    />\n  );\n}\n","import React, { HTMLAttributes } from 'react';\n\ntype HighlightSpanProps = {\n  sourceText: string;\n  queriesText: string;\n};\n\ntype Range = {\n  start: number;\n  end: number;\n};\n\ntype Fragment = {\n  text: string;\n  isQuery: boolean;\n};\n\n// Linq helper functions\n\nfunction distinct<T>(list: T[]) {\n  const set = new Set(list);\n  return Array.from(set.values());\n}\n\nfunction getQueryRanges(sourceText: string, query: string) {\n  const result = new Array<Range>();\n  if (!sourceText || !query) return result;\n\n  let nextStartIndex = 0;\n  while (nextStartIndex < sourceText.length) {\n    const index = sourceText.indexOf(query, nextStartIndex);\n\n    if (index === -1) return result;\n\n    nextStartIndex = index + query.length;\n    result.push({ start: index, end: nextStartIndex });\n  }\n\n  return result;\n}\n\nfunction mergeRanges(ranges: ReadonlyArray<Range>) {\n  const result = new Array<Range>();\n  if (!ranges.length) return result;\n\n  const copyRanges = Array.from(ranges);\n  copyRanges.sort((a, b) => (a.start !== b.start ? a.start - b.start : a.end - b.end));\n  let { start: startPointer, end: endPointer } = copyRanges[0];\n\n  for (let { start, end } of copyRanges.slice(1)) {\n    if (start <= endPointer) {\n      if (endPointer < end) {\n        endPointer = end;\n      }\n    } else {\n      result.push({ start: startPointer, end: endPointer });\n      [startPointer, endPointer] = [start, end];\n    }\n  }\n\n  result.push({ start: startPointer, end: endPointer });\n  return result;\n}\n\nfunction splitTextByOrderedDisjointRanges(sourceText: string, mergedRanges: ReadonlyArray<Range>) {\n  const result = new Array<Fragment>();\n  if (!sourceText) return result;\n\n  if (!mergedRanges.length) {\n    result.push({ text: sourceText, isQuery: false });\n    return result;\n  }\n\n  const { start: start0, end: end0 } = mergedRanges[0];\n\n  if (start0 > 0) {\n    result.push({ text: sourceText.substring(0, start0), isQuery: false });\n  }\n\n  result.push({ text: sourceText.substring(start0, end0), isQuery: true });\n\n  let previousEnd = end0;\n  for (let { start, end } of mergedRanges.slice(1)) {\n    result.push({ text: sourceText.substring(previousEnd, start), isQuery: false });\n    result.push({ text: sourceText.substring(start, end), isQuery: true });\n    previousEnd = end;\n  }\n\n  if (previousEnd < sourceText.length) {\n    result.push({ text: sourceText.substring(previousEnd), isQuery: false });\n  }\n\n  return result;\n}\n\nexport default function HighlightSpan({\n  sourceText,\n  queriesText,\n  ...otherProps\n}: HighlightSpanProps & HTMLAttributes<HTMLSpanElement>) {\n  const queries = distinct(\n    queriesText\n      .toLowerCase()\n      .split(' ')\n      .filter((item) => !!item)\n  );\n  const ranges = queries.flatMap((query) => getQueryRanges(sourceText.toLowerCase(), query));\n  const mergedRanges = mergeRanges(ranges);\n  const fragments = splitTextByOrderedDisjointRanges(sourceText, mergedRanges);\n\n  return (\n    <span {...otherProps}>\n      {fragments.map((fragment, index) =>\n        fragment.isQuery ? <mark key={index}>{fragment.text}</mark> : fragment.text\n      )}\n    </span>\n  );\n}\n","import { LanguageCode } from '../../i18n';\nimport {\n  Dispose,\n  EventHandler,\n  importJavaFunc,\n  importJavaPromise,\n  importJavaPromiseNonJson,\n  subscribeJavaEvent,\n} from '../../java-interop';\n\n// ***************************************************************************\n// Java Event\n// ***************************************************************************\n\nexport type RecentEventMessage = {\n  unreadCount: number;\n};\n\nexport type SyncStatusType = 'failed' | 'paused' | 'syncing' | 'synced';\n\nexport type SyncStatusMessage = {\n  isPaused: boolean;\n  type: SyncStatusType;\n  details: string;\n};\n\nfunction subscribeMainWindowEvent(channel: 'update-sandbox', handler: EventHandler<void>): Dispose;\nfunction subscribeMainWindowEvent(\n  channel: 'update-recent-event',\n  handler: EventHandler<RecentEventMessage>\n): Dispose;\nfunction subscribeMainWindowEvent(\n  channel: 'update-sync-status',\n  handler: EventHandler<SyncStatusMessage>\n): Dispose;\nfunction subscribeMainWindowEvent(\n  channel: 'goto-settings-tab',\n  handler: EventHandler<void>\n): Dispose;\nfunction subscribeMainWindowEvent(channel: any, handler: any) {\n  return subscribeJavaEvent(channel, handler);\n}\n\nexport { subscribeMainWindowEvent };\n\nexport const executeCallbackEventsAsync =\n  importJavaPromiseNonJson<() => void>('executeCallbackEvents');\n\n// ***************************************************************************\n// Sync Folder View Api\n// ***************************************************************************\n\n// API: Top menus\nexport const openPrivateSyncFolderWizard = importJavaPromiseNonJson<() => void>('openPrivateSyncFolderWizard');\nexport const openPublicSyncFolderWizard = importJavaPromiseNonJson<() => void>('openPublicSyncFolderWizard');\nexport const openShareViaLinkWizard = importJavaPromiseNonJson<() => void>('openShareViaLinkWizard');\nexport const openShareViaEmailWizard = importJavaPromiseNonJson<() => void>('openShareViaEmailWizard');\nexport const openSyncToOtherDevicesWizard = importJavaPromiseNonJson<() => void>('openSyncToOtherDevicesWizard');\nexport const openFileHistoryWizard = importJavaPromiseNonJson<() => void>('openFileHistoryWizard');\nexport const openRestoreFilesWizard = importJavaPromiseNonJson<() => void>('openRestoreFilesWizard');\n\n// API: Context menus\nexport const openBasicInfoDialog = importJavaPromiseNonJson<(sandboxId: number) => void>('openBasicInfoDialog');\nexport const openACLDialog = importJavaPromiseNonJson<(sandboxId: number) => void>('openACLDialog');\nexport const bindSyncFolder = importJavaPromiseNonJson<(sandboxId: number) => void>('bindSyncFolder');\nexport const unbindSyncFolder = importJavaPromiseNonJson<(sandboxId: number) => void>('unbindSyncFolder');\nexport const migrateSyncFolder = importJavaPromiseNonJson<(sandboxId: number) => void>('migrateSyncFolder');\nexport const copySyncInviteLink = importJavaPromiseNonJson<(sandboxId: number) => void>('copySyncInviteLink');\n\n// API: Others\nexport const isLightAppReady = importJavaFunc<() => boolean>('isLightAppReady', false);\nexport const openSandbox = importJavaFunc<(sandboxId: number, forceInWeb: boolean) => void>('openSandbox');\nexport const openHomePage = importJavaFunc<() => void>('openHomePage');\nexport const openPath = importJavaFunc<(path: string) => void>('openPath');\nexport const openFileWithApp = importJavaFunc<(path: string) => void>('openFileWithApp');\n\n// API: getSyncFolderItems\nexport type SyncFolderState =\n  | 'unknown'\n  | 'placeholder'\n  | 'up-to-date'\n  | 'syncing'\n  | 'locked'\n  | 'readonly'\n  | 'placeholder-readonly';\n\nexport type SyncFolderItem = {\n  id: number;\n  name: string;\n  permissions: string;\n  isPrivate: boolean;\n  isSyncedToDisk: boolean;\n  isDefaultSyncFolder: boolean;\n  canChangeRight: boolean;\n  isPlaceholder: boolean;\n};\n\nexport const getSyncFolderItemsAsync =\n  importJavaPromise<() => SyncFolderItem[]>('getSyncFolderItems');\nexport const getSyncFolderStateAsync =\n  importJavaPromiseNonJson<(id: number) => SyncFolderState>('getSyncFolderState');\n\n// API: Search\nexport type SearchResult = {\n  isDir: boolean;\n  name: string;\n  parentDir: string;\n  fullPath: string;\n};\n\nexport const getSearchResultsAsync =\n  importJavaPromise<(searchText: string, isGetAll: boolean) => SearchResult[]>('getSearchResults');\n\nconst getSearchHistoryInternal = importJavaFunc<() => string>('getSearchHistory');\nexport function getSearchHistory(): string[] {\n  return JSON.parse(getSearchHistoryInternal());\n}\n\nconst setSearchHistoryInternal = importJavaFunc<(json: string) => void>('setSearchHistory');\nexport function setSearchHistory(history: string[]) {\n  setSearchHistoryInternal(JSON.stringify(history));\n}\n\n// Pin Api\nexport const getPinnedSandboxIdListAsync =\n  importJavaPromise<() => ReadonlyArray<number>>('getPinnedSandboxIdList');\nexport const setIsPinnedAsync =\n  importJavaPromiseNonJson<(id: number, value: boolean) => void>('setIsPinned');\n\n// ***************************************************************************\n// Recent View Api\n// ***************************************************************************\n\nexport type RecentEventItem = {\n  id: number;\n  isDir: boolean;\n  displayTitle: string;\n  displayTime: string;\n  displayAction: string;\n  action: string;\n  editor: string;\n  filePath: string;\n};\n\nexport const getRecentEventsAsync =\n  importJavaPromise<(id: number) => RecentEventItem[]>('getRecentEvents');\nexport const getRecentEventUnreadCount = importJavaFunc<() => number>('getRecentEventUnreadCount');\nexport const clearRecentEventUnreadCount = importJavaFunc<() => void>(\n  'clearRecentEventUnreadCount'\n);\n\n// ***************************************************************************\n// Bookmarks View Api\n// ***************************************************************************\n\nexport type BookmarkItem = {\n  name: string;\n  fullPath: string;\n  isDir: boolean;\n};\n\nexport const getBookmarkItemsAsync = importJavaPromise<() => BookmarkItem[]>('getBookmarkItems');\n\nexport const deleteBookmarkItemAsync =\n  importJavaPromise<(fullPath: string) => { success: boolean }>('deleteBookmarkItem');\n\n// ***************************************************************************\n// Recent View Api\n// ***************************************************************************\n\nexport type LightAppSuffix = 'nbmx' | 'ngm' | 'md' | 'nol';\n\nexport const openTemplateInLightApp =\n  importJavaFunc<(suffix: LightAppSuffix) => void>('openTemplateInLightApp');\n\n// ***************************************************************************\n// Account Info View Api\n// ***************************************************************************\n\nexport type AccountMeterInfo = {\n  isPaidUser: boolean;\n  isInTeam: boolean;\n  accountExpireLeftTime: number;\n  usedStorageSize: number;\n  totalStorageSize: number;\n\n  freeDownRate: number;\n  freeUpRate: number;\n  usedDownRate: number;\n  usedUpRate: number;\n  rateResetLeftMills: number;\n};\n\nexport const switchAccount = importJavaPromiseNonJson<() => void>('switchAccount');\nexport const getUsername = importJavaFunc<() => string>('getUsername');\nexport const getNickname = importJavaFunc<() => string>('getNickname');\nexport const openTrafficPolicyLink = importJavaFunc<() => void>('openTrafficPolicyLink');\nexport const openPricingLink = importJavaFunc<() => void>('openPricingLink');\nexport const getAccountInfoAsync = importJavaPromise<() => AccountMeterInfo>('getAccountInfo');\n\n// ***************************************************************************\n// Settings xxx View Api\n// ***************************************************************************\n\nexport const getVersion = importJavaFunc<() => string>('getVersion');\n\nexport const getAutoStartAsync = importJavaPromiseNonJson<() => boolean>('getAutoStart');\nexport const setAutoStartAsync = importJavaPromiseNonJson<(value: boolean) => void>('setAutoStart');\n\nexport const getNotifyOnFilesUpdatedAsync =\n  importJavaPromiseNonJson<() => boolean>('getNotifyOnFilesUpdated');\nexport const setNotifyOnFilesUpdatedAsync =\n  importJavaPromiseNonJson<(value: boolean) => void>('setNotifyOnFilesUpdated');\n\nexport const getSafeGuardChangeAsync =\n  importJavaPromiseNonJson<() => boolean>('getSafeGuardChange');\nexport const setSafeGuardChangeAsync =\n  importJavaPromiseNonJson<(value: boolean) => void>('setSafeGuardChange');\n\nexport const getFileProtectionLockAsync =\n  importJavaPromiseNonJson<() => boolean>('getFileProtectionLock');\nexport const setFileProtectionLockAsync =\n  importJavaPromiseNonJson<(value: boolean) => void>('setFileProtectionLock');\n\nexport const getExperimentalUserChangeAsync = importJavaPromiseNonJson<() => boolean>(\n  'getExperimentalUserChange'\n);\nexport const setExperimentalUserChangeAsync = importJavaPromiseNonJson<(value: boolean) => void>(\n  'setExperimentalUserChange'\n);\n\nexport const setCultureAsync =\n  importJavaPromiseNonJson<(value: LanguageCode) => void>('setCulture');\n\nexport const getShowDockIconChangeAsync =\n  importJavaPromiseNonJson<() => boolean>('getShowDockIconChange');\nexport const setShowDockIconChangeAsync =\n  importJavaPromiseNonJson<(value: boolean) => void>('setShowDockIconChange');\n\nexport const getLANSyncChangeAsync = importJavaPromiseNonJson<() => boolean>('getLANSyncChange');\nexport const setLANSyncChangeAsync =\n  importJavaPromiseNonJson<(value: boolean) => void>('setLANSyncChange');\n\nexport const getCacheMaxUsagePercentage = importJavaFunc<() => number>(\n  'getCacheMaxUsagePercentage'\n);\nexport const setCacheMaxUsagePercentage = importJavaFunc<(value: number) => void>(\n  'setCacheMaxUsagePercentage'\n);\n\nexport const getBadgePreference = importJavaFunc<() => number>('getBadgePreference');\nexport const setBadgePreference = importJavaFunc<(value: number) => void>('setBadgePreference');\n\nexport const getCacheRemainDays = importJavaFunc<() => number>('getCacheRemainDays');\nexport const setCacheRemainDays = importJavaFunc<(value: number) => void>('setCacheRemainDays');\n\nexport const getCacheCurrentUsageSizeAsync = importJavaPromiseNonJson<() => number>(\n  'getCacheCurrentUsageSize'\n);\nexport const getCacheTotalSizeAsync = importJavaPromiseNonJson<() => number>('getCacheTotalSize');\n\nexport const fileProviderFeatureUpgrade = importJavaFunc<() => void>('fileProviderFeatureUpgrade');\n\n// ***************************************************************************\n// Sync Status Api\n// ***************************************************************************\n\nexport type LockedFileItem = {\n  fileName: string;\n  fullPath: string;\n  lockerName: string;\n  lockedTime: string;\n  isLockedByThisMachine: boolean;\n};\nexport type SyncingInfo = {\n  fileName: string;\n  filePath: string;\n  instantaneousSpeed: number;\n  totalSize: number;\n  isSyncing: boolean;\n  remainingTime: string;\n};\n\nexport const setIsPaused = importJavaFunc<(isPaused: boolean) => void>('setIsPaused');\nexport const getLockedFileItemsAsync =\n  importJavaPromise<() => ReadonlyArray<LockedFileItem>>('getLockedFileItems');\nexport const getSyncingInfoAsync = importJavaPromise<() => SyncingInfo>('getSyncingInfo');\nexport const getSyncErrorCount = importJavaFunc<() => number>('getSyncErrorCount');\nexport const isSandboxOwnerExpired = importJavaFunc<() => boolean>('isSandboxOwnerExpired');\n\nexport enum BadgePreference {\n  alwaysShow = 0,\n  presentIfNecessary = 1,\n  neverShow = 2,\n}\n\n// ***************************************************************************\n// Sync Exception Api\n// ***************************************************************************\n\nexport const openSyncErrorsWindow = importJavaPromiseNonJson<(includeDeleted: boolean) => void>('openSyncErrorsWindow');\nexport const openSandboxOwnerExpiredWindow = importJavaPromiseNonJson<() => void>('openSandboxOwnerExpiredWindow');\n","import produce from 'immer';\nimport { useState, useEffect, useCallback } from 'react';\nimport { removeAll } from '../../helpers/list-helpers';\nimport {\n  SearchResult,\n  getSearchResultsAsync,\n  setSearchHistory,\n  getSearchHistory,\n} from '../../java-api/main-window';\n\nexport default function useSyncFolderSearchResultViewModel(\n  searchText?: string,\n  showDetails?: boolean\n) {\n  const [searchHistoryList, setSearchHistoryList] = useState<string[]>([]);\n  const [searchResultItems, setSearchResultItems] = useState<SearchResult[]>([]);\n  useEffect(() => setSearchHistoryList(getSearchHistory()), []);\n  useEffect(() => setSearchHistory(searchHistoryList), [searchHistoryList]);\n  useEffect(() => {\n    const searchString = searchText?.trim();\n    if (!searchString) return;\n\n    if (showDetails) {\n      setSearchHistoryList((oldValue) =>\n        produce(oldValue, (draft) => {\n          removeAll(draft, searchString);\n          draft.unshift(searchString);\n        })\n      );\n    }\n    const fetch = async () => {\n      const results = await getSearchResultsAsync(searchString, !!showDetails);\n      setSearchResultItems(results);\n    };\n\n    fetch();\n  }, [searchText, showDetails]);\n\n  const removeHistory = useCallback(\n    (index) =>\n      setSearchHistoryList((oldValue) =>\n        produce(oldValue, (draft) => {\n          draft.splice(index, 1);\n        })\n      ),\n    []\n  );\n  const clearHistory = useCallback(() => setSearchHistoryList([]), []);\n\n  return {\n    searchHistoryList,\n    searchResultItems,\n    removeHistory,\n    clearHistory,\n  };\n}\n","export function removeAll<T>(list: T[], item: T): number {\n  let toRemovedIndex = -1;\n  let removedCount = 0;\n  while (true) {\n    toRemovedIndex = list.findIndex((element) => element === item);\n    if (toRemovedIndex >= 0) {\n      list.splice(toRemovedIndex, 1);\n      removedCount++;\n    } else {\n      break;\n    }\n  }\n\n  return removedCount;\n}\n","import React from 'react';\nimport emptyIcon from '../../assets/main-window/search_empty.svg';\n\ntype EmptyViewProps = {\n  title: string;\n  subtitle?: string;\n};\n\nexport default function EmptyView({ title, subtitle }: EmptyViewProps) {\n  return (\n    <div className=\"empty-view-wrapper\">\n      <img className=\"empty-icon\" src={emptyIcon} alt=\"empty\" />\n      <span className=\"text subtitle label-empty-title\">{title}</span>\n      {subtitle ? (\n        <span className=\"text tip-secondary label-empty-description\">{subtitle}</span>\n      ) : null}\n    </div>\n  );\n}\n","import React from 'react';\nimport { ScrollViewer } from '../../components/layout-container';\nimport { useI18n } from '../../i18n';\nimport { Button } from '../../components/button';\nimport { SearchResult } from '../../java-api/main-window';\nimport HighlightSpan from '../../components/highlight-span';\nimport useSyncFolderSearchResultViewModel from '../../models/main-window/sync-folder-search-result-view-model';\nimport EmptyView from './empty-view';\nimport { openPath } from '../../java-api/common-api';\nimport folderIcon from '../../assets/main-window/folder.svg';\nimport historyIcon from '../../assets/main-window/history.svg';\nimport closeIcon from '../../assets/main-window/close.svg';\n\ntype SearchTextHistoryViewProps = {\n  history: string[];\n  removeHistory: (index: number) => void;\n  clearHistory: () => void;\n  setSearchText: (value: string) => void;\n};\n\ntype SearchResultViewProps = {\n  searchResultItems: SearchResult[];\n  queriesText: string;\n  showDetails?: boolean;\n};\n\ntype SyncFolderSearchResultViewProps = {\n  searchText?: string;\n  showDetails?: boolean;\n  setSearchText: (value: string) => void;\n};\n\nfunction SearchHistoryView({\n  history,\n  removeHistory,\n  clearHistory,\n  setSearchText,\n}: SearchTextHistoryViewProps) {\n  const { $t } = useI18n();\n\n  return history.length ? (\n    <div className=\"search-history-view\">\n      <span className=\"text tip-secondary label-search-history\">\n        {$t('syncFolder.search.label.recentSearch')}\n      </span>\n      <Button className=\"button-clear-history\" buttonType=\"link\" onClick={clearHistory}>\n        {$t('syncFolder.search.clearHistory')}\n      </Button>\n      <ul className=\"search-history-list\">\n        <ScrollViewer>\n          {history.map((item, index) => (\n            <li\n              key={`${item}-${index}`}\n              className=\"search-history-item\"\n              onClick={() => setSearchText(item)}\n            >\n              <img className=\"history-icon\" src={historyIcon} alt=\"history\" />\n              <span className=\"text subtitle ellipsis link history-text\">{item}</span>\n              <button\n                className=\"history-close-button\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  removeHistory(index);\n                }}\n              >\n                <img src={closeIcon} alt=\"close\" width=\"14px\" height=\"14px\" />\n              </button>\n            </li>\n          ))}\n        </ScrollViewer>\n      </ul>\n    </div>\n  ) : (\n    <EmptyView title={$t('syncFolder.search.emptyHistory')} />\n  );\n}\n\nfunction SearchResultView({ searchResultItems, queriesText, showDetails}: SearchResultViewProps) {\n  const { $t } = useI18n();\n  const folderItems = searchResultItems.filter((item) => item.isDir);\n  const fileItems = searchResultItems.filter((item) => !item.isDir);\n\n  return (\n    <ScrollViewer>\n      {!showDetails ? ( \n        <span className=\"text label-search-tip\">\n          {$t('syncFolder.search.tip.more')}\n        </span>\n      ): null}\n      {folderItems && folderItems.length > 0 ? (\n        <>\n          <span className=\"text tip-secondary label-group-title folder\">\n            {$t('syncFolder.search.label.folder', folderItems.length)}\n          </span>\n          <ul className=\"search-result-list folder\">\n            {folderItems.map(({ name, parentDir, fullPath }, index) => (\n              <li\n                key={`${name}-${index}`}\n                className=\"search-result-item folder\"\n                onClick={() => openPath(fullPath)}\n              >\n                <img\n                  className=\"folder-icon\"\n                  src={folderIcon}\n                  alt=\"folder\"\n                  width=\"32px\"\n                  height=\"30px\"\n                />\n                <HighlightSpan\n                  className=\"text subtitle ellipsis link label-title\"\n                  sourceText={name}\n                  queriesText={queriesText}\n                />\n                <HighlightSpan\n                  className=\"text tip-secondary ellipsis label-subtitle\"\n                  sourceText={parentDir}\n                  queriesText={queriesText}\n                />\n              </li>\n            ))}\n          </ul>\n        </>\n      ) : null}\n      {fileItems && fileItems.length > 0 ? (\n        <>\n          <span className=\"text tip-secondary label-group-title file\">\n            {$t('syncFolder.search.label.file', fileItems.length)}\n          </span>\n          <ul className=\"search-result-list file\">\n            {fileItems.map(({ name, parentDir, fullPath }, index) => (\n              <li\n                key={`${name}-${index}`}\n                className=\"search-result-item file\"\n                onClick={() => openPath(fullPath)}\n              >\n                <HighlightSpan\n                  className=\"text subtitle ellipsis link label-title\"\n                  sourceText={name}\n                  queriesText={queriesText}\n                />\n                <HighlightSpan\n                  className=\"text tip-secondary ellipsis label-subtitle\"\n                  sourceText={parentDir}\n                  queriesText={queriesText}\n                />\n              </li>\n            ))}\n          </ul>\n        </>\n      ) : null}\n    </ScrollViewer>\n  );\n}\n\nexport default function SyncFolderSearchResultView({\n  searchText,\n  showDetails,\n  setSearchText,\n}: SyncFolderSearchResultViewProps) {\n  const { $t } = useI18n();\n  const {\n    searchHistoryList,\n    searchResultItems,\n    removeHistory,\n    clearHistory,\n  } = useSyncFolderSearchResultViewModel(searchText, showDetails);\n\n  return (\n    <div className=\"sync-folder-search-result-wrapper\">\n      {!searchText ? (\n        <SearchHistoryView\n          history={searchHistoryList}\n          removeHistory={removeHistory}\n          clearHistory={clearHistory}\n          setSearchText={setSearchText}\n        />\n      ) : searchResultItems && searchResultItems.length > 0 ? (\n        <SearchResultView searchResultItems={searchResultItems} queriesText={searchText} showDetails={showDetails}/>\n      ) : (\n        <EmptyView\n          title={$t('syncFolder.search.empty')}\n          subtitle={$t('syncFolder.search.empty.description')}\n        />\n      )}\n    </div>\n  );\n}\n","// Ref: https://github.com/streamich/react-use/blob/master/src/useThrottleFn.ts\n/* eslint-disable */\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\nconst useThrottleFn = <T, U extends any[]>(fn: (...args: U) => T, ms: number = 200, args: U) => {\n  const [state, setState] = useState<T | null>(null);\n  const timeout = useRef<ReturnType<typeof setTimeout>>();\n  const nextArgs = useRef<U>();\n\n  useEffect(() => {\n    if (!timeout.current) {\n      setState(fn(...args));\n      const timeoutCallback = () => {\n        if (nextArgs.current) {\n          setState(fn(...nextArgs.current));\n          nextArgs.current = undefined;\n          timeout.current = setTimeout(timeoutCallback, ms);\n        } else {\n          timeout.current = undefined;\n        }\n      };\n      timeout.current = setTimeout(timeoutCallback, ms);\n    } else {\n      nextArgs.current = args;\n    }\n  }, args);\n\n  useEffect(() => () => timeout.current && clearTimeout(timeout.current), []);\n\n  return state;\n};\n\nexport default useThrottleFn;\n\nclass Throttle<T> {\n  private readonly callback: (value: T) => void;\n  private readonly delay: number;\n\n  private lastValue: T | undefined;\n  private lastTriggeredTime: number = 0;\n  private isWaiting: boolean = false;\n  private timeoutToken: ReturnType<typeof setTimeout> | undefined;\n\n  constructor(callback: (value: T) => void, delay: number) {\n    this.callback = callback;\n    this.delay = delay;\n  }\n\n  invoke(value: T): void {\n    this.lastValue = value;\n    this.lastTriggeredTime = Date.now();\n\n    if (!this.isWaiting) {\n      this.isWaiting = true;\n      this.innerInvoke(this.delay);\n    }\n  }\n\n  dispose() {\n    if (this.timeoutToken) {\n      clearTimeout(this.timeoutToken);\n    }\n  }\n\n  private innerInvoke(delay: number) {\n    this.timeoutToken = setTimeout(() => {\n      const actualInterval = Date.now() - this.lastTriggeredTime;\n      if (delay > actualInterval) {\n        this.innerInvoke(delay - actualInterval);\n      } else {\n        this.callback(this.lastValue!);\n        this.isWaiting = false;\n      }\n    }, delay);\n  }\n}\n\nexport function useThrottle<T>(\n  callback: (value: T) => void,\n  delay: number = 200\n): (value: T) => void {\n  const [throttle, setThrottle] = useState(() => new Throttle(callback, delay));\n  useEffect(() => {\n    setThrottle((oldValue) => {\n      oldValue.dispose();\n      return new Throttle(callback, delay);\n    });\n  }, [callback, delay]);\n\n  return useCallback((value) => throttle.invoke(value), [throttle]);\n}\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { SearchBox } from '../../components/input';\nimport { CaseItem, Switch } from '../../components/items-control';\nimport { ScrollViewer } from '../../components/layout-container';\nimport SyncFolderSearchResultView from './sync-folder-search-result-view';\nimport { useI18n } from '../../i18n';\nimport { DropdownButton } from '../../components/button';\nimport ContextMenu, { MenuItem } from '../../components/items-control/context-menu';\nimport { Rect } from '../../components/common-types';\nimport classNames from 'classnames';\n\n// import icons\nimport stateLockedIcon from '../../assets/main-window/sync_state_locked.svg';\nimport statePlaceholderReadonlyIcon from '../../assets/main-window/sync_state_placeholder_readonly.svg';\nimport statePlacehoderIcon from '../../assets/main-window/sync_state_placeholder.svg';\nimport stateReadonlyIcon from '../../assets/main-window/sync_state_readonly.svg';\nimport stateSyncingIcon from '../../assets/main-window/sync_state_syncing.svg';\nimport stateUpToDateIcon from '../../assets/main-window/sync_state_uptodate.svg';\nimport itemButtonMoreIcon from '../../assets/main-window/item_button_more.svg';\nimport itemButtonUnpinIcon from '../../assets/main-window/item_button_unpin.svg';\nimport itemButtonPinIcon from '../../assets/main-window/item_button_pin.svg';\nimport folderPrivateIcon from '../../assets/main-window/folder_private.svg';\nimport folderPublicIcon from '../../assets/main-window/folder_public.svg';\nimport menuNewIcon from '../../assets/main-window/menu_new.svg';\nimport menuShareIcon from '../../assets/main-window/menu_share.svg';\nimport menuHistoryIcon from '../../assets/main-window/menu_history.svg';\nimport menuExceptionIcon from '../../assets/main-window/menu_exception.svg';\nimport {\n  bindSyncFolder,\n  copySyncInviteLink,\n  migrateSyncFolder,\n  openACLDialog,\n  openBasicInfoDialog,\n  openFileHistoryWizard,\n  openSandbox,\n  openPrivateSyncFolderWizard,\n  openPublicSyncFolderWizard,\n  openRestoreFilesWizard,\n  openShareViaEmailWizard,\n  openShareViaLinkWizard,\n  openSyncToOtherDevicesWizard,\n  SyncFolderItem,\n  SyncFolderState,\n  unbindSyncFolder,\n  getSyncFolderStateAsync,\n  subscribeMainWindowEvent,\n  openSyncErrorsWindow,\n} from '../../java-api/main-window';\nimport useSyncFolderViewModel, {\n  MainContentViewName,\n  SWITCH_NAME_SYNC_FOLDER_CONTENT,\n  useSyncFolderMainContentModel,\n} from '../../models/main-window/sync-folder-view-model';\nimport { useIsFileProviderEnabled } from '../../java-api';\nimport { Tooltip } from '../../components/tooltip';\n\nfunction getSyncStateIcon(syncState: SyncFolderState) {\n  switch (syncState) {\n    case 'locked':\n      return stateLockedIcon;\n    case 'placeholder':\n      return statePlacehoderIcon;\n    case 'readonly':\n      return stateReadonlyIcon;\n    case 'syncing':\n      return stateSyncingIcon;\n    case 'up-to-date':\n      return stateUpToDateIcon;\n    case 'placeholder-readonly':\n      return statePlaceholderReadonlyIcon;\n    default:\n      return null;\n  }\n}\n\ntype FolderItemIconProps = {\n  item: SyncFolderItem;\n  state: SyncFolderState;\n};\n\ntype FolderListBoxItemProps = {\n  item: SyncFolderItem;\n  isPinned: boolean;\n  pinOrUnpin: () => void;\n};\n\ntype PinnedFolderListBoxItemProps = {\n  item: SyncFolderItem;\n  unpin: () => void;\n};\n\nfunction FolderItemIcon({ item, state }: FolderItemIconProps) {\n  const stateIcon = getSyncStateIcon(state);\n  return (\n    <div className=\"folder-item-icon\">\n      <img\n        className=\"folder-icon\"\n        src={item.isPrivate ? folderPrivateIcon : folderPublicIcon}\n        alt=\"folder-icon\"\n      />\n      {stateIcon ? (\n        <img className=\"folder-state-icon\" src={stateIcon} alt=\"folder-state-icon\" />\n      ) : null}\n    </div>\n  );\n}\n\nfunction FolderListBoxItem({ item, isPinned, pinOrUnpin }: FolderListBoxItemProps) {\n  const { $t } = useI18n();\n  const isFileProviderEnabled = useIsFileProviderEnabled();\n  const [activeMenu, setActiveMenu] = useState(false);\n  const [syncFolderState, setSyncFolderState] = useState<SyncFolderState>('unknown');\n  useEffect(() => {\n    const fetch = async () => setSyncFolderState(await getSyncFolderStateAsync(item.id));\n\n    const dispose = subscribeMainWindowEvent('update-sync-status', () => fetch());\n    fetch();\n\n    return () => dispose();\n  }, [item.id]);\n  const folderItemMenuItems = useMemo<MenuItem[]>(() => {\n    const menuItems: MenuItem[] = [];\n    const isSyncToDisk = item.isSyncedToDisk;\n    const isPlaceholder = item.isPlaceholder;\n\n    if (isFileProviderEnabled) {\n      if (!isPlaceholder) {\n        menuItems.push({\n          text: $t('syncFolder.menu.syncAsPlaceholder'),\n          onClick: async () => await bindSyncFolder(item.id),\n        });\n      }\n    } else {\n      if (!isSyncToDisk) {\n        menuItems.push({\n          text: $t('syncFolder.menu.syncToDisk'),\n          onClick: async () => await bindSyncFolder(item.id),\n        });\n      }\n    }\n\n    menuItems.push({\n      text: $t('syncFolder.menu.accessViaWeb'),\n      onClick: () => openSandbox(item.id, true),\n    });\n\n    if (item.canChangeRight) {\n      menuItems.push('split-line');\n      menuItems.push({\n        text: $t('syncFolder.menu.basicInfo'),\n        onClick: async () => await openBasicInfoDialog(item.id),\n      });\n      menuItems.push({\n        text: $t('syncFolder.menu.shareConfigure'),\n        onClick: async () => await openACLDialog(item.id),\n      });\n      menuItems.push({\n        text: $t('syncFolder.menu.copySyncInvitationLink'),\n        onClick: async () => await copySyncInviteLink(item.id),\n      });\n    }\n\n    if (isFileProviderEnabled) {\n      if (isPlaceholder) {\n        menuItems.push({\n          text: $t('syncFolder.menu.stopSyncPlaceholder'),\n          onClick: async () => await unbindSyncFolder(item.id),\n        });\n      }\n    } else {\n      if (isSyncToDisk) {\n        menuItems.push('split-line');\n\n        menuItems.push({\n          text: $t('syncFolder.menu.changeSyncPath'),\n          onClick: async () => await migrateSyncFolder(item.id),\n        });\n\n        menuItems.push({\n          text: $t('syncFolder.menu.stopSync'),\n          onClick: async () => await unbindSyncFolder(item.id),\n        });\n      }\n    }\n\n    return menuItems;\n  }, [\n    $t,\n    item.canChangeRight,\n    item.id,\n    item.isSyncedToDisk,\n    item.isPlaceholder,\n    isFileProviderEnabled,\n  ]);\n  const wrapperClass = classNames('folder-list-item-wrapper', { active: activeMenu });\n\n  return (\n    <div\n      className={wrapperClass}\n      onClick={(e) => {\n        if (e.currentTarget.contains(e.target as Node)) {\n          openSandbox(item.id, false);\n        }\n      }}\n    >\n      <FolderItemIcon item={item} state={syncFolderState} />\n      <span className=\"folder-name-text text ellipsis link\">{item.name}</span>\n      <span className=\"folder-permissions-text\">{item.permissions}</span>\n      <div className=\"folder-item-buttons\">\n        <Tooltip title={isPinned ? $t('folderItem.menu.unpin.tooltip') : $t('folderItem.menu.pin.tooltip')}>\n          <button\n            className=\"folder-item-button\"\n            onClick={(e) => {\n              e.stopPropagation();\n              pinOrUnpin();\n            }}\n          >\n            <img\n              src={isPinned ? itemButtonUnpinIcon : itemButtonPinIcon}\n              alt={isPinned ? 'folder-unpin' : 'folder-pin'}\n              width=\"20px\"\n              height=\"20px\"\n            />\n          </button>\n        </Tooltip>\n        <DropdownButton\n          onActiveChanged={setActiveMenu}\n          icon={itemButtonMoreIcon}\n          tooltip={$t('folderItem.menu.more.tooltip')}\n          items={folderItemMenuItems}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction PinnedFolderListBoxItem({ item, unpin }: PinnedFolderListBoxItemProps) {\n  const { $t } = useI18n();\n  const [syncFolderState, setSyncFolderState] = useState<SyncFolderState>('unknown');\n  useEffect(() => {\n    const fetch = async () => setSyncFolderState(await getSyncFolderStateAsync(item.id));\n\n    const dispose = subscribeMainWindowEvent('update-sync-status', () => fetch());\n    fetch();\n\n    return () => dispose();\n  }, [item.id]);\n  const renderContent = useCallback(\n    (open: (rect: Rect) => void) => {\n      return (\n        <button\n          className=\"pinned-folder-list-item-wrapper\"\n          onContextMenu={(e) => open({ x: e.clientX, y: e.clientY, width: 0, height: 0 })}\n          onClick={(e) => {\n            if (e.currentTarget.contains(e.target as Node)) {\n              openSandbox(item.id, false);\n            }\n          }}\n        >\n          <FolderItemIcon item={item} state={syncFolderState} />\n          <span className=\"text ellipsis folder-name-text\">{item.name}</span>\n        </button>\n      );\n    },\n    [item, syncFolderState]\n  );\n  const pinnedFolderItemMenuItems = useMemo(\n    () => [{ text: $t('syncFolder.menu.unpin'), onClick: unpin }],\n    [$t, unpin]\n  );\n\n  return <ContextMenu items={pinnedFolderItemMenuItems} renderTarget={renderContent} />;\n}\n\nfunction MainContent() {\n  const { $t } = useI18n();\n  const { syncFolderItems, pinnedSandboxIdList, setIsPinned } = useSyncFolderMainContentModel();\n\n  return (\n    <ScrollViewer>\n      <div className=\"sync-folder-group-region\">\n        {pinnedSandboxIdList.length ? (\n          <>\n            <span className=\"text tip-secondary label-folder-group-name\">\n              {$t('syncFolder.label.pinnedFolder')}\n            </span>\n            <div className=\"sync-folder-group-pinned\">\n              {pinnedSandboxIdList\n                .map((pinnedId) => syncFolderItems.find((item) => item.id === pinnedId))\n                .filter((item) => !!item)\n                .map((item) => (\n                  <PinnedFolderListBoxItem\n                    key={item!.id}\n                    item={item!}\n                    unpin={() => setIsPinned(item!.id, false)}\n                  />\n                ))}\n            </div>\n          </>\n        ) : null}\n        <span className=\"text tip-secondary label-folder-group-name\">\n          {$t('syncFolder.label.folder')}\n        </span>\n        <div className=\"sync-folder-group-unpinned\">\n          {syncFolderItems.map((item) => {\n            const isPinned = !!pinnedSandboxIdList.find((pinnedId) => pinnedId === item.id);\n            return (\n              <FolderListBoxItem\n                key={item.id}\n                item={item}\n                isPinned={isPinned}\n                pinOrUnpin={() => setIsPinned(item.id, !isPinned)}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </ScrollViewer>\n  );\n}\n\nexport default function SyncFolderView() {\n  const { $t } = useI18n();\n  const newMenuItems = useMemo(\n    () => [\n      {\n        text: $t('syncFolder.menu.newSyncFolder'),\n        onClick: async () => await openPrivateSyncFolderWizard(),\n      },\n      {\n        text: $t('syncFolder.menu.inviteFriendsToSync'),\n        onClick: async () => await openPublicSyncFolderWizard(),\n      },\n    ],\n    [$t]\n  );\n  const shareMenuItems = useMemo(\n    () => [\n      { text: $t('syncFolder.menu.getShareLink'), onClick: async () => await openShareViaLinkWizard() },\n      { text: $t('syncFolder.menu.sendByEmail'), onClick: async () => await openShareViaEmailWizard() },\n      { text: $t('syncFolder.menu.syncWithOtherDevices'), onClick: async () => await openSyncToOtherDevicesWizard() },\n    ],\n    [$t]\n  );\n  const exceptionMenuItems = useMemo(\n    () => [\n      {\n        text: $t('syncFolder.menu.viewSyncErrors'),\n        onClick: async (event?: React.MouseEvent) => {\n          // If ALT key is pressed while clicking this menu item,\n          // we should include the deleted sync errors in the SyncErrorsWindow.\n          var includedDeleted = event?.altKey || false;\n          await openSyncErrorsWindow(includedDeleted);\n        }\n      },\n    ],\n    [$t]\n  );\n  const historyMenuItems = useMemo(\n    () => [\n      { text: $t('syncFolder.menu.viewFileHistory'), onClick: async () => await openFileHistoryWizard() },\n      { text: $t('syncFolder.menu.restoreDeletedFiles'), onClick: async () => await openRestoreFilesWizard() },\n    ],\n    [$t]\n  );\n  const subViews = useMemo<CaseItem<MainContentViewName>[]>(\n    () => [\n      {\n        label: 'normal',\n        renderer: () => <MainContent />,\n      },\n      {\n        label: 'search-result',\n        renderer: (props) => <SyncFolderSearchResultView {...props} />,\n      },\n    ],\n    []\n  );\n\n  const dropdownButtons = useMemo(() => {\n    const buttons: JSX.Element[] = [];\n    buttons.push(<DropdownButton icon={menuNewIcon} tooltip={$t('syncFolderView.menu.new.tooltip')} items={newMenuItems} />);\n    buttons.push(<DropdownButton icon={menuShareIcon} tooltip={$t('syncFolderView.menu.share.tooltip')} items={shareMenuItems} />);\n    buttons.push(<DropdownButton icon={menuExceptionIcon} tooltip={$t('syncFolderView.menu.exception.tooltip')} items={exceptionMenuItems} />);\n    buttons.push(<DropdownButton icon={menuHistoryIcon} tooltip={$t('syncFolderView.menu.history.tooltip')} items={historyMenuItems} />);\n    return buttons;\n  }, [$t, newMenuItems, shareMenuItems, exceptionMenuItems, historyMenuItems]);\n  const { searchBoxRef, isSearchMode, setIsSearchMode, onSearchTextChangedThrottle } =\n    useSyncFolderViewModel();\n\n  return (\n    <div className=\"sync-folder-view-wrapper\">\n      <div className=\"search-box-region\">\n        <SearchBox\n          ref={searchBoxRef}\n          placeholder={$t('syncFolder.search.placeholder')}\n          onChange={(e) => {\n            onSearchTextChangedThrottle(e.target.value);\n          }}\n          isEditing={isSearchMode}\n          setIsEditing={setIsSearchMode}\n          addon={<div className=\"search-box-addon-list\">{dropdownButtons}</div>}\n        />\n      </div>\n      <div className=\"folder-view-region\">\n        <Switch name={SWITCH_NAME_SYNC_FOLDER_CONTENT} cases={subViews} />\n      </div>\n    </div>\n  );\n}\n","import { useState, useRef, useEffect, useCallback } from 'react';\nimport { useNavigator } from '../../components/items-control';\nimport { useThrottle } from '../../hooks/use-throttle';\nimport {\n  SyncFolderItem,\n  getSyncFolderItemsAsync,\n  subscribeMainWindowEvent,\n  getPinnedSandboxIdListAsync,\n  setIsPinnedAsync,\n} from '../../java-api/main-window';\n\nexport const SWITCH_NAME_SYNC_FOLDER_CONTENT = 'sync-folder-content';\n\nexport type MainContentViewName = 'normal' | 'search-result';\n\nexport function useSyncFolderMainContentModel() {\n  const [syncFolderItems, setSyncFolderItems] = useState<SyncFolderItem[]>([]);\n  const [pinnedSandboxIdList, setPinnedSandboxIdList] = useState<ReadonlyArray<number>>([]);\n\n  useEffect(() => {\n    const fetch = async () => setSyncFolderItems(await getSyncFolderItemsAsync());\n    const updateSandboxEventToken = subscribeMainWindowEvent('update-sandbox', () => fetch());\n\n    fetch();\n    return () => updateSandboxEventToken();\n  }, []);\n\n  useEffect(() => {\n    const fetch = async () => setPinnedSandboxIdList(await getPinnedSandboxIdListAsync());\n\n    fetch();\n  }, []);\n\n  const setIsPinned = useCallback(async (id: number, value: boolean) => {\n    await setIsPinnedAsync(id, value);\n    setPinnedSandboxIdList(await getPinnedSandboxIdListAsync());\n  }, []);\n\n  return {\n    syncFolderItems,\n    pinnedSandboxIdList,\n    setIsPinned,\n  };\n}\n\nexport default function useSyncFolderViewModel() {\n  const contentNavigator = useNavigator<MainContentViewName>(SWITCH_NAME_SYNC_FOLDER_CONTENT);\n\n  const [isSearchMode, setIsSearchMode] = useState(false);\n\n  const searchTextRef = useRef('');\n  const searchBoxRef = useRef<HTMLInputElement>(null);\n\n  const setSearchText = useCallback(\n    (value: string) => {\n      if (searchBoxRef.current) {\n        searchBoxRef.current.value = value;\n        searchBoxRef.current.focus();\n        searchTextRef.current = value;\n        contentNavigator('search-result', {\n          searchText: value,\n          setSearchText,\n        });\n      }\n    },\n    [contentNavigator]\n  );\n\n  useEffect(() => {\n    const searchBoxElemenet = searchBoxRef.current;\n    if (searchBoxElemenet) {\n      const handler = (e: KeyboardEvent) => {\n        if (e.key === 'Enter') {\n          contentNavigator('search-result', {\n            searchText: searchTextRef.current,\n            showDetails: true,\n            setSearchText,\n          });\n        }\n      };\n      searchBoxElemenet.addEventListener('keypress', handler);\n      return () => searchBoxElemenet.removeEventListener('keypress', handler);\n    }\n  }, [contentNavigator, setSearchText]);\n  useEffect(\n    () =>\n      contentNavigator(\n        isSearchMode ? 'search-result' : 'normal',\n        isSearchMode ? { setSearchText } : {}\n      ),\n    [contentNavigator, isSearchMode, setSearchText]\n  );\n  useEffect(() => {\n    if (!isSearchMode && searchBoxRef.current) {\n      searchBoxRef.current.value = '';\n    }\n  }, [isSearchMode]);\n\n  const onSearchTextChanged = useCallback(\n    (searchText: string) => {\n      searchTextRef.current = searchText;\n      contentNavigator('search-result', {\n        searchText: searchTextRef.current,\n        setSearchText,\n      });\n    },\n    [contentNavigator, setSearchText]\n  );\n  const onSearchTextChangedThrottle = useThrottle(onSearchTextChanged, 300);\n\n  return {\n    searchBoxRef,\n    isSearchMode,\n    setIsSearchMode,\n    onSearchTextChangedThrottle,\n  };\n}\n","import { useState, useEffect, useMemo } from 'react';\nimport { ComboBoxItem } from '../../components/items-control';\nimport { useI18n } from '../../i18n';\nimport {\n  RecentEventItem,\n  getSyncFolderItemsAsync,\n  subscribeMainWindowEvent,\n  getRecentEventsAsync,\n} from '../../java-api/main-window';\n\nfunction useComboItemAllSandboxes(): ComboBoxItem {\n  const { $t } = useI18n();\n  return useMemo(\n    () => ({\n      value: -1,\n      label: $t('recent.comboItemText.allSandboxes'),\n    }),\n    [$t]\n  );\n}\n\nexport default function useRecentViewModel() {\n  const comboItemAllSandboxes = useComboItemAllSandboxes();\n  const [selectedItem, setSelecetdItem] = useState<ComboBoxItem>(comboItemAllSandboxes);\n  const [syncFolderItems, setSyncFolderItems] = useState<ComboBoxItem[]>([]);\n  const [recentEventItems, setRecentEventItems] = useState<RecentEventItem[]>([]);\n  useEffect(() => {\n    const fetchSyncFolderItems = async () => {\n      const folderItems = await getSyncFolderItemsAsync();\n      setSyncFolderItems(folderItems.map((item) => ({ value: item.id, label: item.name })));\n    };\n    const updateSandboxEventToken = subscribeMainWindowEvent('update-sandbox', () =>\n      fetchSyncFolderItems()\n    );\n    fetchSyncFolderItems();\n\n    return () => updateSandboxEventToken();\n  }, []);\n\n  useEffect(() => {\n    const fetchRecentEventItems = async () => {\n      const recentEventItems = await getRecentEventsAsync(selectedItem.value as number);\n      setRecentEventItems(recentEventItems);\n    };\n    const dispose = subscribeMainWindowEvent('update-recent-event', () => fetchRecentEventItems());\n    fetchRecentEventItems();\n\n    return () => dispose();\n  }, [selectedItem.value]);\n\n  return {\n    comboItemAllSandboxes,\n    syncFolderItems,\n    selectedItem,\n    recentEventItems,\n    setSelecetdItem,\n  };\n}\n","import classNames from 'classnames';\nimport React from 'react';\nimport { ComboBox } from '../../components/items-control';\nimport { VirtualizingListBox } from '../../components/items-control';\nimport { openPath } from '../../java-api/common-api';\nimport { RecentEventItem } from '../../java-api/main-window/main-window-api';\nimport useRecentViewModel from '../../models/main-window/recent-view-model';\n\ntype RecentListBoxItemProps = {\n  item: RecentEventItem;\n};\n\nfunction RecentListBoxItem({ item }: RecentListBoxItemProps) {\n  const deleted = item.action === 'delete' || item.action === 'purge';\n  const textMessageClass = classNames('text-message text ellipsis link', { deleted });\n\n  return (\n    <div className=\"recent-list-box-item-wrapper\" onClick={() => openPath(item.filePath)}>\n      <span className={textMessageClass}>{item.displayTitle}</span>\n      <span className={`operation-tag ${item.action}`}>{item.displayAction}</span>\n      <span className=\"text-editor\">{item.editor}</span>\n      <span className=\"text-time\">{item.displayTime}</span>\n    </div>\n  );\n}\n\nexport default function RecentView() {\n  const {\n    comboItemAllSandboxes,\n    syncFolderItems,\n    selectedItem,\n    recentEventItems,\n    setSelecetdItem,\n  } = useRecentViewModel();\n\n  return (\n    <div className=\"recent-view-wrapper\">\n      <div className=\"search-box-region\">\n        <ComboBox\n          itemsSource={[comboItemAllSandboxes, ...syncFolderItems]}\n          selectedItem={selectedItem}\n          setSelectedItem={setSelecetdItem}\n          dorpDownBoxHeight=\"300px\"\n        />\n      </div>\n      <div className=\"recent-view-region\">\n        <VirtualizingListBox\n          sizeProvider={{ itemSize: 68, itemCount: recentEventItems.length }}\n          renderItems={(startIndex, endIndex) =>\n            recentEventItems\n              .slice(startIndex, endIndex)\n              .map((item) => <RecentListBoxItem item={item} />)\n          }\n        />\n      </div>\n    </div>\n  );\n}\n","import { useState, useRef, useEffect, useCallback } from 'react';\nimport { useThrottle } from '../../hooks/use-throttle';\nimport { getBookmarkItemsAsync, BookmarkItem } from '../../java-api/main-window';\n\nasync function fetchBookmarkItemsAsync() {\n  const items = await getBookmarkItemsAsync();\n  items.sort((a, b) => {\n    if ((!a.isDir && !b.isDir) || (a.isDir && b.isDir)) {\n      return a.name.localeCompare(b.name);\n    } else {\n      return a.isDir ? -1 : 1;\n    }\n  });\n\n  return items;\n}\n\nexport default function useBookmarksViewModel(selected: boolean) {\n  const [isSearchMode, setIsSearchMode] = useState(false);\n  const allBookmarkItemsRef = useRef<BookmarkItem[]>();\n  const searchBoxRef = useRef<HTMLInputElement>(null);\n  const [bookmarkItems, setBookmarkItems] = useState<BookmarkItem[]>([]);\n  const fetchBookmarkItems = async () => {\n    const newItems = await fetchBookmarkItemsAsync();\n    setBookmarkItems(newItems);\n    allBookmarkItemsRef.current = newItems;\n    if (searchBoxRef.current) {\n      searchBoxRef.current.value = '';\n    }\n  };\n  useEffect(() => {\n    if (selected) {\n      fetchBookmarkItems();\n    }\n  }, [selected]);\n  useEffect(() => {\n    if (!isSearchMode && searchBoxRef.current && allBookmarkItemsRef.current) {\n      setBookmarkItems(allBookmarkItemsRef.current);\n      searchBoxRef.current.value = '';\n    }\n  }, [isSearchMode]);\n  const filterBookmarkItems = useCallback((value: string) => {\n    if (!allBookmarkItemsRef.current) return;\n\n    if (value) {\n      const lowerValue = value.toLowerCase();\n      const filteredItems = allBookmarkItemsRef.current.filter((item) =>\n        item.name.toLowerCase().includes(lowerValue)\n      );\n      setBookmarkItems(filteredItems);\n    } else {\n      setBookmarkItems(allBookmarkItemsRef.current);\n    }\n  }, []);\n  const filterBookmarkItemsThrottle = useThrottle(filterBookmarkItems, 300);\n\n  return {\n    searchBoxRef,\n    isSearchMode,\n    bookmarkItems,\n    setIsSearchMode,\n    filterBookmarkItemsThrottle,\n    fetchBookmarkItems,\n  };\n}\n","import React from 'react';\nimport { SearchBox } from '../../components/input';\nimport { getFileIcon, getFileType } from '../../helpers';\nimport cancalIcon from '../../assets/main-window/bookmarks_cancel.svg';\nimport { VirtualizingListBox } from '../../components/items-control';\nimport { BookmarkItem, deleteBookmarkItemAsync } from '../../java-api/main-window';\nimport { openFileWithApp } from '../../java-api/common-api';\nimport refreshIcon from '../../assets/main-window/refresh.svg';\nimport HighlightSpan from '../../components/highlight-span';\nimport useBookmarksViewModel from '../../models/main-window/bookmarks-view-model';\nimport { useI18n } from '../../i18n';\nimport EmptyView from './empty-view';\nimport { Tooltip } from '../../components/tooltip';\n\ntype BookmarksViewProps = {\n  selected: boolean;\n};\n\ntype BookmarkListBoxItemProps = {\n  item: BookmarkItem;\n  queriesText: string;\n  deleteSelf: () => void;\n};\n\nfunction BookmarkListBoxItem({ item, queriesText, deleteSelf }: BookmarkListBoxItemProps) {\n  const { $t } = useI18n();\n  const fileType = item.isDir ? 'folder' : getFileType(item.name);\n  return (\n    <div className=\"bookmark-list-box-item\">\n      <img className=\"bookmark-file-icon\" src={getFileIcon(fileType)} alt={fileType} />\n      <HighlightSpan\n        className=\"text-bookmark-file-name text ellipsis link\"\n        sourceText={item.name}\n        queriesText={queriesText}\n        onClick={() => openFileWithApp(item.fullPath)}\n      />\n      <Tooltip title={$t('bookmarksView.button.remove.tooltip')}>\n        <button className=\"bookmark-button\" onClick={deleteSelf}>\n          <img src={cancalIcon} alt=\"close\" />\n        </button>\n      </Tooltip>\n    </div>\n  );\n}\n\nexport default function BookmarksView({ selected }: BookmarksViewProps) {\n  const { $t } = useI18n();\n  const {\n    searchBoxRef,\n    isSearchMode,\n    bookmarkItems,\n    setIsSearchMode,\n    filterBookmarkItemsThrottle,\n    fetchBookmarkItems,\n  } = useBookmarksViewModel(selected);\n\n  return (\n    <div className=\"bookmarks-view-wrapper\">\n      <div className=\"search-box-region\">\n        <SearchBox\n          ref={searchBoxRef}\n          placeholder={$t('bookmarks.search.placeholder')}\n          isEditing={isSearchMode}\n          setIsEditing={setIsSearchMode}\n          onChange={(e) => filterBookmarkItemsThrottle(e.target.value)}\n          addon={\n            <Tooltip title={$t('bookmarksView.button.refresh.tooltip')}>\n              <button className=\"search-addon-button\" onClick={() => fetchBookmarkItems()}>\n                <img src={refreshIcon} alt=\"refresh-icon\" />\n              </button>\n            </Tooltip>\n          }\n        />\n      </div>\n      <div className=\"main-content-region\">\n        {bookmarkItems && bookmarkItems.length ? (\n          <VirtualizingListBox\n            sizeProvider={{ itemSize: 52, itemCount: bookmarkItems.length }}\n            renderItems={(startIndex, endIndex) =>\n              bookmarkItems.slice(startIndex, endIndex).map((item) => (\n                <BookmarkListBoxItem\n                  item={item}\n                  queriesText={searchBoxRef.current?.value ?? ''}\n                  deleteSelf={async () => {\n                    await deleteBookmarkItemAsync(item.fullPath);\n                    fetchBookmarkItems();\n                  }}\n                />\n              ))\n            }\n          />\n        ) : (\n          <EmptyView\n            title={$t('bookmarks.search.emptyView.title')}\n            subtitle={$t('bookmarks.search.emptyView.description')}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n","import nbmxIcon from '../../assets/app-recommend/nbmx.svg';\nimport ngmIcon from '../../assets/app-recommend/ngm.svg';\nimport nolIcon from '../../assets/app-recommend/nol.svg';\nimport mdIcon from '../../assets/app-recommend/md.svg';\nimport officeOnlineIcon from '../../assets/app-recommend/office_online.svg';\nimport inboxIcon from '../../assets/app-recommend/inbox.svg';\nimport scannerIcon from '../../assets/app-recommend/scanner.svg';\nimport collectionIcon from '../../assets/app-recommend/collection.svg';\nimport outlookAddinIcon from '../../assets/app-recommend/outlook_addin.svg';\nimport { openTemplateInLightApp } from '../../java-api/main-window';\nimport { openUrl } from '../../java-api';\n\nexport type PlatformType = 'web' | 'desktop' | 'mobile' | 'plugin' | 'android' | 'miniprogram';\n\nexport type AppInfo = {\n  i18nKey: string;\n  icon: string;\n  platforms: ReadonlyArray<PlatformType>;\n  onClick: () => void;\n};\n\nexport const appInfoList: AppInfo[] = [\n  {\n    i18nKey: 'nbmx',\n    icon: nbmxIcon,\n    platforms: ['desktop', 'web'],\n    onClick: () => openTemplateInLightApp('nbmx'),\n  },\n  {\n    i18nKey: 'ngm',\n    icon: ngmIcon,\n    platforms: ['desktop', 'web'],\n    onClick: () => openTemplateInLightApp('ngm'),\n  },\n  {\n    i18nKey: 'nol',\n    icon: nolIcon,\n    platforms: ['desktop', 'web'],\n    onClick: () => openTemplateInLightApp('nol'),\n  },\n  {\n    i18nKey: 'md',\n    icon: mdIcon,\n    platforms: ['desktop', 'web', 'mobile'],\n    onClick: () => openTemplateInLightApp('md'),\n  },\n  {\n    i18nKey: 'officeOnline',\n    icon: officeOnlineIcon,\n    platforms: ['web'],\n    onClick: () => openUrl('https://www.jianguoyun.com/static/html/office-landing/index.html'),\n  },\n  {\n    i18nKey: 'inbox',\n    icon: inboxIcon,\n    platforms: ['web', 'miniprogram'],\n    onClick: () => openUrl('https://assignmentassist.jianguoyun.com/'),\n  },\n  {\n    i18nKey: 'scanner',\n    icon: scannerIcon,\n    platforms: ['mobile'],\n    onClick: () => openUrl('https://www.jianguoyun.com/static/html/ScanPaper-landing/index.html'),\n  },\n  {\n    i18nKey: 'collection',\n    icon: collectionIcon,\n    platforms: ['miniprogram'],\n    onClick: () => openUrl('https://www.jianguoyun.com/static/html/collection-landing/index.html'),\n  },\n  {\n    i18nKey: 'outlookAddin',\n    icon: outlookAddinIcon,\n    platforms: ['plugin'],\n    onClick: () => openUrl('https://www.jianguoyun.com/static/html/outlook/index.html'),\n  },\n];\n","import React from 'react';\nimport { Button } from '../../components/button';\nimport { useBannerImages, useI18n } from '../../i18n';\nimport { AppInfo, appInfoList } from '../../models/main-window/app-info';\n\nimport { ScrollViewer } from '../../components/layout-container';\nimport { Carousel } from '../../components/items-control';\nimport { openUrl } from '../../java-api';\nimport { openTemplateInLightApp } from '../../java-api/main-window';\n\ntype BannerImageProps = {\n  image: string;\n  onClick: () => void;\n};\n\nfunction AppCard({ i18nKey, icon, platforms, onClick }: AppInfo) {\n  const { $t } = useI18n();\n  return (\n    <li className=\"app-recommend-item\">\n      <img className=\"app-card-icon\" src={icon} alt=\"app-icon\" />\n      <span className=\"text-app-card-name\">{$t(`appRecommend.name.${i18nKey}` as any)}</span>\n      <div className=\"app-card-platforms\">\n        {platforms.map((platform) => (\n          <span key={platform} className=\"text-app-card-platform\">\n            {$t(`appRecommend.platform.${platform}` as any)}\n          </span>\n        ))}\n      </div>\n      <Button\n        className=\"app-card-button\"\n        buttonType=\"primary\"\n        style={{ width: '80px', height: '32px' }}\n        onClick={onClick}\n      >\n        {$t('button.open')}\n      </Button>\n      <span className=\"text-app-card-description\">\n        {$t(`appRecommend.description.${i18nKey}` as any)}\n      </span>\n    </li>\n  );\n}\n\nfunction BannerImage({ image, onClick }: BannerImageProps) {\n  return (\n    <img\n      className=\"banner-image\"\n      key={image}\n      src={image}\n      alt={image}\n      onClick={onClick}\n      style={{ cursor: 'pointer' }}\n    />\n  );\n}\n\nexport default function AppRecommendView() {\n  const { banner1, banner2, banner3, banner4 } = useBannerImages();\n\n  return (\n    <div className=\"app-recommend-view-wrapper\">\n      <ScrollViewer>\n        <div className=\"app-recommend-content\">\n          <div className=\"app-recommend-banner\">\n            <Carousel autoplay slideWidth=\"100%\" slideHeight=\"96px\">\n              <BannerImage\n                image={banner1}\n                onClick={() =>\n                  openUrl('https://www.jianguoyun.com/static/html/joint_product/index.html')\n                }\n              />\n              <BannerImage\n                image={banner2}\n                onClick={() => openUrl('https://assignmentassist.jianguoyun.com/')}\n              />\n              <BannerImage image={banner3} onClick={() => openTemplateInLightApp('nbmx')} />\n              <BannerImage image={banner4} onClick={() => openTemplateInLightApp('nol')} />\n            </Carousel>\n          </div>\n          <ul className=\"app-recommend-list\">\n            {appInfoList.map((info) => (\n              <AppCard key={info.i18nKey} {...info} />\n            ))}\n          </ul>\n        </div>\n      </ScrollViewer>\n    </div>\n  );\n}\n","import React from 'react';\nimport { getDisplayStringBytes, getFileIcon, getFileType } from '../../helpers';\nimport { useI18n } from '../../i18n';\nimport { openPath } from '../../java-api/common-api';\nimport { SyncStatusPopupData } from '../../models/main-window/sync-state-bar-model';\n\ntype SyncStatePopupProps = {\n  data: SyncStatusPopupData;\n};\n\ntype DisplayFileItemProps = {\n  fileName: string;\n  bottomText: string;\n  rightTopText?: string;\n  rightBottomText?: string;\n  openFile: () => void;\n};\n\nfunction TriangleIcon() {\n  return (\n    <svg\n      className=\"sync-state-popup-triangle\"\n      x=\"0px\"\n      y=\"0px\"\n      viewBox=\"0 0 18 8\"\n      width=\"18px\"\n      height=\"8px\"\n    >\n      <g>\n        <g>\n          <rect\n            x=\"2\"\n            width=\"14\"\n            height=\"1\"\n            style={{ fillRule: 'evenodd', clipRule: 'evenodd', fill: 'var(--background-color)' }}\n          />\n          <path\n            className=\"st1\"\n            style={{\n              fillRule: 'evenodd',\n              clipRule: 'evenodd',\n              fill: 'var(--background-color)',\n              stroke: 'var(--border-color)',\n            }}\n            d=\"M0,0.5h2.5l5,5.8c0.7,0.8,2,0.9,2.8,0.2c0.1-0.1,0.1-0.1,0.2-0.2l5-5.8l0,0H18\"\n          />\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nfunction DisplayFileItem({\n  fileName,\n  bottomText,\n  rightTopText,\n  rightBottomText,\n  openFile,\n}: DisplayFileItemProps) {\n  return (\n    <div className=\"display-file-item\" onClick={openFile}>\n      <img className=\"file-icon\" src={getFileIcon(getFileType(fileName))} alt=\"file icon\" />\n      <span\n        className=\"text subtitle ellipsis link file-name\"\n        style={{ gridColumn: rightTopText ? undefined : '3 / 6' }}\n      >\n        {fileName}\n      </span>\n      {rightTopText ? (\n        <span className=\"text tip-secondary ellipsis right-top\">{rightTopText}</span>\n      ) : null}\n      <span\n        className=\"text tip-secondary ellipsis bottom\"\n        style={{ gridColumn: rightBottomText ? undefined : '3 / 6' }}\n      >\n        {bottomText}\n      </span>\n      {rightBottomText ? (\n        <span className=\"text tip-secondary ellipsis right-bottom\">{rightBottomText}</span>\n      ) : null}\n    </div>\n  );\n}\n\nfunction usePopupContent(data: SyncStatusPopupData) {\n  const { $t } = useI18n();\n  switch (data.type) {\n    case 'locked-files':\n      return data.files.map((item) => (\n        <DisplayFileItem\n          fileName={item.fileName}\n          bottomText={item.lockerName}\n          rightBottomText={item.lockedTime}\n          openFile={() => openPath(item.fullPath)}\n        />\n      ));\n    case 'paused':\n      return (\n        <DisplayFileItem\n          fileName={data.fileName}\n          bottomText={$t('syncStatus.popup.sizeFormat', getDisplayStringBytes(data.totalSize))}\n          rightTopText={$t('syncStatus.popup.paused')}\n          openFile={() => openPath(data.filePath)}\n        />\n      );\n    case 'analyzing':\n      return (\n        <DisplayFileItem\n          fileName={$t('syncStatus.popup.analyingFileNameFormat', data.fileName)}\n          bottomText={$t('syncStatus.popup.sizeFormat', getDisplayStringBytes(data.totalSize))}\n          openFile={() => openPath(data.filePath)}\n        />\n      );\n    case 'transferring':\n      return (\n        <DisplayFileItem\n          fileName={data.fileName}\n          rightTopText={`${getDisplayStringBytes(data.instantaneousSpeed)}/s`}\n          bottomText={$t('syncStatus.popup.sizeFormat', getDisplayStringBytes(data.totalSize))}\n          rightBottomText={$t('syncStatus.popup.remainingTimeFormat', data.remainingTime)}\n          openFile={() => openPath(data.filePath)}\n        />\n      );\n  }\n}\n\nexport default function SyncStatePopup({ data }: SyncStatePopupProps) {\n  const content = usePopupContent(data);\n\n  return (\n    <div className=\"sync-state-popup-wrapper\" onWheel={(e) => e.stopPropagation()}>\n      <div className=\"sync-state-popup-content\">{content}</div>\n      <TriangleIcon />\n    </div>\n  );\n}\n","import { useState, useRef, useEffect, useMemo } from 'react';\nimport { useI18n } from '../../i18n';\nimport {\n  SyncStatusMessage,\n  LockedFileItem,\n  subscribeMainWindowEvent,\n  getLockedFileItemsAsync,\n  getSyncingInfoAsync,\n  getSyncErrorCount,\n  isSandboxOwnerExpired,\n} from '../../java-api/main-window';\n\ntype LockedFilesData = {\n  type: 'locked-files';\n  files: ReadonlyArray<LockedFileItem>;\n};\n\ntype TransferringData = {\n  type: 'transferring';\n  fileName: string;\n  filePath: string;\n  instantaneousSpeed: number;\n  totalSize: number;\n  remainingTime: string;\n};\n\ntype PausedData = {\n  type: 'paused';\n  fileName: string;\n  filePath: string;\n  totalSize: number;\n};\n\ntype AnalyzingData = {\n  type: 'analyzing';\n  fileName: string;\n  filePath: string;\n  totalSize: number;\n};\n\nexport type SyncStatusPopupData = LockedFilesData | TransferringData | PausedData | AnalyzingData;\n\nexport default function useSyncStateBarModel() {\n  const { $t } = useI18n();\n  const defaultStatus = useMemo<SyncStatusMessage>(\n    () => ({\n      isPaused: false,\n      type: 'syncing',\n      details: $t('syncStatus.message.initializing'),\n    }),\n    [$t]\n  );\n  const [syncStatusMessage, setSyncStatusMessage] = useState<SyncStatusMessage>();\n  const [popupData, setPopupData] = useState<SyncStatusPopupData>();\n  const isSyncedRef = useRef(false);\n  const isPausedRef = useRef(false);\n\n  const { isPaused, type, details } = syncStatusMessage ?? defaultStatus;\n  isSyncedRef.current = type === 'synced';\n  isPausedRef.current = isPaused;\n\n  useEffect(() => {\n    const dispose = subscribeMainWindowEvent('update-sync-status', async (message) => {\n      setSyncStatusMessage(message);\n\n      setPopupData(await getPopupData(isSyncedRef.current, isPausedRef.current));\n    });\n\n    return () => dispose();\n  }, []);\n\n  const syncErrorCount = type === 'synced' ? getSyncErrorCount() : 0;\n  const sandboxOwnerExpired = isSandboxOwnerExpired();\n  return { isPaused, type, details, popupData, syncErrorCount, sandboxOwnerExpired };\n}\n\nasync function getPopupData(isSynced: boolean, isPaused: boolean) {\n  if (isSynced) {\n    // Synced (completed): display locked files if exists.\n    const lockedFiles = await getLockedFileItemsAsync();\n    if (!lockedFiles.length) return undefined;\n\n    const lockedFilesData: LockedFilesData = {\n      type: 'locked-files',\n      files: lockedFiles,\n    };\n    return lockedFilesData;\n  } else {\n    // Sync uncompleted: paused, transferring, analyzing\n    const info = await getSyncingInfoAsync();\n    if (!info.fileName || !info.filePath) return undefined;\n\n    if (isPaused) {\n      // paused\n      const pausedData: PausedData = {\n        type: 'paused',\n        fileName: info.fileName,\n        filePath: info.filePath,\n        totalSize: info.totalSize,\n      };\n      return pausedData;\n    } else {\n      if (info.instantaneousSpeed < 1e-6) {\n        // Analyzing\n        const analyzingData: AnalyzingData = {\n          type: 'analyzing',\n          fileName: info.fileName,\n          filePath: info.filePath,\n          totalSize: info.totalSize,\n        };\n        return analyzingData;\n      } else {\n        // Transferring\n        const transferringData: TransferringData = {\n          type: 'transferring',\n          fileName: info.fileName,\n          filePath: info.filePath,\n          totalSize: info.totalSize,\n          instantaneousSpeed: info.instantaneousSpeed,\n          remainingTime: info.remainingTime,\n        };\n        return transferringData;\n      }\n    }\n  }\n}\n","import React, { useMemo } from 'react';\nimport SyncStatePopup from './sync-state-popup';\nimport { openSandboxOwnerExpiredWindow, openSyncErrorsWindow, setIsPaused, SyncStatusType } from '../../java-api/main-window';\nimport { useI18n } from '../../i18n';\nimport useSyncStateBarModel from '../../models/main-window/sync-state-bar-model';\n\nimport statusErrorIcon from '../../assets/main-window/status_sync_error.svg';\nimport statusFinishIcon from '../../assets/main-window/status_sync_finish.svg';\nimport statusPausedIcon from '../../assets/main-window/status_sync_paused.svg';\nimport statusSyncingIcon from '../../assets/main-window/status_sync_syncing.svg';\nimport buttonPauseIcon from '../../assets/main-window/status_pause.svg';\nimport buttonPlayIcon from '../../assets/main-window/status_play.svg';\nimport { Tooltip } from '../../components/tooltip';\n\nfunction getIcon(type: SyncStatusType) {\n  switch (type) {\n    case 'failed':\n      return statusErrorIcon;\n    case 'paused':\n      return statusPausedIcon;\n    case 'synced':\n      return statusFinishIcon;\n    case 'syncing':\n      return statusSyncingIcon;\n  }\n}\n\nexport default function SyncStateBar() {\n  const { $t } = useI18n();\n  const { isPaused, type, details, popupData, syncErrorCount, sandboxOwnerExpired } = useSyncStateBarModel();\n  const lockedBySelfFileItems =\n    popupData?.type === 'locked-files'\n      ? popupData.files.filter((item) => item.isLockedByThisMachine)\n      : null;\n\n  const popup = useMemo(() => {\n    return popupData ? (\n      <div className=\"sync-state-bar-popup\">\n        <SyncStatePopup data={popupData} />\n      </div>\n    ) : null;\n  }, [popupData]);\n\n  let extraInfo = null;\n  if (type === 'synced') {\n    if (lockedBySelfFileItems?.length) {\n      extraInfo = (<span className=\"text tip-secondary\" style={{ marginLeft: '8px' }}>\n        {$t('syncStatus.extraInfo.lockedFileBySelf', lockedBySelfFileItems.length)}\n      </span>);\n    } else if (syncErrorCount > 0) {\n      extraInfo = (<span className=\"text tip-secondary\" style={{ marginLeft: '8px' }} onClick={async () => await openSyncErrorsWindow(false)}>\n        {$t('syncStatus.extraInfo.hasSyncErrors', syncErrorCount)}\n      </span>)\n    }\n  } else if (type === 'failed') {\n    if (sandboxOwnerExpired) {\n      extraInfo = (<span className=\"text tip-secondary\" style={{ marginLeft: '8px' }} onClick={async () => await openSandboxOwnerExpiredWindow()}>\n        {$t('syncStatus.extraInfo.clickForDetails')}\n      </span>)\n    }\n  }\n\n  return (    \n    <div className=\"sync-state-bar-wrapper\">\n      <img className=\"sync-state-icon\" src={getIcon(type)} alt=\"state-icon\" />\n      <span className=\"sync-state-message text ellipsis\">\n        {details}\n        {extraInfo}\n      </span>\n      <button className=\"sync-state-button\" onClick={() => setIsPaused(!isPaused)}>\n        {isPaused ? (\n          <Tooltip title={$t('syncStateBar.resume.tooltip')} placement='left'>\n            <img src={buttonPlayIcon} alt=\"play-icon\"></img>\n          </Tooltip>\n        ) : (\n            <Tooltip title={$t('syncStateBar.pause.tooltip')} placement='left'>\n              <img src={buttonPauseIcon} alt=\"pause-icon\"></img>\n            </Tooltip>\n        )}\n      </button>\n      {popup}\n    </div>\n  );\n}\n","import { importJavaFunc, importJavaPromise } from '../../java-interop';\n\ntype ErrorPosition = 'global' | 'passcode';\n\ntype SuccessState = {\n  state: 'success';\n};\n\ntype NeedTfAuthState = {\n  state: 'need-tf-auth';\n  type: 'sms' | 'wechat' | 'google' | 'email';\n  payload?: string;\n};\n\ntype NeedSetupTfAuthState = {\n  state: 'need-setup-tf-auth';\n  message: string;\n  url: string;\n};\n\ntype ExistingAccountState = {\n  state: 'existing-account';\n  message: string;\n};\n\ntype LoginFailedState = {\n  state: 'failed';\n  errorPosition: ErrorPosition;\n  message: string;\n};\n\n// API: login\n\nexport type LoginState =\n  | SuccessState\n  | NeedTfAuthState\n  | NeedSetupTfAuthState\n  | ExistingAccountState\n  | LoginFailedState;\n\nexport const loginAsync = importJavaPromise<(username: string, password: string) => LoginState>(\n  'login'\n);\n\n// API: loginWithPasscode\n\nexport type LoginWithPasscodeState = SuccessState | LoginFailedState;\nexport const loginWithPasscodeAsync = importJavaPromise<\n  (\n    username: string,\n    password: string,\n    passcode: string,\n    withGoogleAuth: boolean\n  ) => LoginWithPasscodeState\n>('loginWithPasscode');\n\n// API: sendTfSms\n\ntype TfSmsFailedState = {\n  state: 'failed';\n  message: string;\n};\nexport type TfSmsState = SuccessState | TfSmsFailedState;\nexport const sendTfSmsAsync = importJavaPromise<(email: string, password: string) => TfSmsState>(\n  'sendTfSms'\n);\n\n// API: setEnterpriseServer\n\ntype SetEnterpriseServerState = SuccessState | LoginFailedState;\nexport const setEnterpriseServerAsync = importJavaPromise<\n  (address: string, useHttps: boolean) => SetEnterpriseServerState\n>('setEnterpriseServer');\n\n// API: isEtpSSOAuthAvailable\nexport const isEtpSSOAuthAvailable = importJavaFunc<() => boolean>('isEtpSSOAuthAvailable', false);\n\n// API: etpSSOAuth\nexport const etpSSOAuthAsync = importJavaPromise<() => LoginState>('etpSSOAuth');\n","import { importJavaFunc, importJavaPromiseNonJson } from '../../java-interop';\n\ntype PredefineUrl =\n  | 'reset-password'\n  | 'guides-share'\n  | 'guides-backup'\n  | 'user-agreement'\n  | 'privacy-policy'\n  | 'passcode-help';\n\nexport const openPredefineUrl = importJavaFunc<(type: PredefineUrl) => void>('openPredefineUrl');\nexport const restartClient = importJavaFunc<() => void>('restartClient');\nexport const closeAndEnterMainWindow = importJavaPromiseNonJson<(showUserGuide: boolean, defaultFolderPath?: string) => void>('closeAndEnterMainWindow');\n","import { importJavaFunc, importJavaPromise, JavaTask } from '../../java-interop';\n\nexport type SandboxInfo = {\n  id: number;\n  name: string;\n  isSyncToDisk: boolean;\n};\n\nexport type PathSettingItem = {\n  path: string | null;\n  isFolderAlreadyExists: boolean;\n} & SandboxInfo;\n\nexport const getDefaultParentPath = importJavaFunc<() => string>('getDefaultParentPath');\n\nexport const getSandboxInfosAsync = importJavaPromise<() => SandboxInfo[]>('getSandboxInfos');\n\nexport const checkSyncFolderExists = importJavaFunc<(path: string) => boolean>(\n  'checkSyncFolderExists'\n);\nexport const combinePath = importJavaFunc<(...paths: string[]) => string>('combinePath');\nexport const openDirDialogTask = new JavaTask<() => string | null>('openDirDialog');\n\n// API: applyPathSettingItems\ntype SuccessToApplySandboxResponse = {\n  state: 'success';\n  defaultFolderPath: string;\n};\ntype FailedToApplySandboxResponse = {\n  state: 'failed';\n  message: string;\n};\ntype ApplySandboxResponse = SuccessToApplySandboxResponse | FailedToApplySandboxResponse;\n\nconst applyPathSettingItems = new JavaTask<(json: string) => string>('applyPathSettingItems');\nexport async function applyPathSettingItemsAsync(\n  items: PathSettingItem[]\n): Promise<ApplySandboxResponse> {\n  try {\n    const jsonString = await applyPathSettingItems.run(JSON.stringify(items));\n    return JSON.parse(jsonString);\n  } finally {\n    applyPathSettingItems.dispose();\n  }\n}\n\n// API: applyDefaultPathSettings\nconst applyDefaultPathSettings = new JavaTask<() => string>('applyDefaultPathSettings');\nexport async function applyDefaultPathSettingsAsync(): Promise<ApplySandboxResponse> {\n  try {\n    const jsonString = await applyDefaultPathSettings.run();\n    return JSON.parse(jsonString);\n  } finally {\n    applyDefaultPathSettings.dispose();\n  }\n}\n\n// API: checkForbiddenSyncFolder\ntype ValidSyncFolderResult = {\n  result: 'valid';\n};\n\ntype ForbiddenSyncFolderResult = {\n  result: 'invalid';\n  errorCode: string;\n  message?: string;\n};\n\ntype CheckResult = ValidSyncFolderResult | ForbiddenSyncFolderResult;\n\nexport const checkForbiddenSyncFolderAsync = importJavaPromise<\n  (path: string, existingPaths: string[]) => CheckResult\n>('checkForbiddenSyncFolder');\n\nexport const checkForbiddenParentAsync = importJavaPromise<\n  (path: string) => CheckResult\n>('checkForbiddenParent');\n\n// API: getUsername\nexport const getUsername = importJavaFunc<() => string>('getUsername');\n","import { importJavaPromise } from '../../java-interop';\n\nexport enum ProxyType {\n  noProxy = 0,\n  http = 1,\n  socks = 2,\n}\n\n// API: getProxySettings\n\nexport type ProxySetting = {\n  proxyType: ProxyType;\n  host?: string;\n  port?: string;\n  username?: string;\n  password?: string;\n};\n\nexport const getProxySettingsAsync = importJavaPromise<() => ProxySetting>('getProxySettings');\n\n// API: setProxySettings\n\ntype SuccessState = {\n  state: 'success';\n};\n\ntype FailedState = {\n  state: 'failed';\n  message: string;\n};\n\ntype State = SuccessState | FailedState;\n\nexport const setProxySettingsAsync = importJavaPromise<\n  (proxyType: number, host?: string, port?: string, username?: string, password?: string) => State\n>('setProxySettings');\n","import { useState, useEffect } from 'react';\nimport { useI18n } from '../../i18n';\nimport { getUsername } from '../../java-api/launch-window';\nimport { AccountMeterInfo, getNickname, getAccountInfoAsync } from '../../java-api/main-window';\n\nconst INITIAL_ACCOUNT_METER_INFO: AccountMeterInfo = {\n  isPaidUser: false,\n  isInTeam: false,\n  accountExpireLeftTime: 0,\n  usedStorageSize: 0,\n  totalStorageSize: 0,\n\n  freeDownRate: 0,\n  freeUpRate: 0,\n  usedDownRate: 0,\n  usedUpRate: 0,\n  rateResetLeftMills: 0,\n};\n\nconst MILLISECONDS_CONSTS = {\n  ONE_DAY: 24 * 60 * 60 * 1000,\n  ONE_HOUR: 60 * 60 * 1000,\n  TWENTY_YEAYS: 20 * 365 * 24 * 60 * 60 * 1000,\n};\n\nfunction useExpirationTime(milliseconds: number) {\n  const { $t } = useI18n();\n  if (milliseconds > MILLISECONDS_CONSTS.TWENTY_YEAYS) {\n    return $t('accountInfo.expire.paidUser.value.never');\n  }\n\n  if (milliseconds <= 0) {\n    return $t('accountInfo.expire.paidUser.value.alreadyExpired');\n  }\n\n  return new Date(Date.now() + milliseconds).toLocaleDateString();\n}\n\nfunction useTrafficResetTime(milliseconds: number) {\n  const { $t } = useI18n();\n\n  if (milliseconds > MILLISECONDS_CONSTS.ONE_DAY) {\n    return $t(\n      'accountInfo.expire.freeUser.value.resetAfterDays',\n      Math.floor(milliseconds / MILLISECONDS_CONSTS.ONE_DAY)\n    );\n  }\n\n  if (milliseconds > MILLISECONDS_CONSTS.ONE_HOUR) {\n    return $t(\n      'accountInfo.expire.freeUser.value.resetAfterHours',\n      Math.floor(milliseconds / MILLISECONDS_CONSTS.ONE_HOUR)\n    );\n  }\n\n  return $t('accountInfo.expire.freeUser.value.resetWithin1Hour');\n}\n\nexport default function useAccountInfoViewModel(selected: boolean) {\n  const [username, setUsername] = useState('');\n  const [nickname, setNickname] = useState('');\n  const [\n    {\n      isPaidUser,\n      isInTeam,\n\n      usedStorageSize,\n      totalStorageSize,\n      accountExpireLeftTime,\n\n      usedUpRate,\n      freeUpRate,\n      usedDownRate,\n      freeDownRate,\n      rateResetLeftMills,\n    },\n    setMeterInfo,\n  ] = useState<AccountMeterInfo>(INITIAL_ACCOUNT_METER_INFO);\n  const accountExpireLeftTimeText = useExpirationTime(accountExpireLeftTime);\n  const trafficResetLeftTimeText = useTrafficResetTime(rateResetLeftMills);\n\n  useEffect(() => {\n    const fetchMeterInfo = async () => {\n      setUsername(getUsername());\n      setNickname(getNickname());\n      setMeterInfo(await getAccountInfoAsync());\n    };\n\n    if (selected) {\n      fetchMeterInfo();\n    }\n  }, [selected]);\n\n  return {\n    username,\n    nickname,\n    isPaidUser,\n    isInTeam,\n    usedStorageSize,\n    totalStorageSize,\n    usedUpRate,\n    totalUpRate: freeUpRate + usedUpRate,\n    usedDownRate,\n    totalDownRate: freeDownRate + usedDownRate,\n    expirationTimeText: isPaidUser ? accountExpireLeftTimeText : trafficResetLeftTimeText,\n  };\n}\n","import { importJavaPromise } from '../../java-interop';\n\ntype ErrorPosition = 'global' | 'email' | 'phone' | 'passcode';\n\ntype OkResponse = {\n  state: 'success';\n};\n\ntype FailedResponse = {\n  state: 'failed';\n  errorPosition: ErrorPosition;\n  message: string;\n};\n\ntype NeedPhoneResponse = {\n  state: 'need-phone';\n};\n\ntype SignUpResponse = OkResponse | FailedResponse | NeedPhoneResponse;\n\n// API: signUp\n\nexport const signUpAsync = importJavaPromise<\n  (email: string, password: string, nickname: string) => SignUpResponse\n>('signUp');\n\n// API: signUpWithPhone\n\nexport const signUpWithPhoneAsync = importJavaPromise<\n  (\n    email: string,\n    password: string,\n    nickname: string,\n    phone: string,\n    passcode: string\n  ) => SignUpResponse\n>('signUpWithPhone');\n\n// API: sendVerifyRegPhoneMsg\n\nexport const sendVerifyRegPhoneMsgAsync = importJavaPromise<(phone: string) => SignUpResponse>(\n  'sendVerifyRegPhoneMsg'\n);\n","import React from 'react';\nimport classNames from 'classnames';\n\nexport default function CheckSwitch({\n  checked,\n  setChecked,\n}: {\n  checked: boolean;\n  setChecked: (value: boolean) => void;\n}) {\n  const wrapperClass = classNames('check-switch-wrapper', { checked });\n  return (\n    <div className={wrapperClass} onClick={() => setChecked(!checked)}>\n      <div className=\"check-switch-thumb\"></div>\n    </div>\n  );\n}\n","import React, { ReactNode } from 'react';\nimport { ScrollViewer } from '../../components/layout-container';\nimport CheckSwitch from '../../components/input/check-switch';\nimport rightArrowIcon from '../../assets/right-arrow.svg';\nimport leftArrowIcon from '../../assets/left-arrow.svg';\n\ntype SettingsButtonProps = {\n  text: string;\n  onClick: () => void;\n};\n\ntype SettingItemSwitchProps = {\n  title: string;\n  decription?: string;\n  checked: boolean;\n  setChecked: (value: boolean) => void;\n};\n\ntype SettingsViewTemplateProps = {\n  header: string;\n  content: ReactNode;\n  footer: ReactNode;\n  onHeaderClicked?: () => void;\n};\n\nexport function SettingsHeaderButton({ text, onClick }: SettingsButtonProps) {\n  return (\n    <button className=\"settings-button header\" onClick={onClick}>\n      <img className=\"button-icon\" src={leftArrowIcon} alt=\"right-arrow\" height=\"8px\" />\n      <span className=\"text button-text\">{text}</span>\n    </button>\n  );\n}\n\nexport function SettingsFooterButton({ text, onClick }: SettingsButtonProps) {\n  return (\n    <button className=\"settings-button footer\" onClick={onClick}>\n      <span className=\"text button-text\">{text}</span>\n      <img className=\"button-icon\" src={rightArrowIcon} alt=\"right-arrow\" height=\"8px\" />\n    </button>\n  );\n}\n\nexport function SettingItemSwitch({\n  title,\n  decription,\n  checked,\n  setChecked,\n}: SettingItemSwitchProps) {\n  return (\n    <div className=\"setting-item-switch-wrapper\">\n      <div className=\"setting-item-content\">\n        <span className=\"text setting-item-title\">{title}</span>\n        {decription ? <span className=\"text setting-item-description\">{decription}</span> : null}\n      </div>\n      <CheckSwitch checked={checked} setChecked={setChecked} />\n    </div>\n  );\n}\n\nexport function SettingsViewTemplate({\n  header,\n  content,\n  footer,\n  onHeaderClicked,\n}: SettingsViewTemplateProps) {\n  return (\n    <ScrollViewer>\n      <div className=\"setting-view-template-wrapper\">\n        <div className=\"setting-view-template-region\">\n          <div className=\"header-region\">\n            {onHeaderClicked ? (\n              <SettingsHeaderButton text={header} onClick={onHeaderClicked} />\n            ) : (\n              <span className=\"text header\">{header}</span>\n            )}\n          </div>\n          <div className=\"content-region\">{content}</div>\n          <div className=\"footer-region\">{footer}</div>\n        </div>\n      </div>\n    </ScrollViewer>\n  );\n}\n","import React from 'react';\nimport { Button } from '../../components/button';\nimport { getDisplayStringBytes } from '../../helpers';\nimport { useI18n } from '../../i18n';\nimport { openPricingLink, openTrafficPolicyLink, switchAccount } from '../../java-api/main-window';\nimport useAccountInfoViewModel from '../../models/main-window/account-info-view-model';\nimport { SettingsFooterButton, SettingsViewTemplate } from './settings-view-template';\n\ntype UsageData = {\n  used: number;\n  total: number;\n};\n\nfunction PropertyItem({ propertyName, value }: { propertyName: string; value: string }) {\n  return (\n    <div className=\"property-item-wrapper\">\n      <span className=\"text property-key\">{propertyName}</span>\n      <span className=\"text property-value\">{value}</span>\n    </div>\n  );\n}\n\nfunction FreeAccountUsageRegion({\n  upUsage,\n  downUsage,\n}: {\n  upUsage: UsageData;\n  downUsage: UsageData;\n}) {\n  const { $t } = useI18n();\n  return (\n    <div className=\"account-usage-region\">\n      <span className=\"text property-key\">{$t('accountInfo.usage')}</span>\n      <span className=\"text property-value\">\n        {$t(\n          'accountInfo.uploadTraffic',\n          `${getDisplayStringBytes(upUsage.used)} / ${getDisplayStringBytes(upUsage.total)}`\n        )}\n      </span>\n      <progress className=\"progress\" max={upUsage.total} value={upUsage.used} />\n      <span className=\"text property-value\">\n        {$t(\n          'accountInfo.downloadTraffic',\n          `${getDisplayStringBytes(downUsage.used)} / ${getDisplayStringBytes(downUsage.total)}`\n        )}\n      </span>\n      <progress className=\"progress\" max={downUsage.total} value={downUsage.used} />\n    </div>\n  );\n}\n\nfunction PaidAccountUsageRegion({ usage }: { usage: UsageData }) {\n  const { $t } = useI18n();\n  return (\n    <div className=\"account-usage-region\">\n      <span className=\"text property-key\">{$t('accountInfo.usage')}</span>\n      <span className=\"text property-value\">{`${getDisplayStringBytes(\n        usage.used\n      )} / ${getDisplayStringBytes(usage.total)}`}</span>\n      <progress className=\"progress\" max={usage.total} value={usage.used} />\n    </div>\n  );\n}\n\ntype AccountInfoViewProps = {\n  selected: boolean;\n};\n\nexport default function AccountInfoView({ selected }: AccountInfoViewProps) {\n  const { $t } = useI18n();\n  const {\n    username,\n    nickname,\n    isPaidUser,\n    isInTeam,\n    usedStorageSize,\n    totalStorageSize,\n    usedUpRate,\n    totalUpRate,\n    usedDownRate,\n    totalDownRate,\n    expirationTimeText,\n  } = useAccountInfoViewModel(selected);\n\n  return (\n    <SettingsViewTemplate\n      header={$t('accountInfo.title')}\n      content={\n        <div className=\"account-info-content\">\n          <PropertyItem propertyName={$t('accountInfo.account')} value={username} />\n          <PropertyItem propertyName={$t('accountInfo.nickname')} value={nickname} />\n          <PropertyItem propertyName={$t('accountInfo.expire')} value={expirationTimeText} />\n          {isPaidUser ? (\n            <PaidAccountUsageRegion usage={{ used: usedStorageSize, total: totalStorageSize }} />\n          ) : (\n            <FreeAccountUsageRegion\n              upUsage={{ used: usedUpRate, total: totalUpRate }}\n              downUsage={{ used: usedDownRate, total: totalDownRate }}\n            />\n          )}\n          <div className=\"account-links\">\n            {isPaidUser ? (\n              isInTeam ? null : (\n                <Button buttonType=\"link\" onClick={() => openPricingLink()}>\n                  {$t('accountInfo.renew')}\n                </Button>\n              )\n            ) : (\n              <>\n                <Button buttonType=\"link\" onClick={() => openTrafficPolicyLink()}>\n                  {$t('accountInfo.viewTrafficRules')}\n                </Button>\n                <Button buttonType=\"link\" onClick={() => openPricingLink()}>\n                  {$t('accountInfo.accountUpgrade')}\n                </Button>\n              </>\n            )}\n          </div>\n        </div>\n      }\n      footer={\n        <div className=\"settings-view footer-account-info\">\n          <div className=\"split-line\"></div>\n          <SettingsFooterButton\n            text={$t('accountInfo.switchAccount')}\n            onClick={async () => await switchAccount()}\n          />\n        </div>\n      }\n    />\n  );\n}\n","import React from 'react';\nimport { Button } from '../../components/button';\nimport { useNavigator } from '../../components/items-control';\nimport { useAboutLogo, useI18n } from '../../i18n';\nimport { SettingsViewName, SWITCH_NAME_SETTINGS } from './settings-view';\nimport { SettingsViewTemplate } from './settings-view-template';\nimport useSettingsAboutViewModel from '../../models/main-window/settings-about-view-model';\nimport { openUrl } from '../../java-api';\nimport { useContextmenuClickCombo } from '../../hooks/use-contextmenu-manager';\n\nexport default function SettingsAboutView() {\n  const { $t } = useI18n();\n  const settingsNavigator = useNavigator<SettingsViewName>(SWITCH_NAME_SETTINGS);\n  const { copyrightYear, version } = useSettingsAboutViewModel();\n  const logo = useAboutLogo();\n\n  const contextmenuClickCombo = useContextmenuClickCombo();\n\n  return (\n    <SettingsViewTemplate\n      header={$t('settings.about.title')}\n      onHeaderClicked={() => settingsNavigator('general')}\n      content={\n        <div className=\"settings-view content-about\">\n          <img\n            src={logo}\n            onClick={contextmenuClickCombo.click}\n            alt=\"logo\"\n            width=\"100px\"\n            height=\"104px\"\n            style={{ marginTop: '64px' }}\n          />\n          <span className=\"text tip-secondary\" style={{ marginTop: '24px' }}>\n            {$t('settings.about.currentVersion', version)}\n          </span>\n          <span className=\"text tip-secondary\" style={{ marginTop: '16px' }}>\n            {$t('settings.about.copyright', copyrightYear)}\n          </span>\n        </div>\n      }\n      footer={\n        <div className=\"settings-view footer-about\">\n          <Button\n            buttonType=\"link\"\n            onClick={() => openUrl('http://help.jianguoyun.com/?page_id=490')}\n          >\n            {$t('settings.about.userAgreement')}\n          </Button>\n          <Button buttonType=\"link\" onClick={() => openUrl('http://help.jianguoyun.com/?p=3961')}>\n            {$t('settings.about.privacyPolicy')}\n          </Button>\n        </div>\n      }\n    />\n  );\n}\n","import { useMemo } from 'react';\nimport { getVersion } from '../../java-api/main-window';\n\nexport default function useSettingsAboutViewModel() {\n  const copyrightYear = useMemo(() => new Date().getFullYear(), []);\n  const version = useMemo(() => getVersion(), []);\n\n  return {\n    copyrightYear,\n    version,\n  };\n}\n","import { log } from '../java-api';\nimport { useForceUpdate } from './use-force-update';\nimport { useLazyRef } from './use-lazy-ref';\n\nclass ConfigureValueBase<T> {\n  private valueStorage: T;\n\n  protected raisePropertyChanged: () => void;\n\n  changed: boolean = false;\n\n  get value() {\n    return this.valueStorage;\n  }\n\n  set value(newValue: T) {\n    this.changed = this.valueStorage !== newValue;\n\n    if (this.changed) {\n      this.valueStorage = newValue;\n      this.raisePropertyChanged();\n    }\n  }\n\n  constructor(raisePropertyChanged: () => void, initialValue: T) {\n    this.valueStorage = initialValue;\n    this.raisePropertyChanged = raisePropertyChanged;\n  }\n}\n\nclass ConfigureValue<T> extends ConfigureValueBase<T> {\n  private getter: () => T;\n  private setter: (value: T) => void;\n\n  changed: boolean = false;\n\n  constructor(getter: () => T, setter: (value: T) => void, raisePropertyChanged: () => void) {\n    super(raisePropertyChanged, getter());\n\n    this.getter = getter;\n    this.setter = setter;\n  }\n\n  setAndApply(value: T) {\n    this.value = value;\n    this.apply();\n  }\n\n  reset(force = false) {\n    if (this.changed || force) {\n      this.value = this.getter();\n      this.changed = false;\n    }\n  }\n\n  apply(force = false) {\n    if (this.changed || force) {\n      try {\n        this.setter(this.value);\n      } catch (e) {\n        log('error', `unexpected exception occurred when appling configure value. ${e}`);\n      }\n      this.reset(force);\n    }\n  }\n}\n\nclass AsyncConfigureValue<T> extends ConfigureValueBase<T> {\n  private getter: () => Promise<T>;\n  private setter: (value: T) => Promise<void>;\n\n  changed: boolean = false;\n  isBusy: boolean = false;\n\n  constructor(\n    getter: () => Promise<T>,\n    setter: (value: T) => Promise<void>,\n    raisePropertyChanged: () => void,\n    initialValue: T\n  ) {\n    super(raisePropertyChanged, initialValue);\n\n    this.getter = async () => {\n      this.isBusy = true;\n      const result = await getter();\n      this.isBusy = false;\n      return result;\n    };\n    this.setter = async (value) => {\n      this.isBusy = true;\n      await setter(value);\n      this.isBusy = false;\n    };\n  }\n\n  async setAndApply(value: T) {\n    this.value = value;\n    await this.apply();\n  }\n\n  async reset(force = false) {\n    if (this.changed || force) {\n      this.value = await this.getter();\n      this.changed = false;\n    }\n  }\n\n  async apply(force = false) {\n    if (this.changed || force) {\n      try {\n        await this.setter(this.value);\n      } catch (e) {\n        log('error', `unexpected exception occurred when appling configure value. ${e}`);\n      }\n      await this.reset(force);\n    }\n  }\n}\n\nexport function useConfigureValue<T>(getter: () => T, setter: (value: T) => void) {\n  const forceUpdate = useForceUpdate();\n  return useLazyRef(() => new ConfigureValue<T>(getter, setter, forceUpdate));\n}\n\nexport function useAsyncConfigureValue<T>(\n  getter: () => Promise<T>,\n  setter: (value: T) => Promise<void>,\n  initialValue: T\n) {\n  const forceUpdate = useForceUpdate();\n  return useLazyRef(() => new AsyncConfigureValue<T>(getter, setter, forceUpdate, initialValue));\n}\n","import React from 'react';\nimport { Button } from '../../components/button';\nimport { ComboBox, useNavigator } from '../../components/items-control';\nimport { LanguageCode, useI18n } from '../../i18n';\nimport { openUrl, useIsOSXPlatform, useIsBadgeEnabled, useIsFileProviderEnabled, useShouldShowUpgradeToFileProviderEntry, isEnterprise} from '../../java-api';\nimport { fileProviderFeatureUpgrade } from '../../java-api/main-window';\nimport useSettingsGeneralViewModel from '../../models/main-window/settings-general-view-model';\nimport { SettingsViewName, SWITCH_NAME_SETTINGS } from './settings-view';\nimport {\n  SettingItemSwitch,\n  SettingsFooterButton,\n  SettingsViewTemplate,\n} from './settings-view-template';\n\nfunction SettingsNavigatorFooter() {\n  const { $t } = useI18n();\n  const isOSXPlatform = useIsOSXPlatform();\n  const isFileProviderEnabled = useIsFileProviderEnabled();\n  const isEtp = isEnterprise();\n  const settingsNavigator = useNavigator<SettingsViewName>(SWITCH_NAME_SETTINGS);\n\n  return (\n    <div className=\"settings-view footer-general\">\n      <div className=\"split-line\"></div>\n      <SettingsFooterButton\n        text={$t('settings.network.title')}\n        onClick={() => settingsNavigator('network')}\n      />\n      {/* Linux platform don't support cloud bridge */}\n      {isOSXPlatform && !isFileProviderEnabled ? (\n        <>\n          <div className=\"split-line\"></div>\n          <SettingsFooterButton\n            text={$t('settings.storage.title')}\n            onClick={() => settingsNavigator('storage')}\n          />\n        </>\n      ) : null}\n      <div className=\"split-line\"></div>\n      <SettingsFooterButton\n        text={$t('settings.about.title')}\n        onClick={() => settingsNavigator('about')}\n      />\n      {/* [WS-168152] Hide customer support button for Enterprise edition*/}\n      {isEtp ? null : (\n        <>\n          <div className=\"split-line\"></div>\n          <SettingsFooterButton\n            text={$t('settings.customerService.title')}\n            onClick={() =>\n              openUrl('https://www.jianguoyun.com/s/helpdesk')\n            }\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default function SettingsGeneralView() {\n  const { $t } = useI18n();\n  const isOSXPlatform = useIsOSXPlatform();\n  const isBadgeEnabled = useIsBadgeEnabled();\n  const isFileProviderEnabled = useIsFileProviderEnabled();\n  const shouldShowUpgradeToFileProviderEntry = useShouldShowUpgradeToFileProviderEntry();\n\n  const {\n    autoStart,\n    notifyOnFilesUpdated,\n    safeGuard,\n    fileProtectionLock,\n    showInDocker,\n    experimental,\n    languageItems,\n    language,\n    badgePreferenceItems,\n    badgePreference,\n  } = useSettingsGeneralViewModel();\n\n  return (\n    <SettingsViewTemplate\n      header={$t('settings.general.title')}\n      content={\n        <div className=\"settings-view content-general\">\n          {shouldShowUpgradeToFileProviderEntry ? (\n            // File Provider feature upgrade setting item\n            <div className=\"setting-item-switch-wrapper\">\n              <div className=\"setting-feature-upgrade-red-dot\" style={{marginTop: '6px', marginRight: '6px'}} />\n              <div className=\"setting-item-content\">\n                <span className=\"text setting-item-title\">{$t('settings.general.featureUpgrade.fileprovider.title')}</span>\n                <span className=\"text setting-item-description\">{$t('settings.general.featureUpgrade.fileprovider.description')}</span>\n              </div>\n              <div style={{alignSelf: 'flex-start'}}>\n                <Button\n                  buttonType='link'\n                  onClick={() => fileProviderFeatureUpgrade()}>\n                  {$t('settings.general.featureUpgrade.fileprovider.upgradeNow')}\n                </Button>\n              </div>\n            </div>\n          ) : null}\n          <SettingItemSwitch\n            title={$t('settings.general.autoStart.title')}\n            checked={autoStart.value}\n            setChecked={(v) => autoStart.setAndApply(v)}\n          />\n          <SettingItemSwitch\n            title={$t('settings.general.notifyOnFilesUpdated.title')}\n            checked={notifyOnFilesUpdated.value}\n            setChecked={(v) => notifyOnFilesUpdated.setAndApply(v)}\n          />\n          <SettingItemSwitch\n            title={$t('settings.general.safeGuard.title')}\n            decription={$t('settings.general.safeGuard.description')}\n            checked={safeGuard.value}\n            setChecked={(v) => safeGuard.setAndApply(v)}\n          />\n          {isOSXPlatform && !isFileProviderEnabled ? (\n            // The file protection lock only available on OSX\n            <SettingItemSwitch\n              title={$t('settings.general.fileProtectionLock.title')}\n              decription={$t('settings.general.fileProtectionLock.description')}\n              checked={fileProtectionLock.value}\n              setChecked={(v) => fileProtectionLock.setAndApply(v)}\n            />\n          ) : null}\n          {isOSXPlatform ? (\n            <SettingItemSwitch\n              title={$t('settings.general.showInDocker.title')}\n              checked={showInDocker.value}\n              setChecked={(v) => showInDocker.setAndApply(v)}\n            />\n          ) : null}\n          <SettingItemSwitch\n            title={$t('settings.general.experimental.title')}\n            decription={$t('settings.general.experimental.description')}\n            checked={experimental.value}\n            setChecked={(v) => experimental.setAndApply(v)}\n          />\n          <div className=\"setting-item-combobox\">\n            <span className=\"text setting-item-title\">{$t('settings.general.language.title')}</span>\n            <ComboBox\n              itemsSource={languageItems}\n              selectedItem={languageItems.find((item) => item.value === language.value)!}\n              setSelectedItem={(v) => language.setAndApply(v.value as LanguageCode)}\n            />\n          </div>\n          {isBadgeEnabled ? (\n            <div className=\"setting-item-combobox\">\n              <span className=\"text setting-item-title\">{$t('settings.general.badge.title')}</span>\n              <ComboBox style={{ minWidth: '200px' }}\n                itemsSource={badgePreferenceItems}\n                selectedItem={badgePreferenceItems.find((item) => item.value === badgePreference.value)!}\n                setSelectedItem={(v) => badgePreference.setAndApply(v.value as number)}\n              />\n            </div>\n          ) : null}\n        </div>\n      }\n      footer={<SettingsNavigatorFooter />}\n    />\n  );\n}\n","import { useEffect, useMemo } from 'react';\nimport { useAsyncConfigureValue, useConfigureValue } from '../../hooks/use-configure-value';\nimport { LanguageCode, useI18n } from '../../i18n';\nimport { isChineseLocale } from '../../java-api';\nimport {\n  getAutoStartAsync,\n  setAutoStartAsync,\n  getNotifyOnFilesUpdatedAsync,\n  setNotifyOnFilesUpdatedAsync,\n  getSafeGuardChangeAsync,\n  setSafeGuardChangeAsync,\n  getFileProtectionLockAsync,\n  setFileProtectionLockAsync,\n  getShowDockIconChangeAsync,\n  setShowDockIconChangeAsync,\n  getExperimentalUserChangeAsync,\n  setExperimentalUserChangeAsync,\n  setCultureAsync,\n  BadgePreference,\n  getBadgePreference,\n  setBadgePreference,\n} from '../../java-api/main-window';\n\nexport default function useSettingsGeneralViewModel() {\n  const autoStart = useAsyncConfigureValue(getAutoStartAsync, setAutoStartAsync, false);\n  const notifyOnFilesUpdated = useAsyncConfigureValue(\n    getNotifyOnFilesUpdatedAsync,\n    setNotifyOnFilesUpdatedAsync,\n    false\n  );\n  const safeGuard = useAsyncConfigureValue(getSafeGuardChangeAsync, setSafeGuardChangeAsync, false);\n  const fileProtectionLock = useAsyncConfigureValue(\n    getFileProtectionLockAsync,\n    setFileProtectionLockAsync,\n    false\n  );\n  const showInDocker = useAsyncConfigureValue(\n    getShowDockIconChangeAsync,\n    setShowDockIconChangeAsync,\n    false\n  );\n  const experimental = useAsyncConfigureValue(\n    getExperimentalUserChangeAsync,\n    setExperimentalUserChangeAsync,\n    false\n  );\n  const { $t } = useI18n();\n  const languageItems = useMemo(\n    () => [\n      { value: 'zh-CN', label: $t('settings.general.language.comboItems.chinese') },\n      { value: 'en-US', label: $t('settings.general.language.comboItems.english') },\n    ],\n    [$t]\n  );\n  const language = useAsyncConfigureValue<LanguageCode>(\n    () => Promise.resolve(isChineseLocale() ? 'zh-CN' : 'en-US'),\n    setCultureAsync,\n    'zh-CN'\n  );\n\n  const badgePreferenceItems = useMemo(\n    () => [\n      {value: BadgePreference.alwaysShow, label: $t('settings.general.badgePreference.alwaysShow')},\n      {value: BadgePreference.presentIfNecessary, label: $t('settings.general.badgePreference.presentIfNecessary')},\n      {value: BadgePreference.neverShow, label: $t('settings.general.badgePreference.neverShow')},      \n    ],\n    [$t]\n  );\n\n  const badgePreference = useConfigureValue<number>(\n    getBadgePreference,\n    setBadgePreference\n  );\n\n  useEffect(() => {\n    autoStart.reset(true);\n    notifyOnFilesUpdated.reset(true);\n    safeGuard.reset(true);\n    fileProtectionLock.reset(true);\n    showInDocker.reset(true);\n    experimental.reset(true);\n    language.reset(true);\n    badgePreference.reset(true);\n  }, [\n    autoStart,\n    experimental,\n    fileProtectionLock,\n    language,\n    notifyOnFilesUpdated,\n    safeGuard,\n    showInDocker,\n    badgePreference,\n  ]);\n\n  return {\n    autoStart,\n    notifyOnFilesUpdated,\n    safeGuard,\n    fileProtectionLock,\n    showInDocker,\n    experimental,\n    languageItems,\n    language,\n    badgePreferenceItems,\n    badgePreference\n  };\n}\n","import React from 'react';\nimport { Space } from '../../components/layout-container';\nimport { Button } from '../../components/button';\nimport { useI18n } from '../../i18n';\n\nimport errorIcon from '../../assets/error_icon.svg';\nimport warningIcon from '../../assets/warning_icon.svg';\nimport infoIcon from '../../assets/info_icon.svg';\nimport successIcon from '../../assets/success_icon.svg';\n\nexport type MessageDialogLevel = 'error' | 'warning' | 'info' | 'success';\n\ninterface MessageDialogProps {\n  icon: MessageDialogLevel;\n  title: string;\n  subtitle: string;\n  primaryButtonText?: string;\n  secondaryButtonText?: string;\n  close: (result: boolean) => void;\n}\n\nfunction getIcon(level: MessageDialogLevel) {\n  switch (level) {\n    case 'error':\n      return errorIcon;\n    case 'warning':\n      return warningIcon;\n    case 'info':\n      return infoIcon;\n    case 'success':\n      return successIcon;\n    default:\n      throw new Error(`Not found this icon (${level}).`);\n  }\n}\n\nexport default function MessageDialog({\n  icon,\n  title,\n  subtitle,\n  primaryButtonText,\n  secondaryButtonText,\n  close,\n}: MessageDialogProps) {\n  const { $t } = useI18n();\n  return (\n    <div className=\"message-dialog-wrapper\">\n      <Space\n        direction=\"vertical\"\n        sizes={['16px', '32px']}\n        aligns={['flex-start', 'stretch', 'flex-end']}\n      >\n        <Space direction=\"horizontal\" size=\"16px\" aligns={['stretch', 'center']}>\n          <img src={getIcon(icon)} alt={icon} className=\"message-icon\" width=\"40px\" height=\"40px\" />\n          <span className=\"message-title text title\">{title}</span>\n        </Space>\n        <span className=\"message-subtitle text subtitle\">{subtitle}</span>\n        <Space direction=\"horizontal\" size=\"16px\" align=\"center\">\n          <Button onClick={() => close(false)} style={{ width: '88px' }}>\n            {secondaryButtonText ?? $t('button.cancel')}\n          </Button>\n          <Button buttonType=\"primary\" onClick={() => close(true)} style={{ width: '88px' }}>\n            {primaryButtonText ?? $t('button.ok')}\n          </Button>\n        </Space>\n      </Space>\n    </div>\n  );\n}\n","import React from 'react';\nimport MessageDialog, { MessageDialogLevel } from '../views/launch-window/message-dialog';\nimport NetworkSettingsDialog from '../views/launch-window/proxy-settings-dialog';\nimport TwoStepVerificationDialog from '../views/launch-window/two-step-verification-dialog';\n\nexport function buildMessageDialog(\n  icon: MessageDialogLevel,\n  title: string,\n  subtitle: string,\n  close: (result: boolean) => void,\n  primaryButtonText?: string,\n  secondaryButtonText?: string\n) {\n  return (\n    <MessageDialog\n      icon={icon}\n      title={title}\n      subtitle={subtitle}\n      close={close}\n      primaryButtonText={primaryButtonText}\n      secondaryButtonText={secondaryButtonText}\n    />\n  );\n}\n\nexport function buildProxySettingsDialog(close: (value: boolean) => void) {\n  return <NetworkSettingsDialog close={close} />;\n}\n\nexport function buildTwoStepVerificationDialog(\n  title: string,\n  message: string,\n  username: string,\n  password: string,\n  withGoogleAuth: boolean,\n  close: (result: boolean) => void\n) {\n  return (\n    <TwoStepVerificationDialog\n      title={title}\n      message={message}\n      username={username}\n      password={password}\n      withGoogleAuth={withGoogleAuth}\n      close={close}\n    />\n  );\n}\n","import { useI18n } from '../../i18n';\nimport { useMemo, useState, useEffect } from 'react';\nimport { ComboBoxItem } from '../../components/items-control';\nimport { useVerifiableValue } from '../../hooks';\nimport { buildMessageDialog } from '../dialogs';\nimport { useDialogBuilder } from '../../components/dialog';\nimport { noRules, useIPRules, useNumberRules } from '../../hooks';\nimport {\n  ProxyType,\n  ProxySetting,\n  getProxySettingsAsync,\n  setProxySettingsAsync,\n} from '../../java-api/launch-window';\n\nexport default function useProxySettingsModel() {\n  const { $t } = useI18n();\n\n  const proxyTypes = useMemo(\n    () => [\n      { value: ProxyType.noProxy, label: $t('networkSettingsDialog.proxyNoProxy') },\n      { value: ProxyType.http, label: $t('networkSettingsDialog.proxyHttp') },\n      { value: ProxyType.socks, label: $t('networkSettingsDialog.proxySocks') },\n    ],\n    [$t]\n  );\n  const [proxySetting, setProxySetting] = useState<ProxySetting>({ proxyType: ProxyType.noProxy });\n  const [selectedProxyType, setSelectedProxyType] = useState<ComboBoxItem>(proxyTypes[0]);\n  const disabledProxy = selectedProxyType.value === ProxyType.noProxy;\n  const hostField = useVerifiableValue<string>(useIPRules($t), '');\n  const portField = useVerifiableValue<string>(useNumberRules($t), '');\n  const usernameField = useVerifiableValue<string>(noRules, '');\n  const passwordField = useVerifiableValue<string>(noRules, '');\n\n  useEffect(() => {\n    const fetch = async () => {\n      const savedProxySetting = await getProxySettingsAsync();\n      const { proxyType, host, port, username, password } = savedProxySetting;\n\n      setProxySetting(savedProxySetting);\n      setSelectedProxyType(proxyTypes.find((item) => item.value === proxyType)!);\n\n      hostField.setOnly(host ?? '');\n      portField.setOnly(port ?? '');\n      usernameField.setOnly(username ?? '');\n      passwordField.setOnly(password ?? '');\n    };\n    fetch();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (selectedProxyType.value === proxySetting.proxyType) {\n      const { host, port, username, password } = proxySetting;\n      hostField.setOnly(host ?? '');\n      portField.setOnly(port ?? '');\n      usernameField.setOnly(username ?? '');\n      passwordField.setOnly(password ?? '');\n    } else {\n      hostField.setOnly('');\n      portField.setOnly('');\n      usernameField.setOnly('');\n      passwordField.setOnly('');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [proxySetting, selectedProxyType]);\n  const dialogBuilder = useDialogBuilder();\n\n  const resetProxyAsync = async () => {\n    const savedProxySetting = await getProxySettingsAsync();\n    const { proxyType, host, port, username, password } = savedProxySetting;\n\n    setProxySetting(savedProxySetting);\n    setSelectedProxyType(proxyTypes.find((item) => item.value === proxyType)!);\n\n    hostField.setOnly(host ?? '');\n    portField.setOnly(port ?? '');\n    usernameField.setOnly(username ?? '');\n    passwordField.setOnly(password ?? '');\n  };\n  const submitProxySettings = async (close: () => void) => {\n    if (!disabledProxy && (!hostField.check() || !portField.check())) return;\n\n    const response = await setProxySettingsAsync(\n      selectedProxyType.value as number,\n      hostField.value.trim(),\n      portField.value.trim(),\n      usernameField.value.trim(),\n      passwordField.value.trim()\n    );\n    switch (response.state) {\n      case 'success':\n        close();\n        break;\n      case 'failed':\n        await dialogBuilder\n          .build((close) =>\n            buildMessageDialog('error', $t('messageBox.title.error'), response.message, close)\n          )\n          .show();\n        break;\n    }\n  };\n\n  return {\n    proxyTypes,\n    selectedProxyType,\n    disabledProxy,\n    hostField,\n    portField,\n    usernameField,\n    passwordField,\n    setSelectedProxyType,\n    submitProxySettings,\n    resetProxyAsync,\n  };\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { Button } from '../../components/button';\nimport { Input } from '../../components/input';\nimport { ComboBox, useNavigator } from '../../components/items-control';\nimport { useAsyncConfigureValue } from '../../hooks/use-configure-value';\nimport { useI18n } from '../../i18n';\nimport { getLANSyncChangeAsync, setLANSyncChangeAsync } from '../../java-api/main-window';\nimport useProxySettingsModel from '../../models/launch-window/proxy-settings-model';\nimport { SettingsViewName, SWITCH_NAME_SETTINGS } from './settings-view';\nimport { SettingItemSwitch, SettingsViewTemplate } from './settings-view-template';\n\nexport default function SettingsNetworkView() {\n  const { $t } = useI18n();\n  const {\n    proxyTypes,\n    selectedProxyType,\n    disabledProxy,\n    hostField,\n    portField,\n    usernameField,\n    passwordField,\n    setSelectedProxyType,\n    submitProxySettings,\n    resetProxyAsync,\n  } = useProxySettingsModel();\n  const lanSync = useAsyncConfigureValue(getLANSyncChangeAsync, setLANSyncChangeAsync, false);\n  useEffect(() => {\n    lanSync.reset(true);\n  }, [lanSync]);\n  const settingsNavigator = useNavigator<SettingsViewName>(SWITCH_NAME_SETTINGS);\n  const save = useCallback(async () => {\n    await lanSync.apply();\n    await submitProxySettings(() => {\n      settingsNavigator('general');\n    });\n  }, [lanSync, settingsNavigator, submitProxySettings]);\n  const cancel = useCallback(async () => {\n    lanSync.reset();\n    await resetProxyAsync();\n    settingsNavigator('general');\n  }, [lanSync, resetProxyAsync, settingsNavigator]);\n\n  return (\n    <SettingsViewTemplate\n      header={$t('settings.network.title')}\n      onHeaderClicked={cancel}\n      content={\n        <div className=\"settings-view content-network\">\n          <SettingItemSwitch\n            title={$t('settings.network.enableLANSync')}\n            checked={lanSync.value}\n            setChecked={(v) => (lanSync.value = v)}\n          />\n          <div className=\"network-proxy-type-item\">\n            <span className=\"text subtitle label-proxy-type\">\n              {$t('settings.network.proxy.type')}\n            </span>\n            <ComboBox\n              itemsSource={proxyTypes}\n              selectedItem={selectedProxyType}\n              setSelectedItem={(item) => setSelectedProxyType(item)}\n            />\n          </div>\n          <div className=\"network-proxy-info\">\n            <Input\n              className=\"input-proxy-host\"\n              placeholder={$t('settings.network.proxy.host')}\n              value={hostField.value}\n              onChange={(e) => hostField.setOnly(e.target.value)}\n              errorText={hostField.error}\n              disabled={disabledProxy}\n            />\n            <Input\n              className=\"input-proxy-port\"\n              placeholder={$t('settings.network.proxy.port')}\n              value={portField.value}\n              onChange={(e) => portField.setOnly(e.target.value)}\n              errorText={portField.error}\n              disabled={disabledProxy}\n            />\n            <span className=\"text subtitle label-proxy-authentication\">\n              {$t('settings.network.proxy.authentication')}\n            </span>\n            <Input\n              className=\"input-proxy-account\"\n              placeholder={$t('settings.network.proxy.account')}\n              value={usernameField.value}\n              onChange={(e) => usernameField.setOnly(e.target.value)}\n              errorText={usernameField.error}\n              disabled={disabledProxy}\n            />\n            <Input\n              className=\"input-proxy-password\"\n              placeholder={$t('settings.network.proxy.password')}\n              value={passwordField.value}\n              onChange={(e) => passwordField.setOnly(e.target.value)}\n              errorText={passwordField.error}\n              disabled={disabledProxy}\n            />\n          </div>\n        </div>\n      }\n      footer={\n        <div className=\"settings-view footer-network\">\n          <Button onClick={cancel}>{$t('button.cancel')}</Button>\n          <Button buttonType=\"primary\" onClick={save}>\n            {$t('button.save')}\n          </Button>\n        </div>\n      }\n    />\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\n\ntype SliderBarProps = {\n  className?: string;\n  min?: number;\n  max?: number;\n  value: number;\n  setValue: (value: number) => void;\n};\n\nconst SliderBar: React.FC<SliderBarProps> = ({ className, min, max, value, setValue }) => {\n  let percentage = (100 * (value - min!)) / (max! - min!);\n  percentage = Math.max(percentage, 0);\n  percentage = Math.min(percentage, 100);\n  const wrapperClass = classNames('slider-bar-wrapper', className);\n\n  return (\n    <div className={wrapperClass}>\n      <input\n        className=\"slider-bar\"\n        type=\"range\"\n        min={min}\n        max={max}\n        value={value}\n        onChange={(e) => setValue(Number.parseFloat(e.target.value))}\n      />\n      <div className=\"slider-progress\" style={{ width: `calc(${percentage}% + 2px)` }} />\n    </div>\n  );\n};\n\nSliderBar.defaultProps = {\n  min: 0,\n  max: 100,\n};\n\nexport default SliderBar;\n","import classNames from 'classnames';\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport decreateIcon from '../../assets/main-window/decreate.svg';\nimport increateIcon from '../../assets/main-window/increate.svg';\n\ntype NumericInputProps = {\n  className?: string;\n  min?: number;\n  max?: number;\n  value: number;\n  exitEdit?: () => void;\n  setValue: React.Dispatch<React.SetStateAction<number>>;\n};\n\nfunction limitValue(value: number, min: number, max: number) {\n  let correctedValue = Math.max(value, min);\n  correctedValue = Math.min(correctedValue, max);\n  return correctedValue;\n}\n\nconst NumericInput: React.FC<NumericInputProps> = ({\n  className,\n  min,\n  max,\n  value,\n  exitEdit,\n  setValue,\n}) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  useEffect(() => {\n    const inputElement = inputRef.current;\n    if (inputElement && exitEdit) {\n      inputElement.addEventListener('blur', exitEdit);\n\n      return () => inputElement.removeEventListener('blur', exitEdit);\n    }\n  }, [exitEdit]);\n  const handleValueChanged = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const inputValue = Number.parseInt(e.target.value);\n      setValue(limitValue(inputValue, min!, max!));\n    },\n    [max, min, setValue]\n  );\n  const changeValue = useCallback(\n    (reducer: (oldValue: number) => number) =>\n      setValue((oldValue) => limitValue(reducer(oldValue), min!, max!)),\n    [max, min, setValue]\n  );\n  const decreaseValue = useCallback(() => changeValue((oldValue) => oldValue - 1), [changeValue]);\n  const increaseValue = useCallback(() => changeValue((oldValue) => oldValue + 1), [changeValue]);\n\n  const wrapperClass = classNames('numeric-input-wrapper', className);\n  const decreaseButtonClass = classNames('button-change-value', { disable: value <= min! });\n  const increaseButtonClass = classNames('button-change-value', { disable: value >= max! });\n\n  return (\n    <div className={wrapperClass}>\n      <button className={decreaseButtonClass} onClick={decreaseValue}>\n        <img src={decreateIcon} alt=\"decreate\" width=\"20px\" height=\"20px\" />\n      </button>\n      <input\n        ref={inputRef}\n        className=\"input-number\"\n        type=\"text\"\n        value={Number.isNaN(value) ? '' : value}\n        onChange={handleValueChanged}\n      />\n      <button className={increaseButtonClass} onClick={increaseValue}>\n        <img src={increateIcon} alt=\"increate\" width=\"20px\" height=\"20px\" />\n      </button>\n    </div>\n  );\n};\n\nNumericInput.defaultProps = {\n  min: Number.MIN_SAFE_INTEGER,\n  max: Number.MAX_SAFE_INTEGER,\n};\n\nexport default NumericInput;\n","import React from 'react';\nimport SliderBar from '../../components/input/slider-bar';\nimport { useI18n } from '../../i18n';\nimport { SettingsViewTemplate } from './settings-view-template';\nimport NumericInput from '../../components/input/numeric-input';\nimport { Button } from '../../components/button';\nimport { getDisplayStringBytes } from '../../helpers';\nimport useSettingsStorageViewModel from '../../models/main-window/settings-storage-view-model';\n\nimport refreshIcon from '../../assets/main-window/refresh.svg';\n\nexport default function SettingsStorageView() {\n  const { $t } = useI18n();\n  const {\n    currentUsageSize,\n    diskTotalSize,\n    maxUsagePercentage,\n    remainDays,\n    save,\n    cancel,\n    fetchSizeInfoAsync,\n  } = useSettingsStorageViewModel();\n\n  return (\n    <SettingsViewTemplate\n      header={$t('settings.storage.title')}\n      onHeaderClicked={cancel}\n      content={\n        <div className=\"settings-view content-storage\">\n          <span className=\"text tip-secondary label-description\">\n            {$t('settings.storage.description')}\n          </span>\n          <span className=\"text subtitle label-current-usage\">\n            {$t('settings.storage.currentUsage')}\n          </span>\n          <div className=\"current-usage-value\">\n            <span className=\"text subtitle label-current-usage-value\">\n              {getDisplayStringBytes(currentUsageSize)}\n            </span>\n            <button className=\"button-current-usage-value\" onClick={fetchSizeInfoAsync}>\n              <img src={refreshIcon} alt=\"refresh\" />\n            </button>\n          </div>\n          <span className=\"text subtitle label-max-usage\">{$t('settings.storage.maxUsage')}</span>\n          <span className=\"text subtitle label-max-usage-value\">{`${\n            maxUsagePercentage.value\n          }% (${getDisplayStringBytes((maxUsagePercentage.value * diskTotalSize) / 100)})`}</span>\n          <SliderBar\n            min={1}\n            className=\"slider-bar-max-usage\"\n            value={maxUsagePercentage.value}\n            setValue={(value) => (maxUsagePercentage.value = value)}\n          />\n          <span className=\"text subtitle label-cleaning-cycle\">\n            {$t('settings.storage.cleaningCycle')}\n          </span>\n          <NumericInput\n            className=\"numeric-input-cleaning-cycle\"\n            min={1}\n            max={90}\n            value={remainDays.value}\n            exitEdit={() =>\n              (remainDays.value = Number.isNaN(remainDays.value) ? 1 : remainDays.value)\n            }\n            setValue={(set) => {\n              if (typeof set === 'number') {\n                remainDays.value = set;\n              } else {\n                remainDays.value = set(remainDays.value);\n              }\n            }}\n          />\n        </div>\n      }\n      footer={\n        <div className=\"settings-view footer-storage\">\n          <Button onClick={cancel}>{$t('button.cancel')}</Button>\n          <Button buttonType=\"primary\" onClick={save}>\n            {$t('button.save')}\n          </Button>\n        </div>\n      }\n    />\n  );\n}\n","import { useState, useCallback, useEffect } from 'react';\nimport { useNavigator } from '../../components/items-control';\nimport { useConfigureValue } from '../../hooks/use-configure-value';\nimport {\n  getCacheMaxUsagePercentage,\n  setCacheMaxUsagePercentage,\n  getCacheRemainDays,\n  setCacheRemainDays,\n  getCacheCurrentUsageSizeAsync,\n  getCacheTotalSizeAsync,\n} from '../../java-api/main-window';\nimport { SettingsViewName, SWITCH_NAME_SETTINGS } from '../../views/main-window/settings-view';\n\nexport default function useSettingsStorageViewModel() {\n  const settingsNavigator = useNavigator<SettingsViewName>(SWITCH_NAME_SETTINGS);\n  const [currentUsageSize, setCurrentUsageSize] = useState(0);\n  const [diskTotalSize, setDiskTotalSize] = useState(0);\n  const maxUsagePercentage = useConfigureValue<number>(\n    getCacheMaxUsagePercentage,\n    setCacheMaxUsagePercentage\n  );\n  const remainDays = useConfigureValue<number>(getCacheRemainDays, setCacheRemainDays);\n  const fetchSizeInfoAsync = useCallback(async () => {\n    setCurrentUsageSize(await getCacheCurrentUsageSizeAsync());\n    setDiskTotalSize(await getCacheTotalSizeAsync());\n  }, []);\n\n  const save = useCallback(() => {\n    maxUsagePercentage.apply();\n    remainDays.apply();\n\n    settingsNavigator('general');\n  }, [maxUsagePercentage, remainDays, settingsNavigator]);\n  const cancel = useCallback(() => {\n    maxUsagePercentage.reset();\n    remainDays.reset();\n\n    settingsNavigator('general');\n  }, [maxUsagePercentage, remainDays, settingsNavigator]);\n\n  useEffect(() => {\n    fetchSizeInfoAsync();\n  }, [fetchSizeInfoAsync]);\n\n  return {\n    currentUsageSize,\n    diskTotalSize,\n    maxUsagePercentage,\n    remainDays,\n    save,\n    cancel,\n    fetchSizeInfoAsync,\n  };\n}\n","import React, { useEffect, useMemo } from 'react';\nimport { CaseItem, Switch, useNavigator } from '../../components/items-control';\nimport { useIsOSXPlatform } from '../../java-api';\nimport SettingsAboutView from './settings-about-view';\nimport SettingsGeneralView from './settings-general-view';\nimport SettingsNetworkView from './settings-network-view';\nimport SettingsStorageView from './settings-storage-view';\n\nexport const SWITCH_NAME_SETTINGS = 'switch-settings';\nexport type SettingsViewName = 'general' | 'network' | 'storage' | 'about';\n\nexport default function SettingsView() {\n  const settingsNavigator = useNavigator<SettingsViewName>(SWITCH_NAME_SETTINGS);\n  useEffect(() => settingsNavigator('general'), [settingsNavigator]);\n  const isOSXPlatform = useIsOSXPlatform();\n  const settingCases = useMemo<CaseItem<SettingsViewName>[]>(() => {\n    const settings: CaseItem<SettingsViewName>[] = [\n      { label: 'general', renderer: () => <SettingsGeneralView /> },\n      { label: 'network', renderer: () => <SettingsNetworkView /> },\n      { label: 'about', renderer: () => <SettingsAboutView /> },\n    ];\n\n    // Linux platform don't support cloud bridge\n    if (isOSXPlatform) {\n      settings.push({ label: 'storage', renderer: () => <SettingsStorageView /> });\n    }\n\n    return settings;\n  }, [isOSXPlatform]);\n  return <Switch<SettingsViewName> name={SWITCH_NAME_SETTINGS} cases={settingCases} />;\n}\n","import classNames from 'classnames';\nimport React, { ReactElement } from 'react';\nimport { Tooltip } from '../tooltip';\n\nexport type TabItemHeader = {\n  icon: ReactElement | string;\n  text: string;\n  changeCount?: number;\n};\n\ntype HamburgTabHeaderItemProps<TKey extends string> = {\n  isExpanded: boolean;\n  header: TabItemHeader;\n  itemKey: TKey;\n  selected: boolean;\n  setSelectedKey: (value: TKey) => void;\n  onClick?: () => void;\n};\n\nexport function HamburgTabHeaderItem<TKey extends string>({\n  isExpanded,\n  header,\n  itemKey,\n  selected,\n  setSelectedKey,\n  onClick,\n}: HamburgTabHeaderItemProps<TKey>) {\n  const headerItemClass = classNames('hamburg-tab-header-item', {\n    selected,\n  });\n  return (\n    <Tooltip title={header.text} placement='right'>\n      <div\n        className={headerItemClass}\n        onClick={() => {\n          if (onClick) {\n            onClick();\n          }\n          setSelectedKey(itemKey);\n        }}\n      >\n        {typeof header.icon === 'string' ? (\n          <img className=\"hamburg-tab-header-icon\" src={header.icon} alt=\"header-icon\" />\n        ) : (\n          React.cloneElement(header.icon, { className: 'hamburg-tab-header-icon' })\n        )}\n        {isExpanded ? (\n          <>\n            <span className=\"hamburg-tab-header-title text ellipsis\">{header.text}</span>\n            {header.changeCount ? (\n              <div className=\"change-count-badge\">\n                {header.changeCount < 100 ? header.changeCount : '99+'}\n              </div>\n            ) : null}\n          </>\n        ) : header.changeCount ? (\n          <div className=\"change-count-dot\"></div>\n        ) : null}\n      </div>\n    </Tooltip>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"sidebar_folder\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"bf283d72-0299-4430-b599-2ac91674343b\",\n  \"data-name\": \"sidebar folder selected\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"a5e1702d-5903-4773-8d24-f50172cc4689\",\n  \"data-name\": \"Combined-Shape\",\n  d: \"M97.16,793C92,818.51,71.59,839,46,833.84s-46-20.43-46-46v-705C0,36.9,35.79,1.14,81.82,1.14h153.4c20.45,0,40.91,10.22,56.25,25.55l61.36,56.19q7.67,15.33,30.68,15.33H930.65a46,46,0,1,1,0,92H352.83c-20.45,0-40.91-10.22-56.25-25.54l-56.25-56.2c-10.22-5.11-20.45-10.21-35.79-10.21H97.16v240.1c20.45-20.44,51.13-30.65,81.81-30.65H920.43q46,0,76.7,30.65c20.45,20.43,30.68,51.08,25.57,81.74-46,291.18-71.59,500.64-71.59,500.64-10.23,61.3-61.36,102.17-122.73,102.17H112.5a46,46,0,1,1,0-92H828.38c15.34,0,25.57-10.21,25.57-25.54l71.59-495.53c0-5.11,0-10.22-5.11-10.22H179c-15.34,0-25.57,10.22-30.68,25.54L97.16,787.86h0Z\"\n}));\n\nvar SvgSidebarFolder = function SvgSidebarFolder(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"b21ee5ca-3ce3-461a-ab5e-626ab58fb0cd\",\n    \"data-name\": \"\\\\u56FE\\\\u5C42 1\",\n    viewBox: \"0 0 1024 1024\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSidebarFolder, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/sidebar_folder.3432a61f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"sidebar_revisions\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"b5cd85f6-7759-4c03-8549-d6a48ee09ecb\",\n  \"data-name\": \"Combined-Shape\",\n  d: \"M558.55,526.64l244.5,47.53a46.54,46.54,0,1,1-17.76,91.38L511.14,612.26A60.6,60.6,0,0,1,481,596a51.93,51.93,0,0,1-15.55-37.45V232.73a46.55,46.55,0,1,1,93.1,0Z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"e5901721-3010-4bf8-9a4b-452a31ac2d85\",\n  \"data-name\": \"Oval-2\",\n  d: \"M512,1024C229.23,1024,0,794.77,0,512S229.23,0,512,0s512,229.23,512,512S794.77,1024,512,1024Zm0-93.09c231.36,0,418.91-187.55,418.91-418.91S743.36,93.09,512,93.09,93.09,280.64,93.09,512,280.64,930.91,512,930.91Z\"\n});\n\nvar SvgSidebarRecent = function SvgSidebarRecent(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"a2d61b93-5b00-4592-b0a1-e22d8472b9b6\",\n    \"data-name\": \"\\\\u56FE\\\\u5C42 1\",\n    viewBox: \"0 0 1024 1024\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSidebarRecent, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/sidebar_recent.af866e80.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"sidebar_bookmark\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"b4c906a6-3e44-4013-a32d-e9914186b23d\",\n  \"data-name\": \"sidebar bookmarks\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"b52b487e-95b1-4256-87e2-807b58c30b13\",\n  \"data-name\": \"star\",\n  d: \"M324,309.63,39.51,355.37H34.43c-35.56,10.17-45.72,55.91-20.32,81.32L227.48,660.3,176.67,965.24v5.08c0,35.57,35.57,61,71.13,45.74L512,873.76l264.17,142.3h5.08c35.56,15.24,71.12-15.25,66-50.82L796.45,660.3l213.37-223.61,5.08-5.09c20.32-25.41,5.08-71.15-30.48-76.23L679.61,309.63,547.53,30.11c-15.25-35.58-66-35.58-86.37,0ZM501.8,162.25,603.41,375.7l5.08,5.08c5.08,10.17,20.32,20.33,30.48,20.33l223.52,35.58L694.85,609.48v5.08c-5.08,10.17-10.16,25.41-10.16,35.58l40.64,233.78L527.2,777.19h-5.08c-15.24-5.08-25.4-5.08-40.64,0L283.36,883.92,324,650.14v-5.08c0-10.17-5.08-25.41-15.24-35.58L141.11,436.69l223.53-35.58c15.24,0,30.48-10.16,35.56-25.41Z\"\n}));\n\nvar SvgSidebarBookmarks = function SvgSidebarBookmarks(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"a9308544-4ce0-4840-9a9d-5b63fd07de44\",\n    \"data-name\": \"\\\\u56FE\\\\u5C42 1\",\n    viewBox: \"0 0 1024 1024\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSidebarBookmarks, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/sidebar_bookmarks.d4e4defd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"sidebar_account\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"ff663298-43f8-47b7-b3d8-c052cc883093\",\n  \"data-name\": \"sidebar account\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"e7efc6b2-5ef6-470a-86b0-e9f4baa268a5\",\n  \"data-name\": \"\\\\u5F62\\\\u72B6\\\\u7ED3\\\\u5408\",\n  d: \"M512,0c281.6,0,512,230.4,512,512,0,148.48-66.56,291.84-179.2,389.12l-10.24,10.24L819.2,921.6l-15.36,10.24A505.71,505.71,0,0,1,512,1024C230.4,1024,0,793.6,0,512S230.4,0,512,0ZM450.56,742.4l-10.24,5.12C389.12,762.88,343,803.84,327.68,855v5.12c51.2,25.6,102.4,46.08,158.72,51.2h30.72c61.44,0,117.76-15.36,174.08-41l15.36-5.12v-5.12a153.36,153.36,0,0,0-97.28-97.28L599,757.76l-10.24-5.12c-15.36-5.12-30.72-10.24-51.2-10.24H512C491.52,732.16,471,737.28,450.56,742.4ZM512,97.28C281.6,97.28,97.28,281.6,97.28,512c0,102.4,41,204.8,107.52,281.6L215,803.84l10.24,10.24,5.12-10.24c30.72-61.44,76.8-107.52,133.12-138.24l10.24-5.12L384,655.36l-5.12-10.24c-46.08-51.2-71.68-112.64-71.68-179.2V450.56c-5.12-128,92.16-245.76,204.8-245.76S721.92,317.44,721.92,455.68c0,66.56-20.48,133.12-66.56,184.32l-10.24,10.24L640,655.36l10.24,5.12c56.32,25.6,107.52,71.68,133.12,133.12l5.12,10.24,5.12,10.24,10.24-10.24c76.8-76.8,122.88-174.08,122.88-281.6V506.88C926.72,281.6,742.4,97.28,512,97.28Zm0,209.92c-56.32,0-107.52,71.68-107.52,153.6S455.68,614.4,512,614.4s107.52-71.68,107.52-153.6S568.32,307.2,512,307.2Z\"\n}));\n\nvar SvgSidebarAccount = function SvgSidebarAccount(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"e9ea92ab-ce8d-433c-b402-46a17778071c\",\n    \"data-name\": \"\\\\u56FE\\\\u5C42 1\",\n    viewBox: \"0 0 1024 1024\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSidebarAccount, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/sidebar_account.434d2d78.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"sidebar_set\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"ae10e2d1-a296-42d8-bce6-90dfd9e2d04d\",\n  \"data-name\": \"sidebar set\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"f5caf785-74e7-433b-bfbf-f60a501f906b\",\n  \"data-name\": \"\\\\u5F62\\\\u72B6\\\\u7ED3\\\\u5408\",\n  d: \"M686.52,52.57c56.46,0,112.92,30.8,138.58,77l179.65,308a153.5,153.5,0,0,1,0,148.86l-179.65,308c-30.79,51.33-82.12,77-138.58,77h-349c-56.46,0-112.92-30.8-138.58-77l-179.65-308a153.5,153.5,0,0,1,0-148.86l179.65-308c25.66-46.2,82.12-77,138.58-77Zm0,102.67h-349c-20.53,0-41.06,10.26-51.32,25.66l-179.65,308c-5.14,15.4-5.14,35.93,0,51.33l179.65,308c10.26,15.4,30.79,25.67,51.32,25.67h349c20.53,0,41.06-10.27,51.32-25.67l179.65-308q15.4-23.1,0-46.2L737.84,186C727.58,165.5,707.05,155.24,686.52,155.24ZM512,304.1c118.06,0,210.45,92.4,210.45,210.47S630.06,725,512,725s-210.45-92.4-210.45-210.46S393.94,304.1,512,304.1ZM512,417c-51.33,0-97.52,46.2-97.52,97.54S460.67,612.1,512,612.1s97.52-46.2,97.52-97.53S563.33,417,512,417Z\"\n}));\n\nvar SvgSidebarSettings = function SvgSidebarSettings(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"be0cd68e-c463-4161-83ef-0236973e8214\",\n    \"data-name\": \"\\\\u56FE\\\\u5C42 1\",\n    viewBox: \"0 0 1024 1024\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSidebarSettings, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/sidebar_settings.cc45645a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useMemo, useState } from 'react';\nimport { HamburgTabControl, TabItem } from '../../components/items-control';\n\nimport SyncFolderView from './sync-folder-view';\nimport RecentView from './recent-view';\nimport BookmarksView from './bookmarks-view';\nimport AppRecommendView from './app-recommend-view';\nimport SyncStateBar from './sync-state-bar';\nimport { useI18n } from '../../i18n';\nimport AccountInfoView from './account-info-view';\nimport SettingsView from './settings-view';\nimport {\n  clearRecentEventUnreadCount,\n  executeCallbackEventsAsync,\n  getRecentEventUnreadCount,\n  isLightAppReady,\n  openHomePage,\n  subscribeMainWindowEvent,\n} from '../../java-api/main-window';\nimport { useShouldShowUpgradeToFileProviderEntry} from '../../java-api';\nimport { HamburgTabHeaderItem } from '../../components/items-control/hamburg-tab-header-item';\nimport classNames from 'classnames';\n\nimport recommendIcon from '../../assets/main-window/sidebar_recommend.svg';\nimport webIcon from '../../assets/main-window/sidebar_web.svg';\nimport { ReactComponent as FolderIcon } from '../../assets/main-window/sidebar_folder.svg';\nimport { ReactComponent as RecentIcon } from '../../assets/main-window/sidebar_recent.svg';\nimport { ReactComponent as BookmarksIcon } from '../../assets/main-window/sidebar_bookmarks.svg';\nimport { ReactComponent as AccountIcon } from '../../assets/main-window/sidebar_account.svg';\nimport { ReactComponent as SettingsIcon } from '../../assets/main-window/sidebar_settings.svg';\nimport { Tooltip } from '../../components/tooltip';\n\ntype TabItemKey =\n  | 'sync-folder'\n  | 'recent'\n  | 'bookmarks'\n  | 'app-recommend'\n  | 'account-info'\n  | 'settings';\n\ntype RecentEventHeaderItemProps = {\n  itemkey: TabItemKey;\n  selected: boolean;\n  expanded: boolean;\n  setSelectedKey: (value: TabItemKey) => void;\n};\n\nfunction getIconColor(selected: boolean) {\n  return selected ? 'var(--accent-color)' : 'var(--text-secondary-color)';\n}\n\nfunction RecentEventHeaderItem({\n  itemkey,\n  selected,\n  expanded,\n  setSelectedKey,\n}: RecentEventHeaderItemProps) {\n  const { $t } = useI18n();\n  const [unreadedCount, setUnreadedCount] = useState(0);\n  useEffect(() => {\n    setUnreadedCount(getRecentEventUnreadCount());\n    const dispose = subscribeMainWindowEvent('update-recent-event', ({ unreadCount }) =>\n      setUnreadedCount(unreadCount)\n    );\n\n    return () => dispose();\n  }, []);\n\n  return (\n    <HamburgTabHeaderItem<TabItemKey>\n      itemKey={itemkey}\n      selected={selected}\n      isExpanded={expanded}\n      header={{\n        icon: <RecentIcon style={{ fill: getIconColor(selected) }} />,\n        text: $t('recent.title'),\n        changeCount: unreadedCount,\n      }}\n      setSelectedKey={setSelectedKey}\n      onClick={() => {\n        clearRecentEventUnreadCount();\n        setUnreadedCount(0);\n      }}\n    />\n  );\n}\n\nexport default function MainWindow() {\n  const { $t } = useI18n();\n  const [selectedKey, setSelectedKey] = useState<TabItemKey>('sync-folder');\n  useEffect(() => {\n    const dispose = subscribeMainWindowEvent('goto-settings-tab', () => {\n      setSelectedKey('settings');\n    });\n    executeCallbackEventsAsync();\n\n    return () => dispose();\n  }, []);\n  const tabItems = useMemo<TabItem<TabItemKey>[]>(() => {\n    const views: TabItem<TabItemKey>[] = [\n      {\n        key: 'sync-folder',\n        header: (key, selected, expanded) => (\n          <HamburgTabHeaderItem<TabItemKey>\n            key={key}\n            itemKey={key}\n            selected={selected}\n            isExpanded={expanded}\n            header={{\n              icon: <FolderIcon style={{ fill: getIconColor(selected) }} />,\n              text: $t('syncFolder.title'),\n            }}\n            setSelectedKey={setSelectedKey}\n          />\n        ),\n        content: () => <SyncFolderView />,\n      },\n      {\n        key: 'recent',\n        header: (key, selected, expanded) => (\n          <RecentEventHeaderItem\n            key={key}\n            itemkey={key}\n            selected={selected}\n            expanded={expanded}\n            setSelectedKey={setSelectedKey}\n          />\n        ),\n        content: () => <RecentView />,\n      },\n      {\n        key: 'bookmarks',\n        header: (key, selected, expanded) => (\n          <HamburgTabHeaderItem<TabItemKey>\n            key={key}\n            itemKey={key}\n            selected={selected}\n            isExpanded={expanded}\n            header={{\n              icon: <BookmarksIcon style={{ fill: getIconColor(selected) }} />,\n              text: $t('bookmarks.title'),\n            }}\n            setSelectedKey={setSelectedKey}\n          />\n        ),\n        content: (selected) => <BookmarksView selected={selected} />,\n      },\n      {\n        key: 'account-info',\n        content: (selected) => <AccountInfoView selected={selected} />,\n      },\n      {\n        key: 'settings',\n        content: () => <SettingsView />,\n      },\n    ];\n\n    if (isLightAppReady()) {\n      views.push({\n        key: 'app-recommend',\n        header: (key, selected, expanded) => (\n          <HamburgTabHeaderItem<TabItemKey>\n            key={key}\n            itemKey={key}\n            selected={selected}\n            isExpanded={expanded}\n            header={{ icon: recommendIcon, text: $t('appRecommend.title') }}\n            setSelectedKey={setSelectedKey}\n          />\n        ),\n        content: () => <AppRecommendView />,\n      });\n    }\n\n    return views;\n  }, [$t]);\n\n  const selectedAccountInfo = selectedKey === 'account-info';\n  const selectedSettings = selectedKey === 'settings';\n\n  const accountButtonClass = classNames('sidebar-button', {\n    selected: selectedAccountInfo,\n  });\n  const settingsButtonClass = classNames('sidebar-button', {\n    selected: selectedSettings,\n  });\n\n  const shouldShowUpgradeToFileProviderEntry = useShouldShowUpgradeToFileProviderEntry();\n\n  return (\n    <HamburgTabControl\n      criticalSize={600}\n      collapsedSidebarSize=\"56px\"\n      expandedSidebarSize=\"174px\"\n      selectedKey={selectedKey}\n      itemsSource={tabItems}\n      sidebarAddon={[\n        <Tooltip title={$t('mainWindow.web.tooltip')} placement='right'>\n          <button key=\"web-button\" className=\"sidebar-button\" onClick={() => openHomePage()}>\n            <img src={webIcon} alt=\"web\" width=\"20px\" height=\"20px\" />\n          </button>\n        </Tooltip>,\n        <Tooltip title={$t('mainWindow.account.tooltip')} placement='right'>\n          <button\n            key=\"account-button\"\n            className={accountButtonClass}\n            onClick={() => setSelectedKey('account-info')}\n          >\n            <AccountIcon\n              width=\"20px\"\n              height=\"20px\"\n              style={{ fill: getIconColor(selectedAccountInfo) }}\n            />\n          </button>\n        </Tooltip>,\n        <Tooltip title={$t('mainwindow.setting.tooltip')} placement='right'>\n          <button\n            key=\"settings-button\"\n            className={settingsButtonClass}\n            onClick={() => setSelectedKey('settings')}\n          >\n            <div className='setting-icon-container'>\n              <SettingsIcon\n                width=\"20px\"\n                height=\"20px\"\n                style={{ fill: getIconColor(selectedSettings) }}\n              />\n              {shouldShowUpgradeToFileProviderEntry ? (\n                <div className='setting-icon-red-dot' />\n              ) : null}\n            </div>\n          </button>\n        </Tooltip>,\n      ]}\n      footerBar={\n        selectedKey === 'account-info' || selectedKey === 'settings' ? null : <SyncStateBar />\n      }\n    />\n  );\n}\n","import React from 'react';\nimport runApp from '../run-app';\nimport MainWindow from './window';\n\nrunApp(<MainWindow />, ['isLightAppReady', 'getSyncFolderItems', 'getRecentEvents']);\n"],"sourceRoot":""}