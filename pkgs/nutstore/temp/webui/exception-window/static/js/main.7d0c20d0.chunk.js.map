{"version":3,"sources":["hooks/index.ts","java-interop/java-task.ts","java-interop/java-event.ts","java-interop/java-func.ts","java-api/check-java-api-ready.ts","i18n/index.ts","helpers/uuidv4.ts","helpers/string-format.ts","helpers/file-type.ts","i18n/i18n-context.ts","java-api/common-api.ts","assets/file-icons/unknown.svg","assets/light/welcome_logo_light.svg","assets/dark/welcome_logo_dark.svg","hooks/use-i18n-builder.ts","i18n/ui-images.ts","hooks/validation-rules.ts","hooks/use-resize-observer.ts","hooks/use-force-update.ts","hooks/use-combined-refs.ts","hooks/use-lazy-ref.ts","assets/file-icons/ai.svg","assets/file-icons/apk.svg","assets/file-icons/audio.svg","assets/file-icons/code.svg","assets/file-icons/dwg.svg","assets/file-icons/eps.svg","assets/file-icons/excel.svg","assets/file-icons/folder.svg","assets/file-icons/gif.svg","assets/file-icons/image.svg","assets/file-icons/iso.svg","assets/file-icons/md.svg","assets/file-icons/nbmx.svg","assets/file-icons/ngm.svg","assets/file-icons/nol.svg","assets/file-icons/pdf.svg","assets/file-icons/ppt.svg","assets/file-icons/program.svg","assets/file-icons/ps.svg","assets/file-icons/tiff.svg","assets/file-icons/txt.svg","assets/file-icons/video.svg","assets/file-icons/word.svg","assets/file-icons/xmind.svg","assets/file-icons/zip.svg","assets/light/scene_light_1@2x.png","assets/light/scene_light_2@2x.png","assets/light/scene_light_3@2x.png","assets/light/scene_light_4@2x.png","assets/light/scene_light_1_en@2x.png","assets/light/scene_light_2_en@2x.png","assets/light/scene_light_3_en@2x.png","assets/light/scene_light_4_en@2x.png","assets/dark/scene_dark_1@2x.png","assets/dark/scene_dark_2@2x.png","assets/dark/scene_dark_3@2x.png","assets/dark/scene_dark_4@2x.png","assets/dark/scene_dark_1_en@2x.png","assets/dark/scene_dark_2_en@2x.png","assets/dark/scene_dark_3_en@2x.png","assets/dark/scene_dark_4_en@2x.png","assets/app-recommend/banner_1.png","assets/app-recommend/banner_2.png","assets/app-recommend/banner_3.png","assets/app-recommend/banner_4.png","assets/app-recommend/banner_1_en.png","assets/app-recommend/banner_2_en.png","assets/app-recommend/banner_3_en.png","assets/app-recommend/banner_4_en.png","assets/light/about_logo_light.svg","assets/dark/about_logo_dark.svg","assets/main-window/sidebar_hamburg.svg","assets/exception-window/view_sync_errors_icon.svg","assets/exception-window/loading.svg","assets/exception-window/path.svg","assets/right-arrow.svg","components/dialog/dialog-manager.ts","components/dialog/dialog-host.tsx","components/items-control/switch-host.tsx","components/tooltip/tooltip.tsx","components/layout-container/scroll-viewer.tsx","hooks/use-contextmenu-manager.ts","views/run-app.tsx","java-api/exception-window/exception-window-api.ts","models/exception-window/sync-exception-model.ts","views/exception-window/window.tsx","views/exception-window/index.tsx"],"names":["win","window","JavaTask","funcName","invokeToken","this","args","javaFunc","Promise","reject","id","getRandomCode","resolve","result","dispose","reason","call","importJavaFunc","fallback","fallbackOrThrow","error","undefined","message","Error","e","importJavaPromise","a","javaTask","run","jsonString","JSON","parse","importJavaPromiseNonJson","REQUIRED_JAVA_FUNCS","waitJavaApiReady","funcNameList","requiredFuncList","concat","requestAnimationFrame","step","every","useI18n","useI18nBuilder","useCallback","culture","resource","uiStrings_en_US","uiStrings_zh_CN","uuidv4","replace","c","r","Math","random","toString","length","i","stringFormat","format","map","item","reduce","acc","index","Map","set","aiIcon","apkIcon","audioIcon","codeIcon","dwgIcon","epsIcon","excelIcon","folderIcon","gifIcon","imageIcon","isoIcon","mdIcon","nbmxIcon","ngmIcon","nolIcon","pdfIcon","pptIcon","programIcon","psIcon","tiffIcon","txtIcon","unknownIcon","videoIcon","wordIcon","xmindIcon","zipIcon","initializeFileIconMap","I18nContext","createContext","log","isDarkMode","isChineseLocale","openUrl","openPath","module","exports","resourcesProvider","currentCulture","useContext","useMemo","provider","find","finalResource","$t","key","RegExp","useResizeObserver","targetRef","callback","useEffect","target","current","ResizeObserver","resizeObserver","entities","entity","width","contentRect","height","observe","offsetWidth","offsetHeight","disconnect","handleResize","addEventListener","mutationObserver","MutationObserver","document","body","subtree","attributes","attributeFilter","removeEventListener","useForceUpdate","useState","triggerUpdate","oldValue","useCombinedRefs","refs","useRef","React","forEach","ref","useLazyRef","factory","DialogManager","setCurrentDialog","dialogEntities","currentDialogEntity","setCurrentDialig","Array","dialog","push","setCurrentDialogEntity","pop","findIndex","splice","DialogHostContext","DialogHost","children","currentDialog","dialogManagerRef","contentPlaceholderClass","classNames","blur","maskLayerClass","active","className","Provider","value","SwitchHostContext","SwitchHost","switchMap","registerSwitch","switchName","navigate","has","unregisterSwitch","delete","viewName","props","selectedNavigate","get","getContainerElement","container","createElement","appendChild","InvalidPoint","x","Number","MIN_SAFE_INTEGER","y","Tooltip","title","placement","contentRef","tooltipRef","position","setPosition","setActive","getBoundingClientRect","tooltipRect","tooltipRoot","contentClass","tooltipClass","cloneElement","onMouseEnter","onMouseLeave","ReactDOM","createPortal","style","left","top","maxWidth","visibility","ScrollViewer","forwardRef","scrollBarStyle","enableVerticalScrollBar","enableHorizontalScrollBar","onScroll","wrapperRef","scrollContentRef","combinedRef","scrollBarTop","setScrollBarTop","scrollBarHeight","setScrollBarHeight","scrollBarLeft","setScrollBarLeft","scrollBarWidth","setScrollBarWidth","updateSize","view","viewWidth","clientWidth","viewHeight","clientHeight","ratio","scrollWidth","scrollLeft","scrollHeight","scrollTop","childList","wrapperClass","activeHorizontalScrollBar","activeVerticalScrollBar","horizontalScrollBarClass","verticalScrollBarClass","handleScroll","barLeft","barTop","innerOnScroll","handleHorizontalScroll","delta","max","min","deltaX","deltaY","detail","onWheel","defaultProps","preventFn","event","preventDefault","contextmenuManager","enable","disable","reportError","App","setCulture","classList","add","getSyncExceptions","resolveSyncExceptions","element","requiredJavaFuncNameList","groupExceptionsByReason","exceptions","groupMap","reasonId","group","reasonDisplay","folded","ExceptionWindow","selectedExceptions","setSelectedExceptions","loading","setLoading","setExceptions","exceptionGroupMap","setExceptionGroupMap","fetchSyncExceptions","se","fullPath","newExceptions","filter","includes","toggleGroup","newMap","g","useSyncExceptionModel","exceptionsLoading","selectException","unselectException","indexOf","onCheckBoxChanged","currentTarget","checked","onFilenameClick","onSelectAllChanged","renderExceptions","groups","src","arrow","alt","onClick","exception","selected","type","onChange","fileName","pathIcon","parentDir","syncErrorIcon","disabled","onerror","source","_lineno","_colno","name","stack","onunhandledrejection","then","versionInfo","navigator","appVersion","render","StrictMode","getElementById"],"mappings":"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A3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,gC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,iC,0wyCCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,8C,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,iD,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,6C,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,gD,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,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","file":"static/js/main.7d0c20d0.chunk.js","sourcesContent":["export * from '../i18n/language-code';\nexport * from './use-i18n-builder';\nexport * from './use-debounce';\nexport * from './use-verifiable-value';\nexport * from './use-extra-error';\nexport * from './validation-rules';\nexport * from './use-resize-observer';\nexport * from './use-force-update';\nexport * from './use-combined-refs';\nexport * from './use-lazy-ref';\n","import { getRandomCode } from '../helpers';\n\nconst win = window as any;\n\nexport default class JavaTask<T extends (...args: any) => any> {\n  private readonly funcName: string;\n  private invokeToken: string = '';\n\n  constructor(funcName: string) {\n    this.funcName = funcName;\n  }\n\n  run(...args: Parameters<T>): Promise<ReturnType<T>> {\n    const javaFunc = win[this.funcName] as Function;\n    if (!javaFunc) {\n      return Promise.reject(`Not found this function: ${this.funcName}`);\n    }\n\n    const id = getRandomCode(8);\n    this.invokeToken = `JavaTask_${this.funcName}_${id}`;\n\n    return new Promise((resolve, reject) => {\n      // register func_resolve and func_reject\n      win[this.invokeToken] = {\n        resolve: (result: ReturnType<T>) => {\n          this.dispose();\n          resolve(result);\n        },\n        reject: (reason: any) => {\n          this.dispose();\n          reject(reason);\n        },\n      };\n\n      // The id is always the last args.\n      // Alse see: [project]/src/nutstore/client/webui/interop/WebFuncRegistry.java file.\n      javaFunc.call(win, ...(args as any), id);\n    });\n  }\n\n  dispose() {\n    delete win[this.invokeToken];\n  }\n}\n","const win = window as any;\n\nexport type Dispose = () => void;\nexport type EventHandler<T> = (args: T) => void;\n\nclass JavaEventCenter {\n  private eventCenter: Map<string, EventHandler<any>[]> = new Map<string, EventHandler<any>[]>();\n\n  subscribe(channel: string, handler: EventHandler<any>): Dispose {\n    if (!this.eventCenter.has(channel)) {\n      this.eventCenter.set(channel, []);\n    }\n\n    this.eventCenter.get(channel)!.push(handler);\n\n    return () => {\n      const handlers = this.eventCenter.get(channel);\n      if (handlers) {\n        const toRemovedIndex = handlers.findIndex((item) => item === handler);\n        if (toRemovedIndex >= 0) {\n          handlers.splice(toRemovedIndex, 1);\n        }\n      }\n    };\n  }\n\n  publish(channel: string, json: string) {\n    this.eventCenter.get(channel)?.forEach((handler) => {\n      handler(json ? JSON.parse(json) : undefined);\n    });\n  }\n}\n\nexport function subscribeJavaEvent<T>(channel: string, handler: EventHandler<T>): Dispose {\n  if (!win.javaEventCenter) {\n    win.javaEventCenter = new JavaEventCenter();\n  }\n\n  const eventCenter = win.javaEventCenter as JavaEventCenter;\n  return eventCenter.subscribe(channel, handler);\n}\n","import JavaTask from './java-task';\n\nconst win = window as any;\n\nexport type ValueWrapper<T> = {\n  value: T;\n};\n\nexport function importJavaFunc<T extends (...args: any) => any>(\n  funcName: string,\n  fallback?: ReturnType<T>\n): (...args: Parameters<T>) => ReturnType<T> {\n  function fallbackOrThrow(error: () => Error): ReturnType<T> {\n    if (fallback !== undefined) {\n      return fallback;\n    } else {\n      throw error();\n    }\n  }\n\n  return (...args: Parameters<T>): ReturnType<T> => {\n    const javaFunc = win[funcName] as Function;\n    if (!javaFunc) {\n      const message = `Not found this function: ${funcName}`;\n      return fallbackOrThrow(() => new Error(message));\n    }\n\n    try {\n      return javaFunc.call(win, ...(args as any));\n    } catch (e) {\n      return fallbackOrThrow(() => e);\n    }\n  };\n}\n\nexport function importJavaPromise<T extends (...args: any) => any>(\n  funcName: string\n): (...args: Parameters<T>) => Promise<ReturnType<T>> {\n  return async (...args: Parameters<T>) => {\n    const javaTask = new JavaTask<(...args: Parameters<T>) => string>(funcName);\n    try {\n      const jsonString = await javaTask.run(...args);\n      return JSON.parse(jsonString);\n    } finally {\n      javaTask.dispose();\n    }\n  };\n}\n\nexport function importJavaPromiseNonJson<T extends (...args: any) => any>(\n  funcName: string\n): (...args: Parameters<T>) => Promise<ReturnType<T>> {\n  return async (...args: Parameters<T>) => {\n    const javaTask = new JavaTask<(...args: Parameters<T>) => ReturnType<T>>(funcName);\n    try {\n      return await javaTask.run(...args);\n    } finally {\n      javaTask.dispose();\n    }\n  };\n}\n","const REQUIRED_JAVA_FUNCS = ['log', 'isEnterprise', 'fileProviderEnabled', 'badgeEnabled', 'isDarkMode', 'isChineseLocale'];\nconst win = window as any;\n\n/**\n * Java injects these functions asynchronously, which may not be available in the early stages of web startup.\n * So we need to wait for the java function to register successfully before starting to render react dom.\n */\nexport default function waitJavaApiReady(funcNameList: ReadonlyArray<string>) {\n  const requiredFuncList = REQUIRED_JAVA_FUNCS.concat(funcNameList);\n  return new Promise<void>((resolve) => {\n    function step() {\n      if (requiredFuncList.every((funcName) => !!win[funcName])) {\n        resolve();\n      } else {\n        window.requestAnimationFrame(step);\n      }\n    }\n\n    window.requestAnimationFrame(step);\n  });\n}\n","import { useCallback } from 'react';\nimport { useI18nBuilder, TranslatorType } from '../hooks';\n\nimport uiStrings_en_US from './ui-strings.en-US.json';\nimport uiStrings_zh_CN from './ui-strings.zh-CN.json';\n\nexport * from './language-code';\nexport * from './i18n-context';\nexport * from './ui-images';\n\nexport type UiStringsKeys = keyof typeof uiStrings_en_US;\n\nexport type UiStringTranslator = TranslatorType<UiStringsKeys>;\nexport const useI18n = () =>\n  useI18nBuilder(\n    useCallback(\n      () => [\n        { culture: 'en-US', resource: uiStrings_en_US },\n        { culture: 'zh-CN', resource: uiStrings_zh_CN },\n      ],\n      []\n    )\n  );\n","export function uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport function getRandomCode(length = 6) {\n  let result = '';\n  for (let i = 0; i < length; i++) {\n    result += ((Math.random() * 16) | 0).toString(16);\n  }\n\n  return result;\n}\n","export function stringFormat(format: string, ...args: Array<Object>) {\n  return format && args\n    ? args\n        .map((item) => item?.toString())\n        .reduce((acc, item, index) => acc.replace(`{${index}}`, item), format)\n    : format;\n}\n\nconst bytesUnits = ['', 'K', 'M', 'G', 'T', 'P', 'E'];\n\nexport function getDisplayStringBytes(bytesLength: number, fractionDigits = 2) {\n  let unitIndex = 0;\n  while (bytesLength > 1024 || Math.abs(bytesLength - 1024) < 1e-6) {\n    bytesLength /= 1024;\n    unitIndex++;\n  }\n\n  return `${bytesLength.toFixed(fractionDigits)} ${bytesUnits[unitIndex]}B`;\n}\n","import aiIcon from '../assets/file-icons/ai.svg';\nimport apkIcon from '../assets/file-icons/apk.svg';\nimport audioIcon from '../assets/file-icons/audio.svg';\nimport codeIcon from '../assets/file-icons/code.svg';\nimport dwgIcon from '../assets/file-icons/dwg.svg';\nimport epsIcon from '../assets/file-icons/eps.svg';\nimport excelIcon from '../assets/file-icons/excel.svg';\nimport folderIcon from '../assets/file-icons/folder.svg';\nimport gifIcon from '../assets/file-icons/gif.svg';\nimport imageIcon from '../assets/file-icons/image.svg';\nimport isoIcon from '../assets/file-icons/iso.svg';\nimport mdIcon from '../assets/file-icons/md.svg';\nimport nbmxIcon from '../assets/file-icons/nbmx.svg';\nimport ngmIcon from '../assets/file-icons/ngm.svg';\nimport nolIcon from '../assets/file-icons/nol.svg';\nimport pdfIcon from '../assets/file-icons/pdf.svg';\nimport pptIcon from '../assets/file-icons/ppt.svg';\nimport programIcon from '../assets/file-icons/program.svg';\nimport psIcon from '../assets/file-icons/ps.svg';\nimport tiffIcon from '../assets/file-icons/tiff.svg';\nimport txtIcon from '../assets/file-icons/txt.svg';\nimport unknownIcon from '../assets/file-icons/unknown.svg';\nimport videoIcon from '../assets/file-icons/video.svg';\nimport wordIcon from '../assets/file-icons/word.svg';\nimport xmindIcon from '../assets/file-icons/xmind.svg';\nimport zipIcon from '../assets/file-icons/zip.svg';\n\nexport type FileType =\n  | 'ai'\n  | 'apk'\n  | 'audio'\n  | 'code'\n  | 'dwg'\n  | 'eps'\n  | 'excel'\n  | 'folder'\n  | 'gif'\n  | 'image'\n  | 'iso'\n  | 'md'\n  | 'nbmx'\n  | 'ngm'\n  | 'nol'\n  | 'pdf'\n  | 'ppt'\n  | 'program'\n  | 'ps'\n  | 'tiff'\n  | 'txt'\n  | 'unknown'\n  | 'video'\n  | 'word'\n  | 'xmind'\n  | 'zip';\n\nfunction initializeFileIconMap(): ReadonlyMap<FileType, string> {\n  const map = new Map<FileType, string>();\n  map.set('ai', aiIcon);\n  map.set('apk', apkIcon);\n  map.set('audio', audioIcon);\n  map.set('code', codeIcon);\n  map.set('dwg', dwgIcon);\n  map.set('eps', epsIcon);\n  map.set('excel', excelIcon);\n  map.set('folder', folderIcon);\n  map.set('gif', gifIcon);\n  map.set('image', imageIcon);\n  map.set('iso', isoIcon);\n  map.set('md', mdIcon);\n  map.set('nbmx', nbmxIcon);\n  map.set('ngm', ngmIcon);\n  map.set('nol', nolIcon);\n  map.set('pdf', pdfIcon);\n  map.set('ppt', pptIcon);\n  map.set('program', programIcon);\n  map.set('ps', psIcon);\n  map.set('tiff', tiffIcon);\n  map.set('txt', txtIcon);\n  map.set('unknown', unknownIcon);\n  map.set('video', videoIcon);\n  map.set('word', wordIcon);\n  map.set('xmind', xmindIcon);\n  map.set('zip', zipIcon);\n  return map;\n}\n\nconst FILE_TYPE_MAP: ReadonlyArray<{ type: FileType; exts: ReadonlyArray<string> }> = [\n  { type: 'ai', exts: ['ai'] },\n  { type: 'apk', exts: ['apk'] },\n  { type: 'audio', exts: ['mp3', 'wav', 'aac', 'wma', 'flac', 'ape', 'ogg'] },\n  {\n    type: 'code',\n    exts: [\n      'cs',\n      'c',\n      'cpp',\n      'py',\n      'java',\n      'js',\n      'ts',\n      'xaml',\n      'xml',\n      'json',\n      'yml',\n      'yaml',\n      'vb',\n      'html',\n      'htm',\n      'css',\n      'm',\n      'go',\n      'kt',\n      'kts',\n      'swift',\n      'rs',\n    ],\n  },\n  { type: 'dwg', exts: ['dwg'] },\n  { type: 'eps', exts: ['eps'] },\n  { type: 'excel', exts: ['xls', 'xlsx'] },\n  { type: 'gif', exts: ['gif'] },\n  { type: 'image', exts: ['png', 'jpg', 'jpeg', 'bmp', 'git'] },\n  { type: 'iso', exts: ['iso'] },\n  { type: 'md', exts: ['md'] },\n  { type: 'nbmx', exts: ['nbmx'] },\n  { type: 'ngm', exts: ['ngm'] },\n  { type: 'nol', exts: ['nol'] },\n  { type: 'pdf', exts: ['pdf'] },\n  { type: 'ppt', exts: ['ppt', 'pptx'] },\n  { type: 'program', exts: ['exe', 'bat'] },\n  { type: 'ps', exts: ['psd'] },\n  { type: 'tiff', exts: ['tiff'] },\n  { type: 'txt', exts: ['txt', 'lrc'] },\n  { type: 'video', exts: ['rmvb', 'mp4', 'avi', 'rm', 'wmv', 'flv', 'f4v', 'mkv', '3gp'] },\n  { type: 'word', exts: ['doc', 'docx'] },\n  { type: 'xmind', exts: ['xmind'] },\n  { type: 'zip', exts: ['rar', 'zip', '7z'] },\n];\n\nconst FILE_ICON_MAP = initializeFileIconMap();\n\nexport function getFileIcon(type: FileType): string {\n  return FILE_ICON_MAP.get(type) ?? unknownIcon;\n}\n\nexport function getFileType(path: string, asFolderIfEmptyExt = true): FileType {\n  const ext = getFileExtension(path);\n  if (!ext && asFolderIfEmptyExt) {\n    return 'folder';\n  }\n\n  const matched = FILE_TYPE_MAP.find(({ exts }) => exts.some((item) => item === ext));\n  return matched ? matched.type : 'unknown';\n}\n\nfunction getFileExtension(path: string): string {\n  const lastDotIndex = path.lastIndexOf('.');\n  const lastSeparatorIndex = Math.max(path.lastIndexOf('/'), path.lastIndexOf('\\\\'));\n  return lastDotIndex < path.length && lastDotIndex > lastSeparatorIndex\n    ? path.slice(lastDotIndex + 1)\n    : '';\n}\n","import { createContext } from 'react';\nimport { LanguageCode } from './language-code';\n\nexport const I18nContext = createContext<LanguageCode>('en-US');\n","import { useLazyRef } from '../hooks';\nimport { importJavaFunc } from '../java-interop';\n\ntype LogLevel = 'error' | 'warn' | 'info' | 'debug';\n\nexport const log = importJavaFunc<(level: LogLevel, message: string) => void>('log');\nexport const isDarkMode = importJavaFunc<() => boolean>('isDarkMode', false);\nexport const isChineseLocale = importJavaFunc<() => boolean>('isChineseLocale', false);\nexport const openUrl = importJavaFunc<(url: string) => void>('openUrl');\nexport const isEnterprise = importJavaFunc<() => boolean>('isEnterprise', false);\nexport const openPath = importJavaFunc<(path: string) => void>('openPath');\nexport const openFileWithApp = importJavaFunc<(path: string) => void>('openFileWithApp');\nexport const sendTeaEvent = importJavaFunc<(eventName: string, params?: string) => void>(\n  'sendTeaEvent'\n);\n\nconst isOSXPlatform = importJavaFunc<() => boolean>('isOSXPlatform');\nexport function useIsOSXPlatform() {\n  return useLazyRef(isOSXPlatform);\n}\n\nconst fileProviderEnabled = importJavaFunc<()=> boolean>('fileProviderEnabled');\nexport function useIsFileProviderEnabled() {\n  return useLazyRef(fileProviderEnabled);\n}\n\nconst badgeEnabled = importJavaFunc<() => boolean>('badgeEnabled');\nexport function useIsBadgeEnabled() {\n  return useLazyRef(badgeEnabled);\n}\n\nconst shouldShowUpgradeToFileProviderEntry = importJavaFunc<() => boolean>(\"shouldShowUpgradeToFileProviderEntry\");\nexport function useShouldShowUpgradeToFileProviderEntry() {\n  return useLazyRef(shouldShowUpgradeToFileProviderEntry);\n}\n","module.exports = __webpack_public_path__ + \"static/media/unknown.323bb234.svg\";","module.exports = __webpack_public_path__ + \"static/media/welcome_logo_light.74ca91e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/welcome_logo_dark.1a387523.svg\";","import { useMemo, useContext } from 'react';\nimport { LanguageCode, I18nContext } from '../i18n';\nimport { stringFormat } from '../helpers';\n\nexport type I18nResourcePair<T> = {\n  culture: LanguageCode;\n  resource: T;\n};\n\nexport type TranslatorType<T> = (key: T, ...args: Array<Object>) => string;\n\nexport type TranslateType<T> = {\n  readonly $t: TranslatorType<T>;\n};\n\nexport function useI18nBuilder<T extends Record<string, string>>(\n  resourcesProvider: () => Array<I18nResourcePair<T>>\n): TranslateType<keyof T> {\n  const currentCulture = useContext(I18nContext);\n  return useMemo(() => {\n    const provider = resourcesProvider();\n    if (!provider) {\n      throw new Error(`The resources provider can not return null or empty array.`);\n    }\n\n    const resource = provider.find((item) => item.culture === currentCulture);\n\n    const finalResource = resource?.resource ?? provider[0].resource;\n    return {\n      $t: (key, ...args) => stringFormat(finalResource[key], args),\n    };\n  }, [currentCulture, resourcesProvider]);\n}\n","import { useContext, useMemo } from 'react';\nimport { I18nContext } from './i18n-context';\nimport { isDarkMode } from '../java-api';\n\nimport slide1_light_zh_CN from '../assets/light/scene_light_1@2x.png';\nimport slide2_light_zh_CN from '../assets/light/scene_light_2@2x.png';\nimport slide3_light_zh_CN from '../assets/light/scene_light_3@2x.png';\nimport slide4_light_zh_CN from '../assets/light/scene_light_4@2x.png';\n\nimport slide1_light_en_US from '../assets/light/scene_light_1_en@2x.png';\nimport slide2_light_en_US from '../assets/light/scene_light_2_en@2x.png';\nimport slide3_light_en_US from '../assets/light/scene_light_3_en@2x.png';\nimport slide4_light_en_US from '../assets/light/scene_light_4_en@2x.png';\n\nimport slide1_dark_zh_CN from '../assets/dark/scene_dark_1@2x.png';\nimport slide2_dark_zh_CN from '../assets/dark/scene_dark_2@2x.png';\nimport slide3_dark_zh_CN from '../assets/dark/scene_dark_3@2x.png';\nimport slide4_dark_zh_CN from '../assets/dark/scene_dark_4@2x.png';\n\nimport slide1_dark_en_US from '../assets/dark/scene_dark_1_en@2x.png';\nimport slide2_dark_en_US from '../assets/dark/scene_dark_2_en@2x.png';\nimport slide3_dark_en_US from '../assets/dark/scene_dark_3_en@2x.png';\nimport slide4_dark_en_US from '../assets/dark/scene_dark_4_en@2x.png';\n\nimport nutstoreLogo_light from '../assets/light/welcome_logo_light.svg';\nimport nutstoreLogo_dark from '../assets/dark/welcome_logo_dark.svg';\n\nimport bannerImage1_zh_CN from '../assets/app-recommend/banner_1.png';\nimport bannerImage2_zh_CN from '../assets/app-recommend/banner_2.png';\nimport bannerImage3_zh_CN from '../assets/app-recommend/banner_3.png';\nimport bannerImage4_zh_CN from '../assets/app-recommend/banner_4.png';\n\nimport bannerImage1_en_US from '../assets/app-recommend/banner_1_en.png';\nimport bannerImage2_en_US from '../assets/app-recommend/banner_2_en.png';\nimport bannerImage3_en_US from '../assets/app-recommend/banner_3_en.png';\nimport bannerImage4_en_US from '../assets/app-recommend/banner_4_en.png';\n\nimport aboutLogo_light from '../assets/light/about_logo_light.svg';\nimport aboutLogo_dark from '../assets/dark/about_logo_dark.svg';\n\ntype ImagesType = {\n  slide1: string;\n  slide2: string;\n  slide3: string;\n  slide4: string;\n  nutstoreLogo: string;\n};\n\nexport function useImages(): ImagesType {\n  const culture = useContext(I18nContext);\n  return useMemo(() => {\n    if (culture === 'zh-CN') {\n      if (isDarkMode()) {\n        return {\n          slide1: slide1_dark_zh_CN,\n          slide2: slide2_dark_zh_CN,\n          slide3: slide3_dark_zh_CN,\n          slide4: slide4_dark_zh_CN,\n          nutstoreLogo: nutstoreLogo_dark,\n        };\n      } else {\n        return {\n          slide1: slide1_light_zh_CN,\n          slide2: slide2_light_zh_CN,\n          slide3: slide3_light_zh_CN,\n          slide4: slide4_light_zh_CN,\n          nutstoreLogo: nutstoreLogo_light,\n        };\n      }\n    } else {\n      if (isDarkMode()) {\n        return {\n          slide1: slide1_dark_en_US,\n          slide2: slide2_dark_en_US,\n          slide3: slide3_dark_en_US,\n          slide4: slide4_dark_en_US,\n          nutstoreLogo: nutstoreLogo_dark,\n        };\n      } else {\n        return {\n          slide1: slide1_light_en_US,\n          slide2: slide2_light_en_US,\n          slide3: slide3_light_en_US,\n          slide4: slide4_light_en_US,\n          nutstoreLogo: nutstoreLogo_light,\n        };\n      }\n    }\n  }, [culture]);\n}\n\ntype BannerImage = {\n  banner1: string;\n  banner2: string;\n  banner3: string;\n  banner4: string;\n};\n\nexport function useBannerImages(): BannerImage {\n  const culture = useContext(I18nContext);\n  return useMemo(() => {\n    if (culture === 'zh-CN') {\n      return {\n        banner1: bannerImage1_zh_CN,\n        banner2: bannerImage2_zh_CN,\n        banner3: bannerImage3_zh_CN,\n        banner4: bannerImage4_zh_CN,\n      };\n    } else {\n      return {\n        banner1: bannerImage1_en_US,\n        banner2: bannerImage2_en_US,\n        banner3: bannerImage3_en_US,\n        banner4: bannerImage4_en_US,\n      };\n    }\n  }, [culture]);\n}\n\nexport function useAboutLogo(): string {\n  return isDarkMode() ? aboutLogo_dark : aboutLogo_light;\n}\n","import { ConfigureRule, TranslatorType } from '.';\nimport { UiStringsKeys } from '../i18n';\nimport { useCallback } from 'react';\n\n// Ref to: https://stackoverflow.com/a/37668315\n// The '\\p{L}' is not supported in JavaScript.\nconst pL =\n  'A-Za-z\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC';\n\nconst REGEX_EMAIL = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9]([a-zA-Z0-9]|((.|-)[a-zA-Z0-9]))*\\.[a-zA-Z]{2,}$/;\nconst REGEX_NICKNAME = new RegExp(`^[-_ 0-9a-zA-Z${pL}]{0,20}$`);\nconst REGEX_PHONE_NUMBER_CHINA = /^(1(3|4|5|6|7|8|9))\\d{9}$/;\nconst REGEX_PHONE_NUMBER_INTERNATIONAL = /[0-9]{3,14}/;\nconst REGEX_PASSCODE = /\\d{6}/;\nconst REGEX_NUMBER = /^\\d+?$/;\n\nconst AREA_CODE_CHINA = '+86';\n\nexport const noRules: ConfigureRule<any> = () => {};\n\nexport function useNotEmptyRule($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config.addRule(\n        (value) => !!value,\n        () => $t('error.cannotEmpty')\n      );\n    },\n    [$t]\n  );\n}\n\nexport function useEmailRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.pleaseEnterEmail')\n        )\n        .addRule(\n          (value) => value.length >= 4,\n          () => $t('error.emailTooShort')\n        )\n        .addRule(\n          (value) => value.length <= 54,\n          () => $t('error.emailTooLong')\n        )\n        .addRule(\n          (value) => !value.endsWith('.con'),\n          () => $t('error.invalidEmailSuffix')\n        )\n        .addRule(\n          (value) => REGEX_EMAIL.test(value),\n          () => $t('error.invalidEmailPleaseModifyAndRetry')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function usePasswordRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.passwordEmpty')\n        )\n        .addRule(\n          (value) => value.length >= 6,\n          () => $t('error.passwordTooShort')\n        )\n        .addRule(\n          (value) => value.length <= 54,\n          () => $t('error.passwordTooLong')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function useNicknameRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !value || value.length <= 20,\n          () => $t('error.nicknameTooLong')\n        )\n        .addRule(\n          (value) => !value || REGEX_NICKNAME.test(value),\n          () => $t('error.nicknameInvalidFormat')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function usePhoneNumberRules(\n  $t: TranslatorType<UiStringsKeys>,\n  areaCodeGetter: () => string\n): ConfigureRule<string> {\n  return useCallback(\n    (config) =>\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.cannotEmpty')\n        )\n        .addRule(\n          (value) => {\n            const areaCode = areaCodeGetter();\n            return !!value && areaCode === AREA_CODE_CHINA\n              ? REGEX_PHONE_NUMBER_CHINA.test(value)\n              : REGEX_PHONE_NUMBER_INTERNATIONAL.test(value);\n          },\n          () => $t('error.phoneInvalid')\n        ),\n    [$t, areaCodeGetter]\n  );\n}\n\nexport function usePasscodeRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.cannotEmpty')\n        )\n        .addRule(\n          (value) => REGEX_PASSCODE.test(value),\n          () => $t('error.invalidPasscode')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function useIPRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config.addRule(\n        (value) => !!value,\n        () => $t('error.cannotEmpty')\n      );\n      // TODO: Could the IP here support the domain name string?\n      // .addRule(\n      //   (value) => /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/.test(value),\n      //   () => $t('error.invalidIPAddress')\n      // );\n    },\n    [$t]\n  );\n}\n\nexport function useNumberRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.cannotEmpty')\n        )\n        .addRule(\n          (value) => REGEX_NUMBER.test(value),\n          () => $t('error.invalidPort')\n        );\n    },\n    [$t]\n  );\n}\n","import { RefObject, useEffect } from 'react';\nimport { log } from '../java-api';\n\nexport type Size = {\n  width: number;\n  height: number;\n};\n\nexport function useResizeObserver<T extends HTMLElement>(\n  targetRef: RefObject<T>,\n  callback: (rect: Size) => void\n) {\n  useEffect(() => {\n    const target = targetRef.current;\n    if (!target) return;\n\n    if (window.ResizeObserver) {\n      log('debug', 'The current browser is support the ResizeObserver.');\n      const resizeObserver = new ResizeObserver((entities) =>\n        // Ref: https://stackoverflow.com/a/58701523/9078911\n        window.requestAnimationFrame(() => {\n          const entity = entities[0];\n          callback({\n            width: entity.contentRect.width,\n            height: entity.contentRect.height,\n          });\n        })\n      );\n\n      resizeObserver.observe(target);\n      callback({\n        width: target.offsetWidth,\n        height: target.offsetHeight,\n      });\n\n      return () => resizeObserver.disconnect();\n    } else {\n      // Fall back to resize event.\n      log('debug', 'Fallback to resize event.');\n      const handleResize = () =>\n        callback({\n          width: target.offsetWidth,\n          height: target.offsetHeight,\n        });\n      handleResize();\n      window.addEventListener('resize', handleResize);\n\n      const mutationObserver = new MutationObserver(handleResize);\n      mutationObserver.observe(document.body, {\n        subtree: true,\n        attributes: true,\n        attributeFilter: ['class'],\n      });\n\n      return () => {\n        window.removeEventListener('resize', handleResize);\n        mutationObserver.disconnect();\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [callback]);\n}\n","import { useCallback, useState } from 'react';\n\nexport function useForceUpdate() {\n  const [, triggerUpdate] = useState(false);\n\n  return useCallback(() => triggerUpdate((oldValue) => !oldValue), []);\n}\n","// Ref to: https://itnext.io/reusing-the-ref-from-forwardref-with-react-hooks-4ce9df693dd\n\nimport React, { Ref, useRef } from 'react';\n\nexport function useCombinedRefs<T extends HTMLElement>(...refs: Ref<T>[]) {\n  const targetRef = useRef<T>(null);\n\n  React.useEffect(() => {\n    refs.forEach((ref) => {\n      if (!ref) return;\n\n      if (typeof ref === 'function') {\n        ref(targetRef.current);\n      } else {\n        (ref as any).current = targetRef.current;\n      }\n    });\n  }, [refs]);\n\n  return targetRef;\n}\n","import { useRef } from 'react';\n\nexport function useLazyRef<T>(factory: () => T) {\n  const ref = useRef<T>();\n  const getter = () => {\n    if (!ref.current) {\n      ref.current = factory();\n    }\n\n    return ref.current;\n  };\n\n  return getter();\n}\n","module.exports = __webpack_public_path__ + \"static/media/ai.27eb9766.svg\";","module.exports = __webpack_public_path__ + \"static/media/apk.440d995c.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.9dd4506c.svg\";","module.exports = __webpack_public_path__ + \"static/media/code.8ecae0ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/dwg.e1f581a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/eps.98f3421f.svg\";","module.exports = __webpack_public_path__ + \"static/media/excel.f40d4885.svg\";","module.exports = __webpack_public_path__ + \"static/media/folder.d2ab7032.svg\";","module.exports = __webpack_public_path__ + \"static/media/gif.92f05f10.svg\";","module.exports = __webpack_public_path__ + \"static/media/image.ecc1c97e.svg\";","module.exports = __webpack_public_path__ + \"static/media/iso.ee6977ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/md.e52b98fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/nbmx.27a4b173.svg\";","module.exports = __webpack_public_path__ + \"static/media/ngm.6845bdb4.svg\";","module.exports = __webpack_public_path__ + \"static/media/nol.1423c8a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/pdf.140e0845.svg\";","module.exports = __webpack_public_path__ + \"static/media/ppt.acf1128b.svg\";","module.exports = __webpack_public_path__ + \"static/media/program.a1780ee9.svg\";","module.exports = __webpack_public_path__ + \"static/media/ps.72a873b1.svg\";","module.exports = __webpack_public_path__ + \"static/media/tiff.7ed657f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/txt.68289999.svg\";","module.exports = __webpack_public_path__ + \"static/media/video.d98bc694.svg\";","module.exports = __webpack_public_path__ + \"static/media/word.4d8a5a32.svg\";","module.exports = __webpack_public_path__ + \"static/media/xmind.b82bee1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/zip.96ec6f2b.svg\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_1@2x.2a586d8a.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_2@2x.ee2be058.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_3@2x.b1e9fcd6.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_4@2x.9f02aaa9.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_1_en@2x.d04d77f1.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_2_en@2x.c0587da2.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_3_en@2x.2406b168.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_4_en@2x.34c276f8.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_1@2x.0a9911f5.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_2@2x.ea11bae4.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_3@2x.7595ace7.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_4@2x.b00f9ccf.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_1_en@2x.d99404e1.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_2_en@2x.95c49d02.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_3_en@2x.043fd0e3.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_4_en@2x.caaebc11.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_1.5948760f.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_2.bc2a7cec.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_3.aabaae5b.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_4.7b4672db.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_1_en.d2fadabd.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_2_en.ee63faed.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_3_en.2b1a968d.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_4_en.79165864.png\";","module.exports = __webpack_public_path__ + \"static/media/about_logo_light.6299e330.svg\";","module.exports = __webpack_public_path__ + \"static/media/about_logo_dark.5a4f54a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/sidebar_hamburg.478ac7c8.svg\";","module.exports = __webpack_public_path__ + \"static/media/view_sync_errors_icon.ffe7904e.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.e4e319ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/path.78317369.svg\";","module.exports = __webpack_public_path__ + \"static/media/right-arrow.75348027.svg\";","import { ReactNode } from 'react';\n\nexport type DialogEntity = { id: string; dialog: ReactNode };\n\nexport default class DialogManager {\n  private dialogEntities: Array<DialogEntity>;\n\n  private currentDialogEntity?: DialogEntity;\n\n  private setCurrentDialig: (dialog: ReactNode | undefined) => void;\n\n  constructor(setCurrentDialog: (dialog: ReactNode | undefined) => void) {\n    this.dialogEntities = new Array<DialogEntity>();\n    this.setCurrentDialig = setCurrentDialog;\n  }\n\n  show(id: string, dialog: ReactNode): void {\n    if (!dialog) return;\n\n    if (this.currentDialogEntity) {\n      this.dialogEntities.push(this.currentDialogEntity);\n    }\n\n    this.setCurrentDialogEntity({ id, dialog });\n  }\n\n  close(id: string): void {\n    if (this.currentDialogEntity?.id === id) {\n      // 1. Close current dialog:\n      this.setCurrentDialogEntity(this.dialogEntities.pop());\n    } else {\n      // 2. Close the dialog in the stack:\n      const index = this.dialogEntities.findIndex((entity) => entity.id === id);\n      if (index !== -1) {\n        this.dialogEntities.splice(index, 1);\n      }\n    }\n  }\n\n  private setCurrentDialogEntity(entity: DialogEntity | undefined): void {\n    this.currentDialogEntity = entity;\n    this.setCurrentDialig(entity ? entity.dialog : undefined);\n  }\n}\n","import React, { ReactNode, createContext, useState, useContext, useRef, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { uuidv4 } from '../../helpers';\nimport DialogManager from './dialog-manager';\n\ninterface DialogHostProps {\n  children: ReactNode;\n}\n\nconst DialogHostContext = createContext<DialogManager>(undefined as any);\n\nexport interface DialogToken<T> {\n  show(): Promise<T>;\n  close(): void;\n}\n\ntype DialogFactory<T> = (close: (value: T) => void) => ReactNode;\n\nexport interface DialogBuilder {\n  build<T>(factory: DialogFactory<T>): DialogToken<T>;\n}\n\nclass DialogBuilderInternal implements DialogBuilder {\n  private _manager: DialogManager;\n\n  constructor(manager: DialogManager) {\n    this._manager = manager;\n  }\n\n  build<T>(factory: DialogFactory<T>): DialogToken<T> {\n    let id: string;\n    const close = () => this._manager.close(id);\n    const show = () =>\n      new Promise<T>((resolve) => {\n        id = uuidv4();\n        const dialog = factory((value) => {\n          resolve(value);\n          close();\n        });\n        this._manager.show(id, dialog);\n      });\n    return { show, close };\n  }\n}\n\nexport function useDialogBuilder(): DialogBuilder {\n  const manager = useContext(DialogHostContext);\n  if (!manager) {\n    throw new Error(\n      'The ancestor nodes of the current element does not contain <DialogHost />, ' +\n        'please make sure to use useDialog(Builder) hook in the descendants of <DialogHost />.'\n    );\n  }\n\n  return useMemo(() => new DialogBuilderInternal(manager), [manager]);\n}\n\nexport function useDialog<T>(factory: DialogFactory<T>): DialogToken<T> {\n  const builder = useDialogBuilder();\n  return useMemo(() => builder.build(factory), [builder, factory]);\n}\n\nexport function DialogHost({ children }: DialogHostProps) {\n  const [currentDialog, setCurrentDialog] = useState<ReactNode>();\n  const dialogManagerRef = useRef(new DialogManager(setCurrentDialog));\n\n  const contentPlaceholderClass = classNames('content-placeholder', {\n    blur: currentDialog,\n  });\n  const maskLayerClass = classNames('dialog-mask-layer', {\n    active: currentDialog,\n  });\n\n  return (\n    <div className=\"dialog-host\">\n      <DialogHostContext.Provider value={dialogManagerRef.current}>\n        <div className={contentPlaceholderClass}>{children}</div>\n        <div className={maskLayerClass}>\n          <div className=\"dialog-placeholder\">{currentDialog}</div>\n        </div>\n      </DialogHostContext.Provider>\n    </div>\n  );\n}\n","import React, { createContext, useContext, ReactNode, useMemo, useCallback } from 'react';\n\nexport type Navigate = (viewName: string, props: any) => void;\ntype Navigator = (switchName: string, viewName: string, props?: any) => void;\n\ntype SwitchHostContextType = {\n  registerSwitch: (switchName: string, navigate: Navigate) => void;\n  unregisterSwitch: (switchName: string) => void;\n  navigate: Navigator;\n};\n\nexport const SwitchHostContext = createContext<SwitchHostContextType>(undefined as any);\n\nexport function useNavigator<T extends string>(switchName: string) {\n  const context = useContext(SwitchHostContext);\n  return useCallback(\n    (viewName: T, props?: any) => {\n      context.navigate(switchName, viewName, props);\n    },\n    [context, switchName]\n  );\n}\n\nexport function SwitchHost({ children }: { children: ReactNode }) {\n  const switchMap = useMemo(() => new Map<string, Navigate>(), []);\n  const registerSwitch = useCallback(\n    (switchName: string, navigate: Navigate) => {\n      if (switchMap.has(switchName)) {\n        throw new Error('The same switch name already exists.');\n      }\n\n      switchMap.set(switchName, navigate);\n    },\n    [switchMap]\n  );\n  const unregisterSwitch = useCallback((switchName: string) => switchMap.delete(switchName), [\n    switchMap,\n  ]);\n  const navigate = useCallback(\n    (switchName: string, viewName: string, props: any) => {\n      const selectedNavigate = switchMap.get(switchName);\n      if (!selectedNavigate) {\n        throw new Error(`Not found the switch named ${switchName}.`);\n      }\n\n      selectedNavigate(viewName, props);\n    },\n    [switchMap]\n  );\n\n  return (\n    <SwitchHostContext.Provider value={{ registerSwitch, unregisterSwitch, navigate }}>\n      {children}\n    </SwitchHostContext.Provider>\n  );\n}\n","import React, { useRef, useEffect, useState, ReactElement } from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\n\ninterface TooltipProps {\n  title: string;\n  width?: string;\n  children: ReactElement<any>;\n  placement?: 'top' | 'bottom' | 'left' | 'right';\n}\n\nconst getContainerElement = (function () {\n  let container: HTMLDivElement | null = null;\n\n  return () => {\n    if (container) return container;\n    container = document.createElement('div');\n    container.className = 'tooltip-container';\n    document.body.appendChild(container);\n    return container;\n  };\n})();\n\ntype Point = {\n  x: number;\n  y: number;\n};\n\nconst InvalidPoint = {\n  x: Number.MIN_SAFE_INTEGER,\n  y: Number.MIN_SAFE_INTEGER,\n};\n\nexport default function Tooltip({ title, width, children, placement = 'bottom' }: TooltipProps) {\n  const contentRef = useRef<HTMLDivElement>(null);\n  const tooltipRef = useRef<HTMLSpanElement>(null);\n  const [position, setPosition] = useState<Point>(InvalidPoint);\n  const [active, setActive] = useState(false);\n  useEffect(() => {\n    if (!active) {\n      setPosition(InvalidPoint);\n      return;\n    }\n\n    if (active && contentRef.current && tooltipRef.current) {\n      const contentRect = contentRef.current.getBoundingClientRect();\n      const tooltipRect = tooltipRef.current.getBoundingClientRect();\n\n      switch (placement) {\n        case 'top':\n          setPosition({\n            x: contentRect.x + (contentRect.width - tooltipRect.width) / 2,\n            y: contentRect.y - tooltipRect.height - 8,\n          });\n          break;\n        case 'bottom':\n          setPosition({\n            x: contentRect.x + (contentRect.width - tooltipRect.width) / 2,\n            y: contentRect.y + contentRect.height + 8,\n          });\n          break;\n        case 'left':\n          setPosition({\n            x: contentRect.x - tooltipRect.width - 8,\n            y: contentRect.y + (contentRect.height - tooltipRect.height) / 2,\n          });\n          break;\n        case 'right':\n          setPosition({\n            x: contentRect.x + contentRect.width + 8,\n            y: contentRect.y + (contentRect.height - tooltipRect.height) / 2,\n          });\n          break;\n        default:\n          setPosition(InvalidPoint);\n          break;\n      }\n    }\n  }, [active, placement]);\n\n  const tooltipRoot = getContainerElement();\n  const contentClass = classNames(children.props.className, 'tooltip-content');\n  const tooltipClass = classNames('tooltip-text', { active });\n  return (\n    <>\n      {React.cloneElement(children, {\n        ref: contentRef,\n        className: contentClass,\n        onMouseEnter: () => setActive(true),\n        onMouseLeave: () => setActive(false),\n      })}\n      {ReactDOM.createPortal(\n        <span\n          ref={tooltipRef}\n          className={tooltipClass}\n          style={{\n            left: `${position.x}px`,\n            top: `${position.y}px`,\n            maxWidth: width,\n            visibility: active ? 'visible' : 'hidden',\n          }}\n        >\n          {title}\n        </span>,\n        tooltipRoot\n      )}\n    </>\n  );\n}\n","import classNames from 'classnames';\nimport React, {\n  HTMLAttributes,\n  ReactNode,\n  Ref,\n  UIEventHandler,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { useCombinedRefs, useResizeObserver } from '../../hooks';\n\nconst FLOAT_TOLERANCE = 1e-3;\n\ntype ScrollBarStyle = 'inline' | 'overlay';\ninterface ScrollViewerProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  scrollBarStyle?: ScrollBarStyle;\n  enableVerticalScrollBar?: boolean;\n  enableHorizontalScrollBar?: boolean;\n}\n\nconst ScrollViewer = React.forwardRef(\n  (\n    {\n      children,\n      scrollBarStyle,\n      enableVerticalScrollBar,\n      enableHorizontalScrollBar,\n      className,\n      onScroll,\n      style,\n    }: ScrollViewerProps,\n    ref: Ref<HTMLDivElement>\n  ) => {\n    const wrapperRef = useRef<HTMLDivElement>(null);\n    const scrollContentRef = useRef<HTMLDivElement>(null);\n    const combinedRef = useCombinedRefs(ref, wrapperRef);\n    const [scrollBarTop, setScrollBarTop] = useState(0);\n    const [scrollBarHeight, setScrollBarHeight] = useState(0);\n    const [scrollBarLeft, setScrollBarLeft] = useState(0);\n    const [scrollBarWidth, setScrollBarWidth] = useState(0);\n\n    const updateSize = useCallback(() => {\n      const view = wrapperRef.current;\n      if (!view) return;\n      const viewWidth = view.clientWidth;\n      const viewHeight = view.clientHeight;\n\n      if (enableHorizontalScrollBar) {\n        const ratio = viewWidth / view.scrollWidth;\n        setScrollBarWidth(viewWidth * ratio);\n        setScrollBarLeft(view.scrollLeft * ratio);\n      }\n\n      if (enableVerticalScrollBar) {\n        const ratio = viewHeight / view.scrollHeight;\n        setScrollBarHeight(viewHeight * ratio);\n        setScrollBarTop(view.scrollTop * ratio);\n      }\n    }, [enableHorizontalScrollBar, enableVerticalScrollBar]);\n    useResizeObserver(wrapperRef, updateSize);\n    useResizeObserver(scrollContentRef, updateSize);\n    useEffect(() => {\n      if (scrollContentRef.current) {\n        const mutationObserver = new MutationObserver(() => updateSize());\n        mutationObserver.observe(scrollContentRef.current, {\n          childList: true,\n          subtree: true,\n        });\n        return () => mutationObserver.disconnect();\n      }\n    }, [updateSize]);\n\n    const wrapperClass = classNames(\n      'scroll-viewer-wrapper',\n      className,\n      `${scrollBarStyle ?? 'overlay'}`\n    );\n\n    const activeHorizontalScrollBar =\n      enableHorizontalScrollBar &&\n      wrapperRef.current &&\n      wrapperRef.current.scrollWidth - wrapperRef.current.clientWidth > FLOAT_TOLERANCE;\n    const activeVerticalScrollBar =\n      enableVerticalScrollBar &&\n      wrapperRef.current &&\n      wrapperRef.current.scrollHeight - wrapperRef.current.clientHeight > FLOAT_TOLERANCE;\n\n    const horizontalScrollBarClass = classNames('scroll-bar', 'horizontal', {\n      active: activeHorizontalScrollBar,\n    });\n    const verticalScrollBarClass = classNames('scroll-bar', 'vertical', {\n      active: activeVerticalScrollBar,\n    });\n\n    const handleScroll = useCallback(() => {\n      const view = wrapperRef.current;\n      if (!view) return;\n\n      if (activeHorizontalScrollBar) {\n        const barLeft = (view.clientWidth * view.scrollLeft) / view.scrollWidth;\n        setScrollBarLeft(barLeft);\n      }\n\n      if (activeVerticalScrollBar) {\n        const barTop = (view.clientHeight * view.scrollTop) / view.scrollHeight;\n        setScrollBarTop(barTop);\n      }\n    }, [activeHorizontalScrollBar, activeVerticalScrollBar]);\n    const innerOnScroll = useCallback<UIEventHandler<HTMLDivElement>>(\n      (...args) => {\n        handleScroll();\n        if (onScroll) {\n          onScroll(...args);\n        }\n      },\n      [handleScroll, onScroll]\n    );\n    const handleHorizontalScroll = useCallback(\n      (e: React.WheelEvent<HTMLDivElement>) => {\n        if (!wrapperRef.current || !enableHorizontalScrollBar) return;\n        // https://stackoverflow.com/a/15343916\n        const delta = Math.max(-1, Math.min(1, e.deltaX || e.deltaY || -e.detail));\n        wrapperRef.current.scrollLeft += delta * 40;\n      },\n      [enableHorizontalScrollBar]\n    );\n\n    return (\n      <div className={wrapperClass} style={style}>\n        <div\n          ref={combinedRef}\n          className=\"scroll-view\"\n          onScroll={innerOnScroll}\n          onWheel={handleHorizontalScroll}\n        >\n          <div ref={scrollContentRef} className=\"scroll-content\">\n            {children}\n          </div>\n        </div>\n        {enableHorizontalScrollBar ? (\n          <div className={horizontalScrollBarClass}>\n            <div\n              className=\"scroll-thumb\"\n              style={{\n                left: scrollBarLeft || 0,\n                width: activeHorizontalScrollBar && scrollBarWidth ? scrollBarWidth : 0,\n              }}\n            />\n          </div>\n        ) : null}\n        {enableVerticalScrollBar ? (\n          <div className={verticalScrollBarClass}>\n            <div\n              className=\"scroll-thumb\"\n              style={{\n                top: scrollBarTop || 0,\n                height: activeVerticalScrollBar && scrollBarHeight ? scrollBarHeight : 0,\n              }}\n            />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n);\n\nScrollViewer.defaultProps = {\n  scrollBarStyle: 'overlay',\n  enableHorizontalScrollBar: false,\n  enableVerticalScrollBar: false,\n};\n\nexport default ScrollViewer;\n","import { useClickCombo } from \"./use-click-combo\";\n\ninterface ContextmenuManger {\n  enable(): void\n  disable(): void\n}\n\nconst preventFn = (event: Event) => event.preventDefault()\n\nconst contextmenuManager: ContextmenuManger = {\n  enable() {\n    window.removeEventListener('contextmenu', preventFn)\n  },\n  disable() {\n    window.addEventListener('contextmenu', preventFn)\n  },\n}\n\nexport function getContextmenuManager(): ContextmenuManger {\n  return contextmenuManager\n}\n\nexport function useContextmenuClickCombo(): {\n  click(): void\n} {\n  return useClickCombo({\n    timeout: 1000 * 10,\n    times: 10,\n    onFire() {\n      contextmenuManager.enable()\n      alert('Contextmenu enabled')\n    },\n  }, []);\n}\n","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { DialogHost } from '../components/dialog';\nimport { SwitchHost } from '../components/items-control';\nimport { LanguageCode, I18nContext } from '../i18n';\nimport { isDarkMode, isChineseLocale, waitJavaApiReady, log } from '../java-api';\n\nimport '../styles/normalize.css';\nimport '../styles/index.scss';\nimport { getContextmenuManager } from '../hooks/use-contextmenu-manager';\n\nfunction reportError(message: string) {\n  try {\n    log('warn', message);\n  } catch {\n    // Ignore\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    log('error', message);\n  }\n}\n\nfunction App({ children }: { children: React.FunctionComponentElement<any> }) {\n  const [culture, setCulture] = useState<LanguageCode>('zh-CN');\n  useEffect(() => {\n    if (isDarkMode()) {\n      document.body.classList.add('theme-dark');\n    }\n\n    setCulture(isChineseLocale() ? 'zh-CN' : 'en-US');\n  }, []);\n\n  return (\n    <I18nContext.Provider value={culture}>\n      <SwitchHost>\n        <DialogHost>{children}</DialogHost>\n      </SwitchHost>\n    </I18nContext.Provider>\n  );\n}\n\n/**\n * Run the specified app component after specified Java functions are registered successfully.\n *\n * Because the registration of the java function is asynchronous.\n * It is possible that the registration is not successful after the UI is displayed,\n * which will cause the call to fail.\n *\n * @param element The specified app component.\n * @param requiredJavaFuncNameList The specified Java functions list.\n */\nexport default function runApp(\n  element: React.FunctionComponentElement<any>,\n  requiredJavaFuncNameList?: ReadonlyArray<string>\n) {\n  // Debug\n  window.onerror = (e, source, _lineno, _colno, error) => {\n    const message = `error=${e}, source=${source}, name=${error?.name}, message=${error?.message} \\n\\n ${error?.stack}`;\n    reportError(message);\n  };\n  window.onunhandledrejection = (error: any) => {\n    const message = `PROMISE REJECT ERROR: reason=${error?.reason}, error=${error}`;\n    reportError(message);\n  };\n\n  getContextmenuManager().disable();\n\n  const render = () => {\n    // Log the current browser version.\n    const versionInfo = `The current browser version is [${navigator.appVersion}]`;\n    try {\n      log('info', versionInfo);\n    } catch {\n      log('error', versionInfo);\n    }\n\n    ReactDOM.render(\n      <React.StrictMode>\n        <App>{element}</App>\n      </React.StrictMode>,\n      document.getElementById('root')\n    );\n  };\n\n  if (process.env.NODE_ENV === 'production') {\n    waitJavaApiReady(requiredJavaFuncNameList ?? []).then(render);\n  } else {\n    import('../java-api/mock/index').then(render);\n  }\n}\n","// ***************************************************************************\n// Sync Exception Api\n// ***************************************************************************\n\nimport { importJavaPromise, importJavaPromiseNonJson } from '../../java-interop';\n\nexport type SyncException = {\n  fileName: string; // Sync error file name\n  parentDir: string; // Sync error parent directory\n  reasonId: number; // Id of the sync error reason, can be used to group the sync errors in UI\n  reasonDisplay: string; // The localized sync error reason string\n  fullPath: string; // Full absolute of the sync error, can be used as key to resolve the sync error.\n};\n\nexport type SyncExceptionGroup = {\n  reasonId: number; // Id of the sync error reason, can be used to group the sync errors in UI\n  reasonDisplay: string; // The localized sync error reason string\n  folded: boolean; // If group is folded or not\n  exceptions: SyncException[];\n};\n\nexport const getSyncExceptions = importJavaPromise<() => SyncException[]>('getSyncExceptions');\nexport const resolveSyncExceptions =\n  importJavaPromiseNonJson<(exceptionPaths: string[]) => void>('resolveSyncExceptions');\n","import { useCallback, useEffect, useState } from 'react';\nimport {\n  SyncException,\n  SyncExceptionGroup,\n  getSyncExceptions,\n  resolveSyncExceptions as resolve,\n} from '../../java-api/exception-window';\n\nexport default function useSyncExceptionModel() {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [exceptions, setExceptions] = useState<SyncException[]>([]);\n  const [exceptionGroupMap, setExceptionGroupMap] = useState<Map<\n    number,\n    SyncExceptionGroup\n  > | null>(null);\n\n  useEffect(() => {\n    const fetchSyncExceptions = async () => {\n      setLoading(true);\n      const exceptions = await getSyncExceptions();\n      setExceptions(exceptions);\n      setExceptionGroupMap(groupExceptionsByReason(exceptions));\n      setLoading(false);\n    };\n\n    fetchSyncExceptions();\n  }, []);\n\n  const resolveSyncExceptions = useCallback(\n    async (selectedExceptions: SyncException[]) => {\n      await resolve(selectedExceptions.map((se) => se.fullPath));\n      const newExceptions = exceptions.filter((se) => !selectedExceptions.includes(se));\n      setExceptions(newExceptions);\n      setExceptionGroupMap(groupExceptionsByReason(newExceptions));\n    },\n    [exceptions]\n  );\n\n  const toggleGroup = useCallback(\n    (group: SyncExceptionGroup) => {\n      const newMap = groupExceptionsByReason(exceptions);\n      if (newMap?.has(group.reasonId)) {\n        const g = newMap?.get(group.reasonId);\n        if (g) {\n          g.folded = !group.folded;\n          setExceptionGroupMap(newMap);\n        }\n      }\n    },\n    [exceptions]\n  );\n\n  return { loading, exceptions, exceptionGroupMap, resolveSyncExceptions, toggleGroup };\n}\n\nconst groupExceptionsByReason = (exceptions: SyncException[]) => {\n  const groupMap = new Map<number, SyncExceptionGroup>();\n  exceptions.forEach((e) => {\n    if (groupMap.has(e.reasonId)) {\n      const group = groupMap.get(e.reasonId);\n      group?.exceptions.push(e);\n    } else {\n      groupMap.set(e.reasonId, {\n        reasonId: e.reasonId,\n        reasonDisplay: e.reasonDisplay,\n        exceptions: [e],\n        folded: false,\n      });\n    }\n  });\n  return groupMap;\n};\n","import React, { ChangeEvent, useCallback, useState } from 'react';\nimport { useI18n } from '../../i18n';\nimport syncErrorIcon from '../../assets/exception-window/view_sync_errors_icon.svg';\nimport loading from '../../assets/exception-window/loading.svg';\nimport pathIcon from '../../assets/exception-window/path.svg';\nimport arrow from '../../assets/right-arrow.svg';\nimport useSyncExceptionModel from '../../models/exception-window/sync-exception-model';\nimport { SyncException, SyncExceptionGroup } from '../../java-api/exception-window';\nimport { openPath, openUrl } from '../../java-api/common-api';\nimport { Tooltip } from '../../components/tooltip';\nimport classNames from 'classnames';\n\nexport default function ExceptionWindow() {\n  const { $t } = useI18n();\n  const [selectedExceptions, setSelectedExceptions] = useState<SyncException[]>([]);\n\n  const {\n    loading: exceptionsLoading,\n    exceptions,\n    exceptionGroupMap,\n    resolveSyncExceptions,\n    toggleGroup,\n  } = useSyncExceptionModel();\n\n  const selectException = useCallback(\n    (se: SyncException) => {\n      setSelectedExceptions([...selectedExceptions, se]);\n    },\n    [selectedExceptions]\n  );\n\n  const unselectException = useCallback(\n    (se: SyncException) => {\n      selectedExceptions.splice(selectedExceptions.indexOf(se), 1);\n      setSelectedExceptions([...selectedExceptions]);\n    },\n    [selectedExceptions]\n  );\n\n  const onCheckBoxChanged = useCallback(\n    (event: ChangeEvent<HTMLInputElement>, se: SyncException) => {\n      if (event.currentTarget.checked) {\n        selectException(se);\n      } else {\n        unselectException(se);\n      }\n    },\n    [selectException, unselectException]\n  );\n\n  const onFilenameClick = useCallback(\n    (se: SyncException) => {\n      if (selectedExceptions.includes(se)) {\n        unselectException(se);\n      } else {\n        selectException(se);\n      }\n    },\n    [selectedExceptions, selectException, unselectException]\n  );\n\n  const onSelectAllChanged = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      if (event.currentTarget.checked) {\n        setSelectedExceptions(exceptions);\n      } else {\n        setSelectedExceptions([]);\n      }\n    },\n    [exceptions]\n  );\n\n  const renderExceptions = useCallback(() => {\n    const groups: SyncExceptionGroup[] = [];\n    exceptionGroupMap?.forEach((group) => {\n      groups.push(group);\n    });\n    return groups.map((group) => {\n      return (\n        <div className=\"exception-group\" key={group.reasonId}>\n          <div className=\"exception-group-header\">\n            <img\n              src={arrow}\n              alt=\"\"\n              className={classNames('toggler', { folded: group.folded })}\n              onClick={() => toggleGroup(group)}\n            />\n            <div className=\"exception-group-reason\">{group.reasonDisplay}</div>\n          </div>\n          {!group.folded && (\n            <div className=\"exception-group-content\">\n              {group.exceptions.map((exception) => (\n                <div\n                  className={classNames('exception', {\n                    selected: selectedExceptions.includes(exception),\n                  })}\n                  key={exception.fullPath}\n                >\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedExceptions.includes(exception)}\n                    onChange={(event) => onCheckBoxChanged(event, exception)}\n                  />\n                  <Tooltip title={exception.fileName} width={'200px'}>\n                    <div className=\"name\" onClick={() => onFilenameClick(exception)}>\n                      {exception.fileName}\n                    </div>\n                  </Tooltip>\n                  <Tooltip title={exception.reasonDisplay} width={'200px'}>\n                    <div className=\"reason\">{exception.reasonDisplay}</div>\n                  </Tooltip>\n                  <div className=\"path\" onClick={() => openPath(exception.fullPath)}>\n                    <img src={pathIcon} alt=\"\"></img>\n                    <Tooltip title={exception.parentDir} width={'200px'}>\n                      <span>{exception.parentDir}</span>\n                    </Tooltip>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      );\n    });\n  }, [exceptionGroupMap, selectedExceptions, onCheckBoxChanged, toggleGroup, onFilenameClick]);\n\n  const resolve = useCallback(async () => {\n    if (selectedExceptions.length) {\n      await resolveSyncExceptions(selectedExceptions);\n      setSelectedExceptions([]);\n    }\n  }, [resolveSyncExceptions, selectedExceptions]);\n\n  return (\n    <div className=\"exception-window\">\n      <div className=\"top-panel\">\n        <img src={syncErrorIcon} alt=\"\" />\n        <div className=\"text\">\n          <div className=\"title\">{$t('syncFolder.exception.title')}</div>\n          <div className=\"desc\">{$t('syncFolder.exception.desc')}</div>\n        </div>\n      </div>\n      <div className=\"content-panel\">\n        {exceptions.length || !exceptionsLoading ? (\n          <div className=\"exception-list\">\n            <div className=\"top-bar\">\n              <input type=\"checkbox\" onChange={onSelectAllChanged} />\n              <div className=\"name\">{$t('syncFolder.exception.filename')}</div>\n              <div className=\"reason\">{$t('syncFolder.exception.reason')}</div>\n              <div className=\"path\">{$t('syncFolder.exception.path')}</div>\n            </div>\n            {renderExceptions()}\n          </div>\n        ) : (\n          <div className=\"scanning\">\n            <img src={loading} alt=\"\" />\n            <div className=\"scanning-text\">{$t('syncFolder.exception.scanning')}</div>\n          </div>\n        )}\n      </div>\n      <div className=\"bottom-panel\">\n        <div className=\"why\" onClick={() => openUrl('https://help.jianguoyun.com/?p=4159')}>\n          {$t('syncFolder.exception.why')}\n        </div>\n        <div\n          className={classNames('resolve', { disabled: selectedExceptions.length === 0 })}\n          onClick={resolve}\n        >\n          {$t('syncFolder.exception.resolve')}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport runApp from '../run-app';\nimport ExceptionWindow from './window';\n\nrunApp(<ExceptionWindow />, ['getSyncExceptions', 'resolveSyncExceptions']);\n"],"sourceRoot":""}