{"version":3,"sources":["hooks/index.ts","java-api/check-java-api-ready.ts","java-api/common-api.ts","java-interop/java-task.ts","java-interop/java-event.ts","java-interop/java-func.ts","i18n/index.ts","helpers/uuidv4.ts","helpers/string-format.ts","helpers/file-type.ts","i18n/i18n-context.ts","assets/file-icons/unknown.svg","assets/light/welcome_logo_light.svg","assets/dark/welcome_logo_dark.svg","hooks/use-i18n-builder.ts","i18n/ui-images.ts","hooks/validation-rules.ts","hooks/use-resize-observer.ts","hooks/use-force-update.ts","hooks/use-combined-refs.ts","hooks/use-lazy-ref.ts","assets/file-icons/ai.svg","assets/file-icons/apk.svg","assets/file-icons/audio.svg","assets/file-icons/code.svg","assets/file-icons/dwg.svg","assets/file-icons/eps.svg","assets/file-icons/excel.svg","assets/file-icons/folder.svg","assets/file-icons/gif.svg","assets/file-icons/image.svg","assets/file-icons/iso.svg","assets/file-icons/md.svg","assets/file-icons/nbmx.svg","assets/file-icons/ngm.svg","assets/file-icons/nol.svg","assets/file-icons/pdf.svg","assets/file-icons/ppt.svg","assets/file-icons/program.svg","assets/file-icons/ps.svg","assets/file-icons/tiff.svg","assets/file-icons/txt.svg","assets/file-icons/video.svg","assets/file-icons/word.svg","assets/file-icons/xmind.svg","assets/file-icons/zip.svg","assets/light/scene_light_1@2x.png","assets/light/scene_light_2@2x.png","assets/light/scene_light_3@2x.png","assets/light/scene_light_4@2x.png","assets/light/scene_light_1_en@2x.png","assets/light/scene_light_2_en@2x.png","assets/light/scene_light_3_en@2x.png","assets/light/scene_light_4_en@2x.png","assets/dark/scene_dark_1@2x.png","assets/dark/scene_dark_2@2x.png","assets/dark/scene_dark_3@2x.png","assets/dark/scene_dark_4@2x.png","assets/dark/scene_dark_1_en@2x.png","assets/dark/scene_dark_2_en@2x.png","assets/dark/scene_dark_3_en@2x.png","assets/dark/scene_dark_4_en@2x.png","assets/app-recommend/banner_1.png","assets/app-recommend/banner_2.png","assets/app-recommend/banner_3.png","assets/app-recommend/banner_4.png","assets/app-recommend/banner_1_en.png","assets/app-recommend/banner_2_en.png","assets/app-recommend/banner_3_en.png","assets/app-recommend/banner_4_en.png","assets/light/about_logo_light.svg","assets/dark/about_logo_dark.svg","assets/main-window/sidebar_hamburg.svg","assets/light/yiyang_install_md.png","assets/light/yiyang_install_md_en.png","assets/dark/yiyang_install_md_dark.png","assets/dark/yiyang_install_md_dark_en.png","assets/light/yiyang_install_nbmx.png","assets/light/yiyang_install_nbmx_en.png","assets/dark/yiyang_install_nbmx_dark.png","assets/dark/yiyang_install_nbmx_dark_en.png","assets/light/yiyang_install_ngm.png","assets/light/yiyang_install_ngm_en.png","assets/dark/yiyang_install_ngm_dark.png","assets/dark/yiyang_install_ngm_dark_en.png","assets/light/yiyang_install_nol.png","assets/light/yiyang_install_nol_en.png","assets/dark/yiyang_install_nol_dark.png","assets/dark/yiyang_install_nol_dark_en.png","components/dialog/dialog-manager.ts","components/dialog/dialog-host.tsx","components/items-control/switch-host.tsx","components/tooltip/tooltip.tsx","components/layout-container/scroll-viewer.tsx","hooks/use-contextmenu-manager.ts","views/run-app.tsx","java-api/yiyang-install-window/yiyang-install-window-api.ts","views/yiyang-install-window/window.tsx","views/yiyang-install-window/index.tsx"],"names":["REQUIRED_JAVA_FUNCS","win","window","waitJavaApiReady","funcNameList","requiredFuncList","concat","Promise","resolve","requestAnimationFrame","step","every","funcName","log","importJavaFunc","isDarkMode","isChineseLocale","JavaTask","invokeToken","this","args","javaFunc","reject","id","getRandomCode","result","dispose","reason","call","JavaEventCenter","eventCenter","Map","channel","handler","has","set","get","push","handlers","toRemovedIndex","findIndex","item","splice","json","forEach","JSON","parse","undefined","subscribeJavaEvent","javaEventCenter","subscribe","fallback","fallbackOrThrow","error","message","Error","e","importJavaPromise","a","javaTask","run","jsonString","useI18n","useI18nBuilder","useCallback","culture","resource","uiStrings_en_US","uiStrings_zh_CN","uuidv4","replace","c","r","Math","random","toString","length","i","stringFormat","format","map","reduce","acc","index","aiIcon","apkIcon","audioIcon","codeIcon","dwgIcon","epsIcon","excelIcon","folderIcon","gifIcon","imageIcon","isoIcon","mdIcon","nbmxIcon","ngmIcon","nolIcon","pdfIcon","pptIcon","programIcon","psIcon","tiffIcon","txtIcon","unknownIcon","videoIcon","wordIcon","xmindIcon","zipIcon","initializeFileIconMap","I18nContext","createContext","module","exports","resourcesProvider","currentCulture","useContext","useMemo","provider","find","finalResource","$t","key","RegExp","useResizeObserver","targetRef","callback","useEffect","target","current","ResizeObserver","resizeObserver","entities","entity","width","contentRect","height","observe","offsetWidth","offsetHeight","disconnect","handleResize","addEventListener","mutationObserver","MutationObserver","document","body","subtree","attributes","attributeFilter","removeEventListener","useForceUpdate","useState","triggerUpdate","oldValue","useCombinedRefs","refs","useRef","React","ref","useLazyRef","factory","DialogManager","setCurrentDialog","dialogEntities","currentDialogEntity","setCurrentDialig","Array","dialog","setCurrentDialogEntity","pop","DialogHostContext","DialogHost","children","currentDialog","dialogManagerRef","contentPlaceholderClass","classNames","blur","maskLayerClass","active","className","Provider","value","SwitchHostContext","SwitchHost","switchMap","registerSwitch","switchName","navigate","unregisterSwitch","delete","viewName","props","selectedNavigate","container","Number","MIN_SAFE_INTEGER","ScrollViewer","forwardRef","scrollBarStyle","enableVerticalScrollBar","enableHorizontalScrollBar","onScroll","style","wrapperRef","scrollContentRef","combinedRef","scrollBarTop","setScrollBarTop","scrollBarHeight","setScrollBarHeight","scrollBarLeft","setScrollBarLeft","scrollBarWidth","setScrollBarWidth","updateSize","view","viewWidth","clientWidth","viewHeight","clientHeight","ratio","scrollWidth","scrollLeft","scrollHeight","scrollTop","childList","wrapperClass","activeHorizontalScrollBar","activeVerticalScrollBar","horizontalScrollBarClass","verticalScrollBarClass","handleScroll","barLeft","barTop","innerOnScroll","handleHorizontalScroll","delta","max","min","deltaX","deltaY","detail","onWheel","left","top","defaultProps","preventFn","event","preventDefault","contextmenuManager","enable","disable","reportError","App","setCulture","classList","add","startDownloadAsync","getFileType","element","requiredJavaFuncNameList","YiYangInstallWindow","downloadProgress","setDownloadProgress","status","setStatus","startDownload","response","state","banner","fileType","dark","ngm_dark","nol_dark","nbmx_dark","md_dark","ngm_light","nol_light","nbmx_light","md_light","ngm_dark_en","nol_dark_en","nbmx_dark_en","md_dark_en","ngm_light_en","nol_light_en","nbmx_light_en","md_light_en","renderStatus","onClick","progress","src","alt","onerror","source","_lineno","_colno","name","stack","onunhandledrejection","then","versionInfo","navigator","appVersion","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.78e29a10.chunk.js","sourcesContent":["export * from '../i18n/language-code';\nexport * from './use-i18n-builder';\nexport * from './use-debounce';\nexport * from './use-verifiable-value';\nexport * from './use-extra-error';\nexport * from './validation-rules';\nexport * from './use-resize-observer';\nexport * from './use-force-update';\nexport * from './use-combined-refs';\nexport * from './use-lazy-ref';\n","const REQUIRED_JAVA_FUNCS = ['log', 'isEnterprise', 'fileProviderEnabled', 'badgeEnabled', 'isDarkMode', 'isChineseLocale'];\nconst win = window as any;\n\n/**\n * Java injects these functions asynchronously, which may not be available in the early stages of web startup.\n * So we need to wait for the java function to register successfully before starting to render react dom.\n */\nexport default function waitJavaApiReady(funcNameList: ReadonlyArray<string>) {\n  const requiredFuncList = REQUIRED_JAVA_FUNCS.concat(funcNameList);\n  return new Promise<void>((resolve) => {\n    function step() {\n      if (requiredFuncList.every((funcName) => !!win[funcName])) {\n        resolve();\n      } else {\n        window.requestAnimationFrame(step);\n      }\n    }\n\n    window.requestAnimationFrame(step);\n  });\n}\n","import { useLazyRef } from '../hooks';\nimport { importJavaFunc } from '../java-interop';\n\ntype LogLevel = 'error' | 'warn' | 'info' | 'debug';\n\nexport const log = importJavaFunc<(level: LogLevel, message: string) => void>('log');\nexport const isDarkMode = importJavaFunc<() => boolean>('isDarkMode', false);\nexport const isChineseLocale = importJavaFunc<() => boolean>('isChineseLocale', false);\nexport const openUrl = importJavaFunc<(url: string) => void>('openUrl');\nexport const isEnterprise = importJavaFunc<() => boolean>('isEnterprise', false);\nexport const openPath = importJavaFunc<(path: string) => void>('openPath');\nexport const openFileWithApp = importJavaFunc<(path: string) => void>('openFileWithApp');\nexport const sendTeaEvent = importJavaFunc<(eventName: string, params?: string) => void>(\n  'sendTeaEvent'\n);\n\nconst isOSXPlatform = importJavaFunc<() => boolean>('isOSXPlatform');\nexport function useIsOSXPlatform() {\n  return useLazyRef(isOSXPlatform);\n}\n\nconst fileProviderEnabled = importJavaFunc<()=> boolean>('fileProviderEnabled');\nexport function useIsFileProviderEnabled() {\n  return useLazyRef(fileProviderEnabled);\n}\n\nconst badgeEnabled = importJavaFunc<() => boolean>('badgeEnabled');\nexport function useIsBadgeEnabled() {\n  return useLazyRef(badgeEnabled);\n}\n\nconst shouldShowUpgradeToFileProviderEntry = importJavaFunc<() => boolean>(\"shouldShowUpgradeToFileProviderEntry\");\nexport function useShouldShowUpgradeToFileProviderEntry() {\n  return useLazyRef(shouldShowUpgradeToFileProviderEntry);\n}\n","import { getRandomCode } from '../helpers';\n\nconst win = window as any;\n\nexport default class JavaTask<T extends (...args: any) => any> {\n  private readonly funcName: string;\n  private invokeToken: string = '';\n\n  constructor(funcName: string) {\n    this.funcName = funcName;\n  }\n\n  run(...args: Parameters<T>): Promise<ReturnType<T>> {\n    const javaFunc = win[this.funcName] as Function;\n    if (!javaFunc) {\n      return Promise.reject(`Not found this function: ${this.funcName}`);\n    }\n\n    const id = getRandomCode(8);\n    this.invokeToken = `JavaTask_${this.funcName}_${id}`;\n\n    return new Promise((resolve, reject) => {\n      // register func_resolve and func_reject\n      win[this.invokeToken] = {\n        resolve: (result: ReturnType<T>) => {\n          this.dispose();\n          resolve(result);\n        },\n        reject: (reason: any) => {\n          this.dispose();\n          reject(reason);\n        },\n      };\n\n      // The id is always the last args.\n      // Alse see: [project]/src/nutstore/client/webui/interop/WebFuncRegistry.java file.\n      javaFunc.call(win, ...(args as any), id);\n    });\n  }\n\n  dispose() {\n    delete win[this.invokeToken];\n  }\n}\n","const win = window as any;\n\nexport type Dispose = () => void;\nexport type EventHandler<T> = (args: T) => void;\n\nclass JavaEventCenter {\n  private eventCenter: Map<string, EventHandler<any>[]> = new Map<string, EventHandler<any>[]>();\n\n  subscribe(channel: string, handler: EventHandler<any>): Dispose {\n    if (!this.eventCenter.has(channel)) {\n      this.eventCenter.set(channel, []);\n    }\n\n    this.eventCenter.get(channel)!.push(handler);\n\n    return () => {\n      const handlers = this.eventCenter.get(channel);\n      if (handlers) {\n        const toRemovedIndex = handlers.findIndex((item) => item === handler);\n        if (toRemovedIndex >= 0) {\n          handlers.splice(toRemovedIndex, 1);\n        }\n      }\n    };\n  }\n\n  publish(channel: string, json: string) {\n    this.eventCenter.get(channel)?.forEach((handler) => {\n      handler(json ? JSON.parse(json) : undefined);\n    });\n  }\n}\n\nexport function subscribeJavaEvent<T>(channel: string, handler: EventHandler<T>): Dispose {\n  if (!win.javaEventCenter) {\n    win.javaEventCenter = new JavaEventCenter();\n  }\n\n  const eventCenter = win.javaEventCenter as JavaEventCenter;\n  return eventCenter.subscribe(channel, handler);\n}\n","import JavaTask from './java-task';\n\nconst win = window as any;\n\nexport type ValueWrapper<T> = {\n  value: T;\n};\n\nexport function importJavaFunc<T extends (...args: any) => any>(\n  funcName: string,\n  fallback?: ReturnType<T>\n): (...args: Parameters<T>) => ReturnType<T> {\n  function fallbackOrThrow(error: () => Error): ReturnType<T> {\n    if (fallback !== undefined) {\n      return fallback;\n    } else {\n      throw error();\n    }\n  }\n\n  return (...args: Parameters<T>): ReturnType<T> => {\n    const javaFunc = win[funcName] as Function;\n    if (!javaFunc) {\n      const message = `Not found this function: ${funcName}`;\n      return fallbackOrThrow(() => new Error(message));\n    }\n\n    try {\n      return javaFunc.call(win, ...(args as any));\n    } catch (e) {\n      return fallbackOrThrow(() => e);\n    }\n  };\n}\n\nexport function importJavaPromise<T extends (...args: any) => any>(\n  funcName: string\n): (...args: Parameters<T>) => Promise<ReturnType<T>> {\n  return async (...args: Parameters<T>) => {\n    const javaTask = new JavaTask<(...args: Parameters<T>) => string>(funcName);\n    try {\n      const jsonString = await javaTask.run(...args);\n      return JSON.parse(jsonString);\n    } finally {\n      javaTask.dispose();\n    }\n  };\n}\n\nexport function importJavaPromiseNonJson<T extends (...args: any) => any>(\n  funcName: string\n): (...args: Parameters<T>) => Promise<ReturnType<T>> {\n  return async (...args: Parameters<T>) => {\n    const javaTask = new JavaTask<(...args: Parameters<T>) => ReturnType<T>>(funcName);\n    try {\n      return await javaTask.run(...args);\n    } finally {\n      javaTask.dispose();\n    }\n  };\n}\n","import { useCallback } from 'react';\nimport { useI18nBuilder, TranslatorType } from '../hooks';\n\nimport uiStrings_en_US from './ui-strings.en-US.json';\nimport uiStrings_zh_CN from './ui-strings.zh-CN.json';\n\nexport * from './language-code';\nexport * from './i18n-context';\nexport * from './ui-images';\n\nexport type UiStringsKeys = keyof typeof uiStrings_en_US;\n\nexport type UiStringTranslator = TranslatorType<UiStringsKeys>;\nexport const useI18n = () =>\n  useI18nBuilder(\n    useCallback(\n      () => [\n        { culture: 'en-US', resource: uiStrings_en_US },\n        { culture: 'zh-CN', resource: uiStrings_zh_CN },\n      ],\n      []\n    )\n  );\n","export function uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport function getRandomCode(length = 6) {\n  let result = '';\n  for (let i = 0; i < length; i++) {\n    result += ((Math.random() * 16) | 0).toString(16);\n  }\n\n  return result;\n}\n","export function stringFormat(format: string, ...args: Array<Object>) {\n  return format && args\n    ? args\n        .map((item) => item?.toString())\n        .reduce((acc, item, index) => acc.replace(`{${index}}`, item), format)\n    : format;\n}\n\nconst bytesUnits = ['', 'K', 'M', 'G', 'T', 'P', 'E'];\n\nexport function getDisplayStringBytes(bytesLength: number, fractionDigits = 2) {\n  let unitIndex = 0;\n  while (bytesLength > 1024 || Math.abs(bytesLength - 1024) < 1e-6) {\n    bytesLength /= 1024;\n    unitIndex++;\n  }\n\n  return `${bytesLength.toFixed(fractionDigits)} ${bytesUnits[unitIndex]}B`;\n}\n","import aiIcon from '../assets/file-icons/ai.svg';\nimport apkIcon from '../assets/file-icons/apk.svg';\nimport audioIcon from '../assets/file-icons/audio.svg';\nimport codeIcon from '../assets/file-icons/code.svg';\nimport dwgIcon from '../assets/file-icons/dwg.svg';\nimport epsIcon from '../assets/file-icons/eps.svg';\nimport excelIcon from '../assets/file-icons/excel.svg';\nimport folderIcon from '../assets/file-icons/folder.svg';\nimport gifIcon from '../assets/file-icons/gif.svg';\nimport imageIcon from '../assets/file-icons/image.svg';\nimport isoIcon from '../assets/file-icons/iso.svg';\nimport mdIcon from '../assets/file-icons/md.svg';\nimport nbmxIcon from '../assets/file-icons/nbmx.svg';\nimport ngmIcon from '../assets/file-icons/ngm.svg';\nimport nolIcon from '../assets/file-icons/nol.svg';\nimport pdfIcon from '../assets/file-icons/pdf.svg';\nimport pptIcon from '../assets/file-icons/ppt.svg';\nimport programIcon from '../assets/file-icons/program.svg';\nimport psIcon from '../assets/file-icons/ps.svg';\nimport tiffIcon from '../assets/file-icons/tiff.svg';\nimport txtIcon from '../assets/file-icons/txt.svg';\nimport unknownIcon from '../assets/file-icons/unknown.svg';\nimport videoIcon from '../assets/file-icons/video.svg';\nimport wordIcon from '../assets/file-icons/word.svg';\nimport xmindIcon from '../assets/file-icons/xmind.svg';\nimport zipIcon from '../assets/file-icons/zip.svg';\n\nexport type FileType =\n  | 'ai'\n  | 'apk'\n  | 'audio'\n  | 'code'\n  | 'dwg'\n  | 'eps'\n  | 'excel'\n  | 'folder'\n  | 'gif'\n  | 'image'\n  | 'iso'\n  | 'md'\n  | 'nbmx'\n  | 'ngm'\n  | 'nol'\n  | 'pdf'\n  | 'ppt'\n  | 'program'\n  | 'ps'\n  | 'tiff'\n  | 'txt'\n  | 'unknown'\n  | 'video'\n  | 'word'\n  | 'xmind'\n  | 'zip';\n\nfunction initializeFileIconMap(): ReadonlyMap<FileType, string> {\n  const map = new Map<FileType, string>();\n  map.set('ai', aiIcon);\n  map.set('apk', apkIcon);\n  map.set('audio', audioIcon);\n  map.set('code', codeIcon);\n  map.set('dwg', dwgIcon);\n  map.set('eps', epsIcon);\n  map.set('excel', excelIcon);\n  map.set('folder', folderIcon);\n  map.set('gif', gifIcon);\n  map.set('image', imageIcon);\n  map.set('iso', isoIcon);\n  map.set('md', mdIcon);\n  map.set('nbmx', nbmxIcon);\n  map.set('ngm', ngmIcon);\n  map.set('nol', nolIcon);\n  map.set('pdf', pdfIcon);\n  map.set('ppt', pptIcon);\n  map.set('program', programIcon);\n  map.set('ps', psIcon);\n  map.set('tiff', tiffIcon);\n  map.set('txt', txtIcon);\n  map.set('unknown', unknownIcon);\n  map.set('video', videoIcon);\n  map.set('word', wordIcon);\n  map.set('xmind', xmindIcon);\n  map.set('zip', zipIcon);\n  return map;\n}\n\nconst FILE_TYPE_MAP: ReadonlyArray<{ type: FileType; exts: ReadonlyArray<string> }> = [\n  { type: 'ai', exts: ['ai'] },\n  { type: 'apk', exts: ['apk'] },\n  { type: 'audio', exts: ['mp3', 'wav', 'aac', 'wma', 'flac', 'ape', 'ogg'] },\n  {\n    type: 'code',\n    exts: [\n      'cs',\n      'c',\n      'cpp',\n      'py',\n      'java',\n      'js',\n      'ts',\n      'xaml',\n      'xml',\n      'json',\n      'yml',\n      'yaml',\n      'vb',\n      'html',\n      'htm',\n      'css',\n      'm',\n      'go',\n      'kt',\n      'kts',\n      'swift',\n      'rs',\n    ],\n  },\n  { type: 'dwg', exts: ['dwg'] },\n  { type: 'eps', exts: ['eps'] },\n  { type: 'excel', exts: ['xls', 'xlsx'] },\n  { type: 'gif', exts: ['gif'] },\n  { type: 'image', exts: ['png', 'jpg', 'jpeg', 'bmp', 'git'] },\n  { type: 'iso', exts: ['iso'] },\n  { type: 'md', exts: ['md'] },\n  { type: 'nbmx', exts: ['nbmx'] },\n  { type: 'ngm', exts: ['ngm'] },\n  { type: 'nol', exts: ['nol'] },\n  { type: 'pdf', exts: ['pdf'] },\n  { type: 'ppt', exts: ['ppt', 'pptx'] },\n  { type: 'program', exts: ['exe', 'bat'] },\n  { type: 'ps', exts: ['psd'] },\n  { type: 'tiff', exts: ['tiff'] },\n  { type: 'txt', exts: ['txt', 'lrc'] },\n  { type: 'video', exts: ['rmvb', 'mp4', 'avi', 'rm', 'wmv', 'flv', 'f4v', 'mkv', '3gp'] },\n  { type: 'word', exts: ['doc', 'docx'] },\n  { type: 'xmind', exts: ['xmind'] },\n  { type: 'zip', exts: ['rar', 'zip', '7z'] },\n];\n\nconst FILE_ICON_MAP = initializeFileIconMap();\n\nexport function getFileIcon(type: FileType): string {\n  return FILE_ICON_MAP.get(type) ?? unknownIcon;\n}\n\nexport function getFileType(path: string, asFolderIfEmptyExt = true): FileType {\n  const ext = getFileExtension(path);\n  if (!ext && asFolderIfEmptyExt) {\n    return 'folder';\n  }\n\n  const matched = FILE_TYPE_MAP.find(({ exts }) => exts.some((item) => item === ext));\n  return matched ? matched.type : 'unknown';\n}\n\nfunction getFileExtension(path: string): string {\n  const lastDotIndex = path.lastIndexOf('.');\n  const lastSeparatorIndex = Math.max(path.lastIndexOf('/'), path.lastIndexOf('\\\\'));\n  return lastDotIndex < path.length && lastDotIndex > lastSeparatorIndex\n    ? path.slice(lastDotIndex + 1)\n    : '';\n}\n","import { createContext } from 'react';\nimport { LanguageCode } from './language-code';\n\nexport const I18nContext = createContext<LanguageCode>('en-US');\n","module.exports = __webpack_public_path__ + \"static/media/unknown.323bb234.svg\";","module.exports = __webpack_public_path__ + \"static/media/welcome_logo_light.74ca91e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/welcome_logo_dark.1a387523.svg\";","import { useMemo, useContext } from 'react';\nimport { LanguageCode, I18nContext } from '../i18n';\nimport { stringFormat } from '../helpers';\n\nexport type I18nResourcePair<T> = {\n  culture: LanguageCode;\n  resource: T;\n};\n\nexport type TranslatorType<T> = (key: T, ...args: Array<Object>) => string;\n\nexport type TranslateType<T> = {\n  readonly $t: TranslatorType<T>;\n};\n\nexport function useI18nBuilder<T extends Record<string, string>>(\n  resourcesProvider: () => Array<I18nResourcePair<T>>\n): TranslateType<keyof T> {\n  const currentCulture = useContext(I18nContext);\n  return useMemo(() => {\n    const provider = resourcesProvider();\n    if (!provider) {\n      throw new Error(`The resources provider can not return null or empty array.`);\n    }\n\n    const resource = provider.find((item) => item.culture === currentCulture);\n\n    const finalResource = resource?.resource ?? provider[0].resource;\n    return {\n      $t: (key, ...args) => stringFormat(finalResource[key], args),\n    };\n  }, [currentCulture, resourcesProvider]);\n}\n","import { useContext, useMemo } from 'react';\nimport { I18nContext } from './i18n-context';\nimport { isDarkMode } from '../java-api';\n\nimport slide1_light_zh_CN from '../assets/light/scene_light_1@2x.png';\nimport slide2_light_zh_CN from '../assets/light/scene_light_2@2x.png';\nimport slide3_light_zh_CN from '../assets/light/scene_light_3@2x.png';\nimport slide4_light_zh_CN from '../assets/light/scene_light_4@2x.png';\n\nimport slide1_light_en_US from '../assets/light/scene_light_1_en@2x.png';\nimport slide2_light_en_US from '../assets/light/scene_light_2_en@2x.png';\nimport slide3_light_en_US from '../assets/light/scene_light_3_en@2x.png';\nimport slide4_light_en_US from '../assets/light/scene_light_4_en@2x.png';\n\nimport slide1_dark_zh_CN from '../assets/dark/scene_dark_1@2x.png';\nimport slide2_dark_zh_CN from '../assets/dark/scene_dark_2@2x.png';\nimport slide3_dark_zh_CN from '../assets/dark/scene_dark_3@2x.png';\nimport slide4_dark_zh_CN from '../assets/dark/scene_dark_4@2x.png';\n\nimport slide1_dark_en_US from '../assets/dark/scene_dark_1_en@2x.png';\nimport slide2_dark_en_US from '../assets/dark/scene_dark_2_en@2x.png';\nimport slide3_dark_en_US from '../assets/dark/scene_dark_3_en@2x.png';\nimport slide4_dark_en_US from '../assets/dark/scene_dark_4_en@2x.png';\n\nimport nutstoreLogo_light from '../assets/light/welcome_logo_light.svg';\nimport nutstoreLogo_dark from '../assets/dark/welcome_logo_dark.svg';\n\nimport bannerImage1_zh_CN from '../assets/app-recommend/banner_1.png';\nimport bannerImage2_zh_CN from '../assets/app-recommend/banner_2.png';\nimport bannerImage3_zh_CN from '../assets/app-recommend/banner_3.png';\nimport bannerImage4_zh_CN from '../assets/app-recommend/banner_4.png';\n\nimport bannerImage1_en_US from '../assets/app-recommend/banner_1_en.png';\nimport bannerImage2_en_US from '../assets/app-recommend/banner_2_en.png';\nimport bannerImage3_en_US from '../assets/app-recommend/banner_3_en.png';\nimport bannerImage4_en_US from '../assets/app-recommend/banner_4_en.png';\n\nimport aboutLogo_light from '../assets/light/about_logo_light.svg';\nimport aboutLogo_dark from '../assets/dark/about_logo_dark.svg';\n\ntype ImagesType = {\n  slide1: string;\n  slide2: string;\n  slide3: string;\n  slide4: string;\n  nutstoreLogo: string;\n};\n\nexport function useImages(): ImagesType {\n  const culture = useContext(I18nContext);\n  return useMemo(() => {\n    if (culture === 'zh-CN') {\n      if (isDarkMode()) {\n        return {\n          slide1: slide1_dark_zh_CN,\n          slide2: slide2_dark_zh_CN,\n          slide3: slide3_dark_zh_CN,\n          slide4: slide4_dark_zh_CN,\n          nutstoreLogo: nutstoreLogo_dark,\n        };\n      } else {\n        return {\n          slide1: slide1_light_zh_CN,\n          slide2: slide2_light_zh_CN,\n          slide3: slide3_light_zh_CN,\n          slide4: slide4_light_zh_CN,\n          nutstoreLogo: nutstoreLogo_light,\n        };\n      }\n    } else {\n      if (isDarkMode()) {\n        return {\n          slide1: slide1_dark_en_US,\n          slide2: slide2_dark_en_US,\n          slide3: slide3_dark_en_US,\n          slide4: slide4_dark_en_US,\n          nutstoreLogo: nutstoreLogo_dark,\n        };\n      } else {\n        return {\n          slide1: slide1_light_en_US,\n          slide2: slide2_light_en_US,\n          slide3: slide3_light_en_US,\n          slide4: slide4_light_en_US,\n          nutstoreLogo: nutstoreLogo_light,\n        };\n      }\n    }\n  }, [culture]);\n}\n\ntype BannerImage = {\n  banner1: string;\n  banner2: string;\n  banner3: string;\n  banner4: string;\n};\n\nexport function useBannerImages(): BannerImage {\n  const culture = useContext(I18nContext);\n  return useMemo(() => {\n    if (culture === 'zh-CN') {\n      return {\n        banner1: bannerImage1_zh_CN,\n        banner2: bannerImage2_zh_CN,\n        banner3: bannerImage3_zh_CN,\n        banner4: bannerImage4_zh_CN,\n      };\n    } else {\n      return {\n        banner1: bannerImage1_en_US,\n        banner2: bannerImage2_en_US,\n        banner3: bannerImage3_en_US,\n        banner4: bannerImage4_en_US,\n      };\n    }\n  }, [culture]);\n}\n\nexport function useAboutLogo(): string {\n  return isDarkMode() ? aboutLogo_dark : aboutLogo_light;\n}\n","import { ConfigureRule, TranslatorType } from '.';\nimport { UiStringsKeys } from '../i18n';\nimport { useCallback } from 'react';\n\n// Ref to: https://stackoverflow.com/a/37668315\n// The '\\p{L}' is not supported in JavaScript.\nconst pL =\n  'A-Za-z\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC';\n\nconst REGEX_EMAIL = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9]([a-zA-Z0-9]|((.|-)[a-zA-Z0-9]))*\\.[a-zA-Z]{2,}$/;\nconst REGEX_NICKNAME = new RegExp(`^[-_ 0-9a-zA-Z${pL}]{0,20}$`);\nconst REGEX_PHONE_NUMBER_CHINA = /^(1(3|4|5|6|7|8|9))\\d{9}$/;\nconst REGEX_PHONE_NUMBER_INTERNATIONAL = /[0-9]{3,14}/;\nconst REGEX_PASSCODE = /\\d{6}/;\nconst REGEX_NUMBER = /^\\d+?$/;\n\nconst AREA_CODE_CHINA = '+86';\n\nexport const noRules: ConfigureRule<any> = () => {};\n\nexport function useNotEmptyRule($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config.addRule(\n        (value) => !!value,\n        () => $t('error.cannotEmpty')\n      );\n    },\n    [$t]\n  );\n}\n\nexport function useEmailRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.pleaseEnterEmail')\n        )\n        .addRule(\n          (value) => value.length >= 4,\n          () => $t('error.emailTooShort')\n        )\n        .addRule(\n          (value) => value.length <= 54,\n          () => $t('error.emailTooLong')\n        )\n        .addRule(\n          (value) => !value.endsWith('.con'),\n          () => $t('error.invalidEmailSuffix')\n        )\n        .addRule(\n          (value) => REGEX_EMAIL.test(value),\n          () => $t('error.invalidEmailPleaseModifyAndRetry')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function usePasswordRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.passwordEmpty')\n        )\n        .addRule(\n          (value) => value.length >= 6,\n          () => $t('error.passwordTooShort')\n        )\n        .addRule(\n          (value) => value.length <= 54,\n          () => $t('error.passwordTooLong')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function useNicknameRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !value || value.length <= 20,\n          () => $t('error.nicknameTooLong')\n        )\n        .addRule(\n          (value) => !value || REGEX_NICKNAME.test(value),\n          () => $t('error.nicknameInvalidFormat')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function usePhoneNumberRules(\n  $t: TranslatorType<UiStringsKeys>,\n  areaCodeGetter: () => string\n): ConfigureRule<string> {\n  return useCallback(\n    (config) =>\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.cannotEmpty')\n        )\n        .addRule(\n          (value) => {\n            const areaCode = areaCodeGetter();\n            return !!value && areaCode === AREA_CODE_CHINA\n              ? REGEX_PHONE_NUMBER_CHINA.test(value)\n              : REGEX_PHONE_NUMBER_INTERNATIONAL.test(value);\n          },\n          () => $t('error.phoneInvalid')\n        ),\n    [$t, areaCodeGetter]\n  );\n}\n\nexport function usePasscodeRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.cannotEmpty')\n        )\n        .addRule(\n          (value) => REGEX_PASSCODE.test(value),\n          () => $t('error.invalidPasscode')\n        );\n    },\n    [$t]\n  );\n}\n\nexport function useIPRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config.addRule(\n        (value) => !!value,\n        () => $t('error.cannotEmpty')\n      );\n      // TODO: Could the IP here support the domain name string?\n      // .addRule(\n      //   (value) => /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/.test(value),\n      //   () => $t('error.invalidIPAddress')\n      // );\n    },\n    [$t]\n  );\n}\n\nexport function useNumberRules($t: TranslatorType<UiStringsKeys>): ConfigureRule<string> {\n  return useCallback(\n    (config) => {\n      config\n        .addRule(\n          (value) => !!value,\n          () => $t('error.cannotEmpty')\n        )\n        .addRule(\n          (value) => REGEX_NUMBER.test(value),\n          () => $t('error.invalidPort')\n        );\n    },\n    [$t]\n  );\n}\n","import { RefObject, useEffect } from 'react';\nimport { log } from '../java-api';\n\nexport type Size = {\n  width: number;\n  height: number;\n};\n\nexport function useResizeObserver<T extends HTMLElement>(\n  targetRef: RefObject<T>,\n  callback: (rect: Size) => void\n) {\n  useEffect(() => {\n    const target = targetRef.current;\n    if (!target) return;\n\n    if (window.ResizeObserver) {\n      log('debug', 'The current browser is support the ResizeObserver.');\n      const resizeObserver = new ResizeObserver((entities) =>\n        // Ref: https://stackoverflow.com/a/58701523/9078911\n        window.requestAnimationFrame(() => {\n          const entity = entities[0];\n          callback({\n            width: entity.contentRect.width,\n            height: entity.contentRect.height,\n          });\n        })\n      );\n\n      resizeObserver.observe(target);\n      callback({\n        width: target.offsetWidth,\n        height: target.offsetHeight,\n      });\n\n      return () => resizeObserver.disconnect();\n    } else {\n      // Fall back to resize event.\n      log('debug', 'Fallback to resize event.');\n      const handleResize = () =>\n        callback({\n          width: target.offsetWidth,\n          height: target.offsetHeight,\n        });\n      handleResize();\n      window.addEventListener('resize', handleResize);\n\n      const mutationObserver = new MutationObserver(handleResize);\n      mutationObserver.observe(document.body, {\n        subtree: true,\n        attributes: true,\n        attributeFilter: ['class'],\n      });\n\n      return () => {\n        window.removeEventListener('resize', handleResize);\n        mutationObserver.disconnect();\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [callback]);\n}\n","import { useCallback, useState } from 'react';\n\nexport function useForceUpdate() {\n  const [, triggerUpdate] = useState(false);\n\n  return useCallback(() => triggerUpdate((oldValue) => !oldValue), []);\n}\n","// Ref to: https://itnext.io/reusing-the-ref-from-forwardref-with-react-hooks-4ce9df693dd\n\nimport React, { Ref, useRef } from 'react';\n\nexport function useCombinedRefs<T extends HTMLElement>(...refs: Ref<T>[]) {\n  const targetRef = useRef<T>(null);\n\n  React.useEffect(() => {\n    refs.forEach((ref) => {\n      if (!ref) return;\n\n      if (typeof ref === 'function') {\n        ref(targetRef.current);\n      } else {\n        (ref as any).current = targetRef.current;\n      }\n    });\n  }, [refs]);\n\n  return targetRef;\n}\n","import { useRef } from 'react';\n\nexport function useLazyRef<T>(factory: () => T) {\n  const ref = useRef<T>();\n  const getter = () => {\n    if (!ref.current) {\n      ref.current = factory();\n    }\n\n    return ref.current;\n  };\n\n  return getter();\n}\n","module.exports = __webpack_public_path__ + \"static/media/ai.27eb9766.svg\";","module.exports = __webpack_public_path__ + \"static/media/apk.440d995c.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.9dd4506c.svg\";","module.exports = __webpack_public_path__ + \"static/media/code.8ecae0ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/dwg.e1f581a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/eps.98f3421f.svg\";","module.exports = __webpack_public_path__ + \"static/media/excel.f40d4885.svg\";","module.exports = __webpack_public_path__ + \"static/media/folder.d2ab7032.svg\";","module.exports = __webpack_public_path__ + \"static/media/gif.92f05f10.svg\";","module.exports = __webpack_public_path__ + \"static/media/image.ecc1c97e.svg\";","module.exports = __webpack_public_path__ + \"static/media/iso.ee6977ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/md.e52b98fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/nbmx.27a4b173.svg\";","module.exports = __webpack_public_path__ + \"static/media/ngm.6845bdb4.svg\";","module.exports = __webpack_public_path__ + \"static/media/nol.1423c8a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/pdf.140e0845.svg\";","module.exports = __webpack_public_path__ + \"static/media/ppt.acf1128b.svg\";","module.exports = __webpack_public_path__ + \"static/media/program.a1780ee9.svg\";","module.exports = __webpack_public_path__ + \"static/media/ps.72a873b1.svg\";","module.exports = __webpack_public_path__ + \"static/media/tiff.7ed657f9.svg\";","module.exports = __webpack_public_path__ + \"static/media/txt.68289999.svg\";","module.exports = __webpack_public_path__ + \"static/media/video.d98bc694.svg\";","module.exports = __webpack_public_path__ + \"static/media/word.4d8a5a32.svg\";","module.exports = __webpack_public_path__ + \"static/media/xmind.b82bee1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/zip.96ec6f2b.svg\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_1@2x.2a586d8a.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_2@2x.ee2be058.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_3@2x.b1e9fcd6.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_4@2x.9f02aaa9.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_1_en@2x.d04d77f1.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_2_en@2x.c0587da2.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_3_en@2x.2406b168.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_light_4_en@2x.34c276f8.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_1@2x.0a9911f5.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_2@2x.ea11bae4.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_3@2x.7595ace7.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_4@2x.b00f9ccf.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_1_en@2x.d99404e1.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_2_en@2x.95c49d02.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_3_en@2x.043fd0e3.png\";","module.exports = __webpack_public_path__ + \"static/media/scene_dark_4_en@2x.caaebc11.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_1.5948760f.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_2.bc2a7cec.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_3.aabaae5b.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_4.7b4672db.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_1_en.d2fadabd.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_2_en.ee63faed.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_3_en.2b1a968d.png\";","module.exports = __webpack_public_path__ + \"static/media/banner_4_en.79165864.png\";","module.exports = __webpack_public_path__ + \"static/media/about_logo_light.6299e330.svg\";","module.exports = __webpack_public_path__ + \"static/media/about_logo_dark.5a4f54a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/sidebar_hamburg.478ac7c8.svg\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_md.af6c57f6.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_md_en.09d71d3d.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_md_dark.a411e7fa.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_md_dark_en.e0412f37.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_nbmx.c1022d49.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_nbmx_en.138808ea.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_nbmx_dark.aba5dfa3.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_nbmx_dark_en.4e72ad4e.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_ngm.fe91af70.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_ngm_en.69a288c0.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_ngm_dark.1d196d14.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_ngm_dark_en.7efca8e6.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_nol.58fd569f.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_nol_en.aa5b3b85.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_nol_dark.2cedb0f5.png\";","module.exports = __webpack_public_path__ + \"static/media/yiyang_install_nol_dark_en.54b4e9bc.png\";","import { ReactNode } from 'react';\n\nexport type DialogEntity = { id: string; dialog: ReactNode };\n\nexport default class DialogManager {\n  private dialogEntities: Array<DialogEntity>;\n\n  private currentDialogEntity?: DialogEntity;\n\n  private setCurrentDialig: (dialog: ReactNode | undefined) => void;\n\n  constructor(setCurrentDialog: (dialog: ReactNode | undefined) => void) {\n    this.dialogEntities = new Array<DialogEntity>();\n    this.setCurrentDialig = setCurrentDialog;\n  }\n\n  show(id: string, dialog: ReactNode): void {\n    if (!dialog) return;\n\n    if (this.currentDialogEntity) {\n      this.dialogEntities.push(this.currentDialogEntity);\n    }\n\n    this.setCurrentDialogEntity({ id, dialog });\n  }\n\n  close(id: string): void {\n    if (this.currentDialogEntity?.id === id) {\n      // 1. Close current dialog:\n      this.setCurrentDialogEntity(this.dialogEntities.pop());\n    } else {\n      // 2. Close the dialog in the stack:\n      const index = this.dialogEntities.findIndex((entity) => entity.id === id);\n      if (index !== -1) {\n        this.dialogEntities.splice(index, 1);\n      }\n    }\n  }\n\n  private setCurrentDialogEntity(entity: DialogEntity | undefined): void {\n    this.currentDialogEntity = entity;\n    this.setCurrentDialig(entity ? entity.dialog : undefined);\n  }\n}\n","import React, { ReactNode, createContext, useState, useContext, useRef, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { uuidv4 } from '../../helpers';\nimport DialogManager from './dialog-manager';\n\ninterface DialogHostProps {\n  children: ReactNode;\n}\n\nconst DialogHostContext = createContext<DialogManager>(undefined as any);\n\nexport interface DialogToken<T> {\n  show(): Promise<T>;\n  close(): void;\n}\n\ntype DialogFactory<T> = (close: (value: T) => void) => ReactNode;\n\nexport interface DialogBuilder {\n  build<T>(factory: DialogFactory<T>): DialogToken<T>;\n}\n\nclass DialogBuilderInternal implements DialogBuilder {\n  private _manager: DialogManager;\n\n  constructor(manager: DialogManager) {\n    this._manager = manager;\n  }\n\n  build<T>(factory: DialogFactory<T>): DialogToken<T> {\n    let id: string;\n    const close = () => this._manager.close(id);\n    const show = () =>\n      new Promise<T>((resolve) => {\n        id = uuidv4();\n        const dialog = factory((value) => {\n          resolve(value);\n          close();\n        });\n        this._manager.show(id, dialog);\n      });\n    return { show, close };\n  }\n}\n\nexport function useDialogBuilder(): DialogBuilder {\n  const manager = useContext(DialogHostContext);\n  if (!manager) {\n    throw new Error(\n      'The ancestor nodes of the current element does not contain <DialogHost />, ' +\n        'please make sure to use useDialog(Builder) hook in the descendants of <DialogHost />.'\n    );\n  }\n\n  return useMemo(() => new DialogBuilderInternal(manager), [manager]);\n}\n\nexport function useDialog<T>(factory: DialogFactory<T>): DialogToken<T> {\n  const builder = useDialogBuilder();\n  return useMemo(() => builder.build(factory), [builder, factory]);\n}\n\nexport function DialogHost({ children }: DialogHostProps) {\n  const [currentDialog, setCurrentDialog] = useState<ReactNode>();\n  const dialogManagerRef = useRef(new DialogManager(setCurrentDialog));\n\n  const contentPlaceholderClass = classNames('content-placeholder', {\n    blur: currentDialog,\n  });\n  const maskLayerClass = classNames('dialog-mask-layer', {\n    active: currentDialog,\n  });\n\n  return (\n    <div className=\"dialog-host\">\n      <DialogHostContext.Provider value={dialogManagerRef.current}>\n        <div className={contentPlaceholderClass}>{children}</div>\n        <div className={maskLayerClass}>\n          <div className=\"dialog-placeholder\">{currentDialog}</div>\n        </div>\n      </DialogHostContext.Provider>\n    </div>\n  );\n}\n","import React, { createContext, useContext, ReactNode, useMemo, useCallback } from 'react';\n\nexport type Navigate = (viewName: string, props: any) => void;\ntype Navigator = (switchName: string, viewName: string, props?: any) => void;\n\ntype SwitchHostContextType = {\n  registerSwitch: (switchName: string, navigate: Navigate) => void;\n  unregisterSwitch: (switchName: string) => void;\n  navigate: Navigator;\n};\n\nexport const SwitchHostContext = createContext<SwitchHostContextType>(undefined as any);\n\nexport function useNavigator<T extends string>(switchName: string) {\n  const context = useContext(SwitchHostContext);\n  return useCallback(\n    (viewName: T, props?: any) => {\n      context.navigate(switchName, viewName, props);\n    },\n    [context, switchName]\n  );\n}\n\nexport function SwitchHost({ children }: { children: ReactNode }) {\n  const switchMap = useMemo(() => new Map<string, Navigate>(), []);\n  const registerSwitch = useCallback(\n    (switchName: string, navigate: Navigate) => {\n      if (switchMap.has(switchName)) {\n        throw new Error('The same switch name already exists.');\n      }\n\n      switchMap.set(switchName, navigate);\n    },\n    [switchMap]\n  );\n  const unregisterSwitch = useCallback((switchName: string) => switchMap.delete(switchName), [\n    switchMap,\n  ]);\n  const navigate = useCallback(\n    (switchName: string, viewName: string, props: any) => {\n      const selectedNavigate = switchMap.get(switchName);\n      if (!selectedNavigate) {\n        throw new Error(`Not found the switch named ${switchName}.`);\n      }\n\n      selectedNavigate(viewName, props);\n    },\n    [switchMap]\n  );\n\n  return (\n    <SwitchHostContext.Provider value={{ registerSwitch, unregisterSwitch, navigate }}>\n      {children}\n    </SwitchHostContext.Provider>\n  );\n}\n","import React, { useRef, useEffect, useState, ReactElement } from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\n\ninterface TooltipProps {\n  title: string;\n  width?: string;\n  children: ReactElement<any>;\n  placement?: 'top' | 'bottom' | 'left' | 'right';\n}\n\nconst getContainerElement = (function () {\n  let container: HTMLDivElement | null = null;\n\n  return () => {\n    if (container) return container;\n    container = document.createElement('div');\n    container.className = 'tooltip-container';\n    document.body.appendChild(container);\n    return container;\n  };\n})();\n\ntype Point = {\n  x: number;\n  y: number;\n};\n\nconst InvalidPoint = {\n  x: Number.MIN_SAFE_INTEGER,\n  y: Number.MIN_SAFE_INTEGER,\n};\n\nexport default function Tooltip({ title, width, children, placement = 'bottom' }: TooltipProps) {\n  const contentRef = useRef<HTMLDivElement>(null);\n  const tooltipRef = useRef<HTMLSpanElement>(null);\n  const [position, setPosition] = useState<Point>(InvalidPoint);\n  const [active, setActive] = useState(false);\n  useEffect(() => {\n    if (!active) {\n      setPosition(InvalidPoint);\n      return;\n    }\n\n    if (active && contentRef.current && tooltipRef.current) {\n      const contentRect = contentRef.current.getBoundingClientRect();\n      const tooltipRect = tooltipRef.current.getBoundingClientRect();\n\n      switch (placement) {\n        case 'top':\n          setPosition({\n            x: contentRect.x + (contentRect.width - tooltipRect.width) / 2,\n            y: contentRect.y - tooltipRect.height - 8,\n          });\n          break;\n        case 'bottom':\n          setPosition({\n            x: contentRect.x + (contentRect.width - tooltipRect.width) / 2,\n            y: contentRect.y + contentRect.height + 8,\n          });\n          break;\n        case 'left':\n          setPosition({\n            x: contentRect.x - tooltipRect.width - 8,\n            y: contentRect.y + (contentRect.height - tooltipRect.height) / 2,\n          });\n          break;\n        case 'right':\n          setPosition({\n            x: contentRect.x + contentRect.width + 8,\n            y: contentRect.y + (contentRect.height - tooltipRect.height) / 2,\n          });\n          break;\n        default:\n          setPosition(InvalidPoint);\n          break;\n      }\n    }\n  }, [active, placement]);\n\n  const tooltipRoot = getContainerElement();\n  const contentClass = classNames(children.props.className, 'tooltip-content');\n  const tooltipClass = classNames('tooltip-text', { active });\n  return (\n    <>\n      {React.cloneElement(children, {\n        ref: contentRef,\n        className: contentClass,\n        onMouseEnter: () => setActive(true),\n        onMouseLeave: () => setActive(false),\n      })}\n      {ReactDOM.createPortal(\n        <span\n          ref={tooltipRef}\n          className={tooltipClass}\n          style={{\n            left: `${position.x}px`,\n            top: `${position.y}px`,\n            maxWidth: width,\n            visibility: active ? 'visible' : 'hidden',\n          }}\n        >\n          {title}\n        </span>,\n        tooltipRoot\n      )}\n    </>\n  );\n}\n","import classNames from 'classnames';\nimport React, {\n  HTMLAttributes,\n  ReactNode,\n  Ref,\n  UIEventHandler,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { useCombinedRefs, useResizeObserver } from '../../hooks';\n\nconst FLOAT_TOLERANCE = 1e-3;\n\ntype ScrollBarStyle = 'inline' | 'overlay';\ninterface ScrollViewerProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  scrollBarStyle?: ScrollBarStyle;\n  enableVerticalScrollBar?: boolean;\n  enableHorizontalScrollBar?: boolean;\n}\n\nconst ScrollViewer = React.forwardRef(\n  (\n    {\n      children,\n      scrollBarStyle,\n      enableVerticalScrollBar,\n      enableHorizontalScrollBar,\n      className,\n      onScroll,\n      style,\n    }: ScrollViewerProps,\n    ref: Ref<HTMLDivElement>\n  ) => {\n    const wrapperRef = useRef<HTMLDivElement>(null);\n    const scrollContentRef = useRef<HTMLDivElement>(null);\n    const combinedRef = useCombinedRefs(ref, wrapperRef);\n    const [scrollBarTop, setScrollBarTop] = useState(0);\n    const [scrollBarHeight, setScrollBarHeight] = useState(0);\n    const [scrollBarLeft, setScrollBarLeft] = useState(0);\n    const [scrollBarWidth, setScrollBarWidth] = useState(0);\n\n    const updateSize = useCallback(() => {\n      const view = wrapperRef.current;\n      if (!view) return;\n      const viewWidth = view.clientWidth;\n      const viewHeight = view.clientHeight;\n\n      if (enableHorizontalScrollBar) {\n        const ratio = viewWidth / view.scrollWidth;\n        setScrollBarWidth(viewWidth * ratio);\n        setScrollBarLeft(view.scrollLeft * ratio);\n      }\n\n      if (enableVerticalScrollBar) {\n        const ratio = viewHeight / view.scrollHeight;\n        setScrollBarHeight(viewHeight * ratio);\n        setScrollBarTop(view.scrollTop * ratio);\n      }\n    }, [enableHorizontalScrollBar, enableVerticalScrollBar]);\n    useResizeObserver(wrapperRef, updateSize);\n    useResizeObserver(scrollContentRef, updateSize);\n    useEffect(() => {\n      if (scrollContentRef.current) {\n        const mutationObserver = new MutationObserver(() => updateSize());\n        mutationObserver.observe(scrollContentRef.current, {\n          childList: true,\n          subtree: true,\n        });\n        return () => mutationObserver.disconnect();\n      }\n    }, [updateSize]);\n\n    const wrapperClass = classNames(\n      'scroll-viewer-wrapper',\n      className,\n      `${scrollBarStyle ?? 'overlay'}`\n    );\n\n    const activeHorizontalScrollBar =\n      enableHorizontalScrollBar &&\n      wrapperRef.current &&\n      wrapperRef.current.scrollWidth - wrapperRef.current.clientWidth > FLOAT_TOLERANCE;\n    const activeVerticalScrollBar =\n      enableVerticalScrollBar &&\n      wrapperRef.current &&\n      wrapperRef.current.scrollHeight - wrapperRef.current.clientHeight > FLOAT_TOLERANCE;\n\n    const horizontalScrollBarClass = classNames('scroll-bar', 'horizontal', {\n      active: activeHorizontalScrollBar,\n    });\n    const verticalScrollBarClass = classNames('scroll-bar', 'vertical', {\n      active: activeVerticalScrollBar,\n    });\n\n    const handleScroll = useCallback(() => {\n      const view = wrapperRef.current;\n      if (!view) return;\n\n      if (activeHorizontalScrollBar) {\n        const barLeft = (view.clientWidth * view.scrollLeft) / view.scrollWidth;\n        setScrollBarLeft(barLeft);\n      }\n\n      if (activeVerticalScrollBar) {\n        const barTop = (view.clientHeight * view.scrollTop) / view.scrollHeight;\n        setScrollBarTop(barTop);\n      }\n    }, [activeHorizontalScrollBar, activeVerticalScrollBar]);\n    const innerOnScroll = useCallback<UIEventHandler<HTMLDivElement>>(\n      (...args) => {\n        handleScroll();\n        if (onScroll) {\n          onScroll(...args);\n        }\n      },\n      [handleScroll, onScroll]\n    );\n    const handleHorizontalScroll = useCallback(\n      (e: React.WheelEvent<HTMLDivElement>) => {\n        if (!wrapperRef.current || !enableHorizontalScrollBar) return;\n        // https://stackoverflow.com/a/15343916\n        const delta = Math.max(-1, Math.min(1, e.deltaX || e.deltaY || -e.detail));\n        wrapperRef.current.scrollLeft += delta * 40;\n      },\n      [enableHorizontalScrollBar]\n    );\n\n    return (\n      <div className={wrapperClass} style={style}>\n        <div\n          ref={combinedRef}\n          className=\"scroll-view\"\n          onScroll={innerOnScroll}\n          onWheel={handleHorizontalScroll}\n        >\n          <div ref={scrollContentRef} className=\"scroll-content\">\n            {children}\n          </div>\n        </div>\n        {enableHorizontalScrollBar ? (\n          <div className={horizontalScrollBarClass}>\n            <div\n              className=\"scroll-thumb\"\n              style={{\n                left: scrollBarLeft || 0,\n                width: activeHorizontalScrollBar && scrollBarWidth ? scrollBarWidth : 0,\n              }}\n            />\n          </div>\n        ) : null}\n        {enableVerticalScrollBar ? (\n          <div className={verticalScrollBarClass}>\n            <div\n              className=\"scroll-thumb\"\n              style={{\n                top: scrollBarTop || 0,\n                height: activeVerticalScrollBar && scrollBarHeight ? scrollBarHeight : 0,\n              }}\n            />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n);\n\nScrollViewer.defaultProps = {\n  scrollBarStyle: 'overlay',\n  enableHorizontalScrollBar: false,\n  enableVerticalScrollBar: false,\n};\n\nexport default ScrollViewer;\n","import { useClickCombo } from \"./use-click-combo\";\n\ninterface ContextmenuManger {\n  enable(): void\n  disable(): void\n}\n\nconst preventFn = (event: Event) => event.preventDefault()\n\nconst contextmenuManager: ContextmenuManger = {\n  enable() {\n    window.removeEventListener('contextmenu', preventFn)\n  },\n  disable() {\n    window.addEventListener('contextmenu', preventFn)\n  },\n}\n\nexport function getContextmenuManager(): ContextmenuManger {\n  return contextmenuManager\n}\n\nexport function useContextmenuClickCombo(): {\n  click(): void\n} {\n  return useClickCombo({\n    timeout: 1000 * 10,\n    times: 10,\n    onFire() {\n      contextmenuManager.enable()\n      alert('Contextmenu enabled')\n    },\n  }, []);\n}\n","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { DialogHost } from '../components/dialog';\nimport { SwitchHost } from '../components/items-control';\nimport { LanguageCode, I18nContext } from '../i18n';\nimport { isDarkMode, isChineseLocale, waitJavaApiReady, log } from '../java-api';\n\nimport '../styles/normalize.css';\nimport '../styles/index.scss';\nimport { getContextmenuManager } from '../hooks/use-contextmenu-manager';\n\nfunction reportError(message: string) {\n  try {\n    log('warn', message);\n  } catch {\n    // Ignore\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    log('error', message);\n  }\n}\n\nfunction App({ children }: { children: React.FunctionComponentElement<any> }) {\n  const [culture, setCulture] = useState<LanguageCode>('zh-CN');\n  useEffect(() => {\n    if (isDarkMode()) {\n      document.body.classList.add('theme-dark');\n    }\n\n    setCulture(isChineseLocale() ? 'zh-CN' : 'en-US');\n  }, []);\n\n  return (\n    <I18nContext.Provider value={culture}>\n      <SwitchHost>\n        <DialogHost>{children}</DialogHost>\n      </SwitchHost>\n    </I18nContext.Provider>\n  );\n}\n\n/**\n * Run the specified app component after specified Java functions are registered successfully.\n *\n * Because the registration of the java function is asynchronous.\n * It is possible that the registration is not successful after the UI is displayed,\n * which will cause the call to fail.\n *\n * @param element The specified app component.\n * @param requiredJavaFuncNameList The specified Java functions list.\n */\nexport default function runApp(\n  element: React.FunctionComponentElement<any>,\n  requiredJavaFuncNameList?: ReadonlyArray<string>\n) {\n  // Debug\n  window.onerror = (e, source, _lineno, _colno, error) => {\n    const message = `error=${e}, source=${source}, name=${error?.name}, message=${error?.message} \\n\\n ${error?.stack}`;\n    reportError(message);\n  };\n  window.onunhandledrejection = (error: any) => {\n    const message = `PROMISE REJECT ERROR: reason=${error?.reason}, error=${error}`;\n    reportError(message);\n  };\n\n  getContextmenuManager().disable();\n\n  const render = () => {\n    // Log the current browser version.\n    const versionInfo = `The current browser version is [${navigator.appVersion}]`;\n    try {\n      log('info', versionInfo);\n    } catch {\n      log('error', versionInfo);\n    }\n\n    ReactDOM.render(\n      <React.StrictMode>\n        <App>{element}</App>\n      </React.StrictMode>,\n      document.getElementById('root')\n    );\n  };\n\n  if (process.env.NODE_ENV === 'production') {\n    waitJavaApiReady(requiredJavaFuncNameList ?? []).then(render);\n  } else {\n    import('../java-api/mock/index').then(render);\n  }\n}\n","// ***************************************************************************\n// YiYang Install Api\n// ***************************************************************************\n\nimport {\n  Dispose,\n  EventHandler,\n  importJavaFunc,\n  importJavaPromise,\n  subscribeJavaEvent,\n} from '../../java-interop';\n\ntype SuccessState = {\n  state: 'success';\n};\n\ntype FailedState = {\n  state: 'failed';\n  message: string;\n};\n\nexport type DownloadState = SuccessState | FailedState;\n\nexport type DownloadProgress = {\n  progress: number; // Download progress, 0-100\n  speedInBytes: number; // Average download speed in bytes\n};\n\nexport const startDownloadAsync = importJavaPromise<() => DownloadState>('startDownload');\nexport const getFileType = importJavaFunc<() => string>('getFileType');\n\nexport function subscribeDownloadProgressEvent(handler: EventHandler<DownloadProgress>): Dispose {\n  return subscribeJavaEvent('update-yiyang-download-progress', handler);\n}\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useI18n } from '../../i18n';\nimport { isDarkMode, isChineseLocale } from '../../java-api';\nimport {\n  DownloadProgress,\n  getFileType,\n  startDownloadAsync,\n  subscribeDownloadProgressEvent,\n} from '../../java-api/yiyang-install-window/yiyang-install-window-api';\n\nimport md_light from '../../assets/light/yiyang_install_md.png';\nimport md_light_en from '../../assets/light/yiyang_install_md_en.png';\nimport md_dark from '../../assets/dark/yiyang_install_md_dark.png';\nimport md_dark_en from '../../assets/dark/yiyang_install_md_dark_en.png';\nimport nbmx_light from '../../assets/light/yiyang_install_nbmx.png';\nimport nbmx_light_en from '../../assets/light/yiyang_install_nbmx_en.png';\nimport nbmx_dark from '../../assets/dark/yiyang_install_nbmx_dark.png';\nimport nbmx_dark_en from '../../assets/dark/yiyang_install_nbmx_dark_en.png';\nimport ngm_light from '../../assets/light/yiyang_install_ngm.png';\nimport ngm_light_en from '../../assets/light/yiyang_install_ngm_en.png';\nimport ngm_dark from '../../assets/dark/yiyang_install_ngm_dark.png';\nimport ngm_dark_en from '../../assets/dark/yiyang_install_ngm_dark_en.png';\nimport nol_light from '../../assets/light/yiyang_install_nol.png';\nimport nol_light_en from '../../assets/light/yiyang_install_nol_en.png';\nimport nol_dark from '../../assets/dark/yiyang_install_nol_dark.png';\nimport nol_dark_en from '../../assets/dark/yiyang_install_nol_dark_en.png';\n\nexport default function YiYangInstallWindow() {\n  const [downloadProgress, setDownloadProgress] = useState<DownloadProgress>();\n  const [status, setStatus] = useState<'' | 'downloading' | 'installing' | 'installFailed'>('');\n\n  const { $t } = useI18n();\n\n  const startDownload = useCallback(async () => {\n    setStatus('downloading');\n    const response = await startDownloadAsync();\n    switch (response.state) {\n      case 'success':\n        if (status !== 'installing') setStatus('installing');\n        break;\n      case 'failed':\n        setStatus('installFailed');\n        break;\n    }\n  }, [status]);\n\n  const banner = useMemo(() => {\n    const fileType = getFileType(); // \"ngm\", \"nol\", \"nbmx\", \"md\"\n    const dark = isDarkMode();\n    const isZhLocale = isChineseLocale();\n    if (isZhLocale) {\n      if (dark) {\n        switch (fileType) {\n          case 'ngm':\n            return ngm_dark;\n          case 'nol':\n            return nol_dark;\n          case 'nbmx':\n            return nbmx_dark;\n          case 'md':\n            return md_dark;\n        }\n      } else {\n        switch (fileType) {\n          case 'ngm':\n            return ngm_light;\n          case 'nol':\n            return nol_light;\n          case 'nbmx':\n            return nbmx_light;\n          case 'md':\n            return md_light;\n        }\n      }\n    } else {\n      if (dark) {\n        switch (fileType) {\n          case 'ngm':\n            return ngm_dark_en;\n          case 'nol':\n            return nol_dark_en;\n          case 'nbmx':\n            return nbmx_dark_en;\n          case 'md':\n            return md_dark_en;\n        }\n      } else {\n        switch (fileType) {\n          case 'ngm':\n            return ngm_light_en;\n          case 'nol':\n            return nol_light_en;\n          case 'nbmx':\n            return nbmx_light_en;\n          case 'md':\n            return md_light_en;\n        }\n      }\n    }\n  }, []);\n\n  const renderStatus = useCallback(() => {\n    switch (status) {\n      case '':\n        return (\n          <div className=\"buttons\">\n            <div className=\"install\" onClick={startDownload}>\n              {$t('yiyang.install.install')}\n            </div>\n          </div>\n        );\n      case 'downloading':\n        return (\n          <div className=\"install-status\">\n            <div className=\"download-progress\">\n              <div\n                className=\"progress-value\"\n                style={{ width: downloadProgress ? downloadProgress.progress + '%' : '0' }}\n              ></div>\n            </div>\n            <div className=\"status-text\">\n              {$t('yiyang.install.download').replace(\n                'd%',\n                downloadProgress ? downloadProgress.progress + '' : '0'\n              )}\n            </div>\n          </div>\n        );\n      case 'installing':\n        return (\n          <div className=\"install-status\">\n            <div className=\"installing\">\n              <div className=\"installing-bar\"></div>\n            </div>\n            <div className=\"status-text\">{$t('yiyang.install.installing')}</div>\n          </div>\n        );\n      case 'installFailed':\n        return (\n          <div className=\"install-status\">\n            <div className=\"status-text\">\n              {$t('yiyang.install.installFailed')}\n              <span onClick={startDownload}>{$t('yiyang.install.tryAgain')}</span>...\n            </div>\n          </div>\n        );\n    }\n  }, [status, $t, downloadProgress, startDownload]);\n\n  useEffect(() => {\n    const dispose = subscribeDownloadProgressEvent((progress) => {\n      setDownloadProgress(progress);\n      if (progress.progress > 99 && status === 'downloading') setStatus('installing');\n    });\n\n    return () => dispose();\n  }, [status]);\n\n  return (\n    <div className=\"yiyang-install-window\">\n      <div className=\"banner-img\">\n        <img src={banner} alt=\"\" />\n      </div>\n      {renderStatus()}\n    </div>\n  );\n}\n","import React from 'react';\nimport runApp from '../run-app';\nimport YiYangInstallWindow from './window';\n\nrunApp(<YiYangInstallWindow />, ['startDownload']);"],"sourceRoot":""}